
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17">
    
    
      
        <title>ud07 Laravel 2 RutasYVistas - Desarrollo Web en Entorno Servidor (DWES)</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.bcfcd587.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#rutas" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Desarrollo Web en Entorno Servidor (DWES)" class="md-header__button md-logo" aria-label="Desarrollo Web en Entorno Servidor (DWES)" data-md-component="logo">
      
  <img src="../../logo3.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Desarrollo Web en Entorno Servidor (DWES)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ud07 Laravel 2 RutasYVistas
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Canvia a mode oscur"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Canvia a mode oscur" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Canvia a mode normal"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Canvia a mode normal" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Desarrollo Web en Entorno Servidor (DWES)" class="md-nav__button md-logo" aria-label="Desarrollo Web en Entorno Servidor (DWES)" data-md-component="logo">
      
  <img src="../../logo3.png" alt="logo">

    </a>
    Desarrollo Web en Entorno Servidor (DWES)
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inicio
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud0101.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UD 1 Arquitectura Web
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../default/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UD 2 Lenguaje PHP
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../default/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UD 3 PHP Orientado a Objetos
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../default/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UD 4 Programación Web
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../default/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UD 5 Herramientas Web
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../default/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UD 6 Acceso a Base de Datos
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../default/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UD 7 Framework Laravel
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../default/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UD 8 Laravel avanzado
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#rutas-simples" class="md-nav__link">
    <span class="md-ellipsis">
      Rutas simples
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rutas-con-parametros" class="md-nav__link">
    <span class="md-ellipsis">
      Rutas con parámetros
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Rutas con parámetros">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#validacion-de-parametros" class="md-nav__link">
    <span class="md-ellipsis">
      Validación de parámetros
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rutas-con-nombre-o-named-routes" class="md-nav__link">
    <span class="md-ellipsis">
      Rutas con nombre o named routes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#combinacion-de-elementos-en-rutas" class="md-nav__link">
    <span class="md-ellipsis">
      Combinación de elementos en rutas
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#otros-metodos-de-route" class="md-nav__link">
    <span class="md-ellipsis">
      Otros métodos de Route
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<hr />
<p>unit: unidad didáctica 7
   title: Laravel - Rutas y Vistas
   language: ES
   author: Arturo Blasco
   subject: Desarrollo Web en Entorno Servidor
   keywords: [DWES, 2023, PHP, Laravel]
   IES: IES Mestre Ramón Esteve (Catadau) [iesmre.es]
   header: ${unit}: ${title} - ${subject} (versión: ${today})
   footer: ${currentFileName}.pdf - ${author} - ${IES} - ${pageNo}|${pageCount}
   typora-root-url:${filename}/../
   typora-copy-images-to:${filename}/../assets</p>
<hr />
<blockquote>
<p><strong>licencia</strong>:  el uso de estos materiales está sujeto a licencia Creative Commons <a href="https://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC</a>.</p>
<p><strong>material</strong>: extraído de https://nachoiborraies.github.io/laravel/</p>
</blockquote>
<div class="toc">
<ul>
<li><a href="#rutas">rutas</a><ul>
<li><a href="#rutas-simples">Rutas simples</a></li>
<li><a href="#rutas-con-parametros">Rutas con parámetros</a><ul>
<li><a href="#validacion-de-parametros">Validación de parámetros</a></li>
</ul>
</li>
<li><a href="#rutas-con-nombre-o-named-routes">Rutas con nombre o named routes</a></li>
<li><a href="#combinacion-de-elementos-en-rutas">Combinación de elementos en rutas</a></li>
<li><a href="#otros-metodos-de-route">Otros métodos de Route</a></li>
</ul>
</li>
<li><a href="#vistas">vistas</a><ul>
<li><a href="#pasar-valores-a-las-vistas">Pasar valores a las vistas</a></li>
<li><a href="#primeros-pasos-con-el-motor-de-plantillas-blade">Primeros pasos con el motor de plantillas Blade</a><ul>
<li><a href="#estructuras-de-control-de-flujo-en-blade">Estructuras de control de flujo en Blade</a></li>
<li><a href="#sobre-los-enlaces-a-otras-rutas">Sobre los enlaces a otras rutas</a></li>
<li><a href="#definir-plantillas-comunes">Definir plantillas comunes</a></li>
<li><a href="#incluir-vistas-dentro-de-otras">Incluir vistas dentro de otras</a></li>
<li><a href="#estructurar-vistas-en-carpetas">Estructurar vistas en carpetas</a></li>
<li><a href="#vistas-para-paginas-de-error">Vistas para páginas de error</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#estilos-y-javascript">estilos y Javascript</a><ul>
<li><a href="#infraestructura-para-archivos-css-y-javascript">Infraestructura para archivos CSS y JavaScript</a></li>
<li><a href="#generacion-automatica-de-css-y-javascript">Generación automática de CSS y JavaScript</a><ul>
<li><a href="#generacion-con-laravel-mix">Generación con Laravel mix</a></li>
<li><a href="#generacion-con-vite">Generación con Vite</a></li>
</ul>
</li>
<li><a href="#incluir-estilos-bootstrap">Incluir estilos Bootstrap</a></li>
</ul>
</li>
<li><a href="#bibliografia">bibliografia</a></li>
</ul>
</div>
<h1 id="rutas">rutas</h1>
<p>Las rutas (<strong><em>routes</em></strong>) son un mecanismo que permite a Laravel establecer qué respuesta enviar a una petición que intenta acceder a una determinada URL. Estas rutas se especifican en diferentes archivos dentro de la carpeta <strong><code>routes</code></strong> de nuestro proyecto Laravel.</p>
<p>Podríamos decir que existen dos tipos principales de rutas:</p>
<ul>
<li>Las rutas <strong>web</strong> (almacenadas en el archivo <strong><code>routes/web.php</code></strong> de la aplicación), que nos permitirán cargar distintas vistas en función de la URL que indique el cliente.</li>
<li>Las rutas <strong>API</strong> (almacenadas en el archivo <strong><code>routes/api.php</code></strong>), a través de las cuales definiremos distintos servicios REST, como veremos también más adelante.</li>
</ul>
<p>Nos vamos a centrar durante esta sesión en el primer grupo, por lo que editaremos el contenido del archivo <strong><code>routes/web.php</code></strong>. Estas rutas son las más habituales, y se utilizan para recuperar contenidos típicamente en formato HTML. Inicialmente ya existe una ruta predefinida hacia la raíz del proyecto, que carga la página de bienvenida al mismo:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span>
<span class="normal"><a href="#__codelineno-0-4">4</a></span>
<span class="normal"><a href="#__codelineno-0-5">5</a></span>
<span class="normal"><a href="#__codelineno-0-6">6</a></span>
<span class="normal"><a href="#__codelineno-0-7">7</a></span>
<span class="normal"><a href="#__codelineno-0-8">8</a></span>
<span class="normal"><a href="#__codelineno-0-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="cp">&lt;?php</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Route</span><span class="p">;</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="c1">// Ruta por defecto para cargar la vista welcome (sin extensión .blade.php)</span>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="c1">// cuando el usuario introduce simplemente el dominio</span>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a>    <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">&#39;welcome&#39;</span><span class="p">);</span>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="p">});</span>
</code></pre></div></td></tr></table></div>
<p>Para definir una ruta en Laravel, se hace una llamada a un método estático de la clase <code>Route</code> (en el ejemplo anterior, al método <code>Route::get</code>). Como primer parámetro, especificaremos la URL de la ruta (la ruta raíz, en el ejemplo anterior), y como segundo parámetro, la función que se va a ejecutar (<em>callback</em> o <em>closure</em>) cuando algún cliente haga una petición a esa ruta.</p>
<blockquote>
<p><strong>closure <em>VS</em> controlador</strong>: Se puede definir en el segundo parámetro del método <code>Route::get</code> un <em>closure</em> o un <em>controlador</em> (veremos este segundo caso más adelante).</p>
<p>Por ejemplo:</p>
<p><div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="x">Route::get(&#39;/libros&#39;, [LibroController::class, &#39;index&#39;]) -&gt; name(&#39;libros&#39;);</span>
</code></pre></div></td></tr></table></div>
</p>
</blockquote>
<h2 id="rutas-simples">Rutas simples</h2>
<p>Las rutas simples tienen un nombre de ruta fijo, y una función que responde a dicho nombre emitiendo una respuesta. Un ejemplo es la ruta raíz que viene por defecto en nuestro proyecto. Podríamos definir otra ruta a continuación de esa, mediante la cual, si accedemos a la URL <em><a href="#">http://biblioteca/fecha</a></em> nos muestre la fecha y hora actuales:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span>
<span class="normal"><a href="#__codelineno-2-2">2</a></span>
<span class="normal"><a href="#__codelineno-2-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="x">Route::get(&#39;fecha&#39;, function() {</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="x">    return date(&quot;d/m/y h:i:s&quot;);</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="x">});</span>
</code></pre></div></td></tr></table></div>
<p>Si ponemos en marcha el servidor y accedemos a esa URL (o a <em><a href="#">http://127.0.0.1:8000/fecha</a></em> si hemos lanzado la aplicación con <strong><code>php artisan serve</code></strong>), podremos ver esa fecha y hora actual.</p>
<blockquote>
<p>realizar <strong>ejercicio 1</strong>.</p>
</blockquote>
<h2 id="rutas-con-parametros">Rutas con parámetros</h2>
<p>Es también posible pasar <strong>parámetros en la URL</strong> de la ruta. Para ello, incluimos el nombre del parámetro entre llaves, y lo pasamos también a la función del segundo parámetro. Por ejemplo, si definimos una ruta para saludar al nombre que nos llega como parámetro, el código quedaría así:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span>
<span class="normal"><a href="#__codelineno-3-2">2</a></span>
<span class="normal"><a href="#__codelineno-3-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="x">Route::get(&#39;saludo/{nombre}&#39;, function($nombre) {</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="x">    return &quot;Hola, &quot; . $nombre;</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="x">});</span>
</code></pre></div></td></tr></table></div>
<p>En este caso, si el parámetro es obligatorio y no lo indicamos en la URL, nos redirigirá a una página de <code>error 404</code>. Para indicar que un parámetro no es obligatorio, se termina su nombre con un interrogante <code>?</code>, y también conviene darle un valor por defecto en la función PHP de respuesta. Así modificaríamos la ruta anterior para que el nombre del usuario sea opcional y, en caso de no ponerlo, se le asigne el nombre “Invitado”:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span>
<span class="normal"><a href="#__codelineno-4-2">2</a></span>
<span class="normal"><a href="#__codelineno-4-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="x">Route::get(&#39;saludo/{nombre?}&#39;, function($nombre = &quot;Invitado&quot;) {</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="x">    return &quot;Hola, &quot; . $nombre;</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="x">});</span>
</code></pre></div></td></tr></table></div>
<h3 id="validacion-de-parametros">Validación de parámetros</h3>
<p>Algunos parámetros será preciso que sigan un determinado patrón. Por ejemplo, un identificador numérico sólo contendrá dígitos. Para asegurarnos de eso, podemos emplear el método <code>where</code> al definir la ruta. A este método le pasamos dos parámetros: el nombre del parámetro a validar, y la expresión regular que tiene que cumplir. En el caso del nombre anterior, si queremos que sólo contenga letras (mayúsculas o minúsculas), podemos hacer algo así:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span>
<span class="normal"><a href="#__codelineno-5-2">2</a></span>
<span class="normal"><a href="#__codelineno-5-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="x">Route::get(&#39;saludo/{nombre?}&#39;, function($nombre = &quot;Invitado&quot;) {</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="x">    return &quot;Hola, &quot; . $nombre;</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="x">}) -&gt; where(&#39;nombre&#39;, &quot;[A-Za-z]+&quot;);</span>
</code></pre></div></td></tr></table></div>
<p>En caso de que la ruta no cumpla el patrón, se obtendrá una página de error. Más adelante se explicará cómo podemos personalizar estas páginas de error.</p>
<blockquote>
<p>realizar <strong>ejercicio 2</strong>.</p>
</blockquote>
<h2 id="rutas-con-nombre-o-named-routes">Rutas con nombre o <em>named routes</em></h2>
<p>En ocasiones puede ser conveniente asociar un nombre a una ruta. Especialmente, cuando esa ruta va a formar parte de un enlace en alguna página de nuestro sitio, ya que en un futuro la ruta podría cambiar, y de este modo evitamos tener que actualizar los enlaces con el nuevo nombre.</p>
<p>Para ello, al definir la ruta, le asociamos con la función <code>name</code> el nombre que queramos. Por ejemplo:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span>
<span class="normal"><a href="#__codelineno-6-2">2</a></span>
<span class="normal"><a href="#__codelineno-6-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="x">Route::get(&#39;contacto&#39;, function() {</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="x">    return &quot;Página de contacto&quot;;</span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="x">}) -&gt; name(&#39;ruta_contacto&#39;);</span>
</code></pre></div></td></tr></table></div>
<p>Ahora, si queremos definir un enlace a esta ruta en cualquier parte, basta con emplear la función <code>route</code> de Laravel, indicando el nombre que le hemos asignado a esta ruta. Por lo tanto, en lugar de poner esto:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="x">echo &#39;&lt;a href=&quot;/contacto&quot;&gt;Contacto&lt;/a&gt;&#39;;</span>
</code></pre></div></td></tr></table></div>
<p>Podemos hacer algo como esto otro, tal y como veremos más adelante cuando definamos nuestras vistas:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="x">&lt;a href=&quot;{{ route(&#39;ruta_contacto&#39;) }}&quot;&gt;Contacto&lt;/a&gt;</span>
</code></pre></div></td></tr></table></div>
<p>De este modo, ante futuros cambios en las rutas, sólo deberemos cambiar la URL en el correspondiente <code>Route::get</code> de <code>routes/web.php</code>.</p>
<h2 id="combinacion-de-elementos-en-rutas">Combinación de elementos en rutas</h2>
<p>Podemos combinar varias cláusulas <code>where</code> en una ruta para validar distintos parámetros que pueda tener, y también enlazar estas llamadas con una a la función <code>name</code> para nombrar la ruta. Por ejemplo, la siguiente ruta espera recibir un nombre con caracteres, y un <em>id</em> numérico, ambos con valores por defecto:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span>
<span class="normal"><a href="#__codelineno-9-2">2</a></span>
<span class="normal"><a href="#__codelineno-9-3">3</a></span>
<span class="normal"><a href="#__codelineno-9-4">4</a></span>
<span class="normal"><a href="#__codelineno-9-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="x">Route::get(&#39;saludo/{nombre?}/{id?}&#39;, function($nombre=&quot;Invitado&quot;, $id=0) {</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="x">    return &quot;Hola $nombre, tu código es el $id&quot;;</span>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="x">}) -&gt; where(&#39;nombre&#39;, &quot;[A-Za-z]+&quot;)</span>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="x">   -&gt; where(&#39;id&#39;, &quot;[0-9]+&quot;)</span>
<a id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="x">   -&gt; name(&#39;saludo&#39;);</span>
</code></pre></div></td></tr></table></div>
<p>Si accedemos a cada una de las siguientes URLs, obtendremos cada una de las respuestas indicadas:</p>
<table>
<thead>
<tr>
<th>URL</th>
<th>Respuesta</th>
</tr>
</thead>
<tbody>
<tr>
<td>/saludo</td>
<td><em>Hola Invitado, tu código es el 0</em></td>
</tr>
<tr>
<td>/saludo/Nacho</td>
<td><em>Hola Nacho, tu código es el 0</em></td>
</tr>
<tr>
<td>/saludo/Nacho/3</td>
<td><em>Hola Nacho, tu código es el 3</em></td>
</tr>
<tr>
<td>/saludo/3</td>
<td>Error 404 (URL incorrecta)</td>
</tr>
</tbody>
</table>
<p>Notar que el último caso es incorrecto. No podemos especificar un <em>id</em> sin haber especificado un nombre delante, porque incumple el patrón de la URL. Se puede dejar un parámetro omitido, siempre y cuando los posteriores también lo estén.</p>
<h2 id="otros-metodos-de-route">Otros métodos de <em>Route</em></h2>
<p>Además de utilizar el método <code>get</code>, desde la clase <code>Route</code> también podemos acceder a otros métodos estáticos útiles, como <code>Route::post</code> (útil para recoger datos de formularios, por ejemplo), o también <code>Route::put</code>, <code>Route::delete</code>… Los veremos con más detalle en secciones posteriores.</p>
<h1 id="vistas">vistas</h1>
<p>Hasta ahora las rutas que hemos definido devuelven un texto simple, salvo la que ya estaba creada por defecto en el proyecto, que apuntaba a la página de inicio. Si quisiéramos devolver contenido HTML, una opción (costosa) sería devolver dicho contenido generado desde el propio método de la ruta, a través de la instrucción <code>return</code>, pero en lugar de hacer esto desde dentro de la propia función de respuesta, lo más habitual (y recomendable) es generar una <strong>vista</strong> con el contenido HTML que se quiere enviar al cliente.</p>
<p>La forma general de mostrar vistas en Laravel es hacer que las rutas devuelvan (<code>return</code>) una determinada vista. Para ello, se puede emplear la función <code>view</code> de Laravel, indicando el nombre de la vista a generar o mostrar.</p>
<p>Por defecto, en la carpeta <strong><code>resources/views</code></strong> tenemos disponible una vista de ejemplo llamada <code>welcome.blade.php</code>. Es la que se utiliza como página de inicio en la ruta raíz en <strong><code>routes/web.php</code></strong>:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span>
<span class="normal"><a href="#__codelineno-10-2">2</a></span>
<span class="normal"><a href="#__codelineno-10-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="x">Route::get(&#39;/&#39;, function() {</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="x">    return view(&#39;welcome&#39;);</span>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="x">});</span>
</code></pre></div></td></tr></table></div>
<p>A través de las plantillas de Laravel vamos a escribir <strong>menos código</strong> PHP y vamos a tener nuestros archivos <strong>mejor organizados</strong>.</p>
<p><strong>Blade</strong> es el sistema de plantillas que trae Laravel, por eso los archivos de plantillas que guardamos en el directorio de <code>views</code> llevan la extensión <code>blade.php</code>.</p>
<p>De esta manera sabemos inmediatamente que se trata de una plantilla de Laravel y que forma parte de una vista que se mostrará en el navegador.</p>
<blockquote>
<p><strong>nota</strong>: no es necesario indicar el <em>path</em> o ruta hacia el archivo de la vista, ni tampoco la extensión, puesto que Laravel asume que por defecto las vistas se encuentran en la carpeta <strong><code>resources/views</code></strong>, con la extensión <code>.blade.php</code> (que hace referencia al motor de plantillas Blade que veremos a continuación), o simplemente con extensión <code>.php</code> (en el caso de vistas simples que no utilicen Blade).</p>
</blockquote>
<p>Podemos, por ejemplo, crear una vista sencilla dentro de esta carpeta de vistas (llamémosla <code>inicio.blade.php</code>), con un contenido HTML básico:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1">1</a></span>
<span class="normal"><a href="#__codelineno-11-2">2</a></span>
<span class="normal"><a href="#__codelineno-11-3">3</a></span>
<span class="normal"><a href="#__codelineno-11-4">4</a></span>
<span class="normal"><a href="#__codelineno-11-5">5</a></span>
<span class="normal"><a href="#__codelineno-11-6">6</a></span>
<span class="normal"><a href="#__codelineno-11-7">7</a></span>
<span class="normal"><a href="#__codelineno-11-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a>&lt;html&gt;
<a id="__codelineno-11-2" name="__codelineno-11-2"></a>    &lt;head&gt;
<a id="__codelineno-11-3" name="__codelineno-11-3"></a>        &lt;title&gt;Inicio&lt;/title&gt;
<a id="__codelineno-11-4" name="__codelineno-11-4"></a>    &lt;/head&gt;
<a id="__codelineno-11-5" name="__codelineno-11-5"></a>    &lt;body&gt;
<a id="__codelineno-11-6" name="__codelineno-11-6"></a>        &lt;h1&gt;Página de inicio&lt;/h1&gt;
<a id="__codelineno-11-7" name="__codelineno-11-7"></a>    &lt;/body&gt;
<a id="__codelineno-11-8" name="__codelineno-11-8"></a>&lt;/html&gt;
</code></pre></div></td></tr></table></div>
<p>Y podemos utilizar esta vista como página de inicio:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1">1</a></span>
<span class="normal"><a href="#__codelineno-12-2">2</a></span>
<span class="normal"><a href="#__codelineno-12-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="x">Route::get(&#39;/&#39;, function() {</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="x">    return view(&#39;inicio&#39;);</span>
<a id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="x">});</span>
</code></pre></div></td></tr></table></div>
<h2 id="pasar-valores-a-las-vistas">Pasar valores a las vistas</h2>
<p>Es muy habitual pasar cierta información a ciertas vistas, como por ejemplo, listados de datos a mostrar, o datos de un elemento en concreto. Por ejemplo, si queremos dar un mensaje de bienvenida a un nombre (supuestamente variable), debemos almacenar el nombre en una variable en la ruta, y pasárselo a la vista al cargarla. Esto puede hacerse, por ejemplo, con el método <code>with</code> tras generar la vista, indicando el nombre con que lo vamos a asociar a la vista, y el valor (variable) asociado a dicho nombre. En nuestro caso quedaría así:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1">1</a></span>
<span class="normal"><a href="#__codelineno-13-2">2</a></span>
<span class="normal"><a href="#__codelineno-13-3">3</a></span>
<span class="normal"><a href="#__codelineno-13-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="x">Route::get(&#39;/&#39;, function() {</span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="x">    $nombre = &quot;Nacho&quot;;</span>
<a id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="x">    return view(&#39;inicio&#39;)-&gt;with(&#39;nombre&#39;, $nombre);</span>
<a id="__codelineno-13-4" name="__codelineno-13-4"></a><span class="x">});</span>
</code></pre></div></td></tr></table></div>
<p>Posteriormente, en la vista, deberemos mostrar el valor de esta variable en algún lugar del código HTML. Podemos emplear PHP tradicional para recoger esta variable:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1">1</a></span>
<span class="normal"><a href="#__codelineno-14-2">2</a></span>
<span class="normal"><a href="#__codelineno-14-3">3</a></span>
<span class="normal"><a href="#__codelineno-14-4">4</a></span>
<span class="normal"><a href="#__codelineno-14-5">5</a></span>
<span class="normal"><a href="#__codelineno-14-6">6</a></span>
<span class="normal"><a href="#__codelineno-14-7">7</a></span>
<span class="normal"><a href="#__codelineno-14-8">8</a></span>
<span class="normal"><a href="#__codelineno-14-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a>&lt;html&gt;
<a id="__codelineno-14-2" name="__codelineno-14-2"></a>    &lt;head&gt;
<a id="__codelineno-14-3" name="__codelineno-14-3"></a>        &lt;title&gt;Inicio&lt;/title&gt;
<a id="__codelineno-14-4" name="__codelineno-14-4"></a>    &lt;/head&gt;
<a id="__codelineno-14-5" name="__codelineno-14-5"></a>    &lt;body&gt;
<a id="__codelineno-14-6" name="__codelineno-14-6"></a>        &lt;h1&gt;Página de inicio&lt;/h1&gt;
<a id="__codelineno-14-7" name="__codelineno-14-7"></a>        &lt;p&gt;Bienvenido/a &lt;?php echo $nombre; ?&gt;&lt;/p&gt;
<a id="__codelineno-14-8" name="__codelineno-14-8"></a>    &lt;/body&gt;
<a id="__codelineno-14-9" name="__codelineno-14-9"></a>&lt;/html&gt;
</code></pre></div></td></tr></table></div>
<p>Pero es más habitual y limpio emplear una sintaxis específica de Blade, como veremos a continuación.</p>
<p>Como alternativas al uso de <code>with</code> comentado antes, también podemos utilizar un array asociativo (asignando así varios nombres a varios valores):</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="x">return view(&#39;inicio&#39;)-&gt;with([&#39;nombre&#39; =&gt; $nombre, ...]);</span>
</code></pre></div></td></tr></table></div>
<p>Asimismo, podemos utilizar este mismo array como segundo parámetro de la función <code>view</code>, y prescindir así de <code>with</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="x">return view(&#39;inicio&#39;, [&#39;nombre&#39; =&gt; $nombre, ...]);</span>
</code></pre></div></td></tr></table></div>
<p>Y también podemos utilizar una función llamada <code>compact</code> como segundo parámetro de <code>view</code>. A esta función le pasamos únicamente el nombre de la variable que usaremos en la vista y, siempre que la variable asociada se llame igual, establece la asociación por nosotros:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="x">return view(&#39;inicio&#39;, compact(&#39;nombre&#39;));</span>
</code></pre></div></td></tr></table></div>
<p>La función <code>compact</code> admite tantos parámetros como datos queramos enviar a la vista por separado, cada uno con su nombre asociado.</p>
<p>Si simplemente vamos a devolver una vista con poca información asociada, o poca lógica interna, también podemos abreviar el código anterior llamando directamente a <code>view</code>, en lugar de a <code>get</code> primero, en el archivo <code>routes/web.php</code>, y le pasamos así la información asociada a la vista:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="x">Route::view(&#39;/&#39;, &#39;inicio&#39;, [&#39;nombre&#39; =&gt; &#39;Nacho&#39;]);</span>
</code></pre></div></td></tr></table></div>
<h2 id="primeros-pasos-con-el-motor-de-plantillas-blade">Primeros pasos con el motor de plantillas Blade</h2>
<p>Hemos comentado en el apartado anterior que el uso de Blade permite simplificar la sintaxis y la forma de procesar algunas cosas en nuestras vistas. Siempre que creemos el archivo de la vista con la extensión <code>.blade.php</code>, nos permitirá automáticamente aprovechar la sintaxis y funcionalidades de Blade en nuestras vistas.</p>
<p>Por ejemplo, si queremos mostrar el contenido de la variable <code>nombre</code> que hemos pasado antes a la página de inicio, en lugar de hacer un rudimentario <code>echo</code> en PHP, podemos emplear una sintaxis de dobles llaves, facilitada por Blade, para mostrar el contenido de esa variable. Con esto la línea que mostraba el nombre pasa de ser así…</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="x">Bienvenido/a </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$nombre</span> <span class="cp">?&gt;</span>
</code></pre></div></td></tr></table></div>
<p>… a ser así:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-20-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a><span class="x">Bienvenido/a {{ $nombre }}</span>
</code></pre></div></td></tr></table></div>
<blockquote>
<p><strong>nota</strong>: Cada vez que se renderiza una vista en Laravel, se almacena el contenido PHP generado en <code>storage/framework/views</code>, y sólo se vuelve a re-generar ante un cambio en la vista, con lo que volver a llamar a una vista ya renderizada no afecta al rendimiento de la aplicación. Si echamos un vistazo a la vista generada con PHP plano y con Blade, veremos que hay una sutil diferencia entre ambas, y es que con Blade, en lugar de hacer un simple <code>echo</code> para mostrar el valor de la variable, se utiliza una función intermedia llamada <code>e</code>, que evita ataques XSS (<em>Cross Site Scripting</em>), es decir, que se inyecten <em>scripts</em> de JavaScript con la variable a mostrar. En otras palabras, el código no se interpreta, y se muestra tal cual. En algunos casos (especialmente cuando generamos contenido HTML desde dentro de la expresión Blade) nos puede interesar que no proteja contra estas inyecciones de código. En ese caso, se sustituye la segunda llave por una doble exclamación:</p>
</blockquote>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="x">Bienvenido/a {!! $nombre !!}</span>
</code></pre></div></td></tr></table></div>
<p>Además de esta sintaxis básica para mostrar datos de variables en un lugar determinado de la vista, existen ciertas directivas en Blade que nos permiten realizar comprobaciones o repeticiones.</p>
<h3 id="estructuras-de-control-de-flujo-en-blade">Estructuras de control de flujo en Blade</h3>
<p>Para iterar sobre un conjunto de datos (array), podemos emplear la directiva <code>@foreach</code>, con una sintaxis similar al <em>foreach</em> de PHP, pero sin necesidad de llaves. Basta con finalizar el bucle con la directiva <code>@endforeach</code>, de este modo:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1">1</a></span>
<span class="normal"><a href="#__codelineno-22-2">2</a></span>
<span class="normal"><a href="#__codelineno-22-3">3</a></span>
<span class="normal"><a href="#__codelineno-22-4">4</a></span>
<span class="normal"><a href="#__codelineno-22-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="x">&lt;ul&gt;</span>
<a id="__codelineno-22-2" name="__codelineno-22-2"></a><span class="x">    @foreach($elementos as $elemento)</span>
<a id="__codelineno-22-3" name="__codelineno-22-3"></a><span class="x">        &lt;li&gt;{{ $elemento }}&lt;/li&gt;</span>
<a id="__codelineno-22-4" name="__codelineno-22-4"></a><span class="x">    @endforeach</span>
<a id="__codelineno-22-5" name="__codelineno-22-5"></a><span class="x">&lt;/ul&gt;</span>
</code></pre></div></td></tr></table></div>
<p>En el caso de querer realizar alguna comprobación (por ejemplo, si el array anterior está vacío, para mostrar un mensaje pertinente), usamos la directiva <code>@if</code>, cerrada por su correspondiente pareja <code>@endif</code>. Opcionalmente, se puede intercalar una directiva <code>@else</code> para el camino alternativo, o también <code>@elseif</code> para indicar otra condición. El ejemplo anterior podría quedar así:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-23-1">1</a></span>
<span class="normal"><a href="#__codelineno-23-2">2</a></span>
<span class="normal"><a href="#__codelineno-23-3">3</a></span>
<span class="normal"><a href="#__codelineno-23-4">4</a></span>
<span class="normal"><a href="#__codelineno-23-5">5</a></span>
<span class="normal"><a href="#__codelineno-23-6">6</a></span>
<span class="normal"><a href="#__codelineno-23-7">7</a></span>
<span class="normal"><a href="#__codelineno-23-8">8</a></span>
<span class="normal"><a href="#__codelineno-23-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="x">&lt;ul&gt;</span>
<a id="__codelineno-23-2" name="__codelineno-23-2"></a><span class="x">    @if($elementos)</span>
<a id="__codelineno-23-3" name="__codelineno-23-3"></a><span class="x">        @foreach($elementos as $elemento)</span>
<a id="__codelineno-23-4" name="__codelineno-23-4"></a><span class="x">            &lt;li&gt;{{ $elemento }}&lt;/li&gt;</span>
<a id="__codelineno-23-5" name="__codelineno-23-5"></a><span class="x">        @endforeach</span>
<a id="__codelineno-23-6" name="__codelineno-23-6"></a><span class="x">    @else</span>
<a id="__codelineno-23-7" name="__codelineno-23-7"></a><span class="x">        &lt;li&gt;No hay elementos que mostrar&lt;/li&gt;</span>
<a id="__codelineno-23-8" name="__codelineno-23-8"></a><span class="x">    @endif</span>
<a id="__codelineno-23-9" name="__codelineno-23-9"></a><span class="x">&lt;/ul&gt;</span>
</code></pre></div></td></tr></table></div>
<p>También podemos comprobar si una variable está definida. En este caso, reemplazamos la directiva <code>@if</code> por <code>@isset</code>, con su correspondiente cierre <code>@endisset</code>.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-24-1">1</a></span>
<span class="normal"><a href="#__codelineno-24-2">2</a></span>
<span class="normal"><a href="#__codelineno-24-3">3</a></span>
<span class="normal"><a href="#__codelineno-24-4">4</a></span>
<span class="normal"><a href="#__codelineno-24-5">5</a></span>
<span class="normal"><a href="#__codelineno-24-6">6</a></span>
<span class="normal"><a href="#__codelineno-24-7">7</a></span>
<span class="normal"><a href="#__codelineno-24-8">8</a></span>
<span class="normal"><a href="#__codelineno-24-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1"></a><span class="x">&lt;ul&gt;</span>
<a id="__codelineno-24-2" name="__codelineno-24-2"></a><span class="x">    @isset($elementos)</span>
<a id="__codelineno-24-3" name="__codelineno-24-3"></a><span class="x">        @foreach($elementos as $elemento)</span>
<a id="__codelineno-24-4" name="__codelineno-24-4"></a><span class="x">            &lt;li&gt;{{ $elemento }}&lt;/li&gt;</span>
<a id="__codelineno-24-5" name="__codelineno-24-5"></a><span class="x">        @endforeach</span>
<a id="__codelineno-24-6" name="__codelineno-24-6"></a><span class="x">    @else</span>
<a id="__codelineno-24-7" name="__codelineno-24-7"></a><span class="x">        &lt;li&gt;No hay elementos que mostrar&lt;/li&gt;</span>
<a id="__codelineno-24-8" name="__codelineno-24-8"></a><span class="x">    @endisset</span>
<a id="__codelineno-24-9" name="__codelineno-24-9"></a><span class="x">&lt;/ul&gt;</span>
</code></pre></div></td></tr></table></div>
<p>Sin embargo, con cualquiera de estas opciones tenemos un problema: en el primer caso, si la variable <code>$elementos</code> no está definida, mostrará un error de PHP. En el segundo caso, si la variable sí está definida pero no contiene elementos, no se mostrará nada por pantalla. Una tercera estructura alternativa que agrupa estos dos casos (controlar a la vez que la variable esté definida y tenga elementos) es emplear la directiva <code>@forelse</code> en lugar de <code>@foreach</code>. Esta directiva permite una cláusula adicional <code>@empty</code> para indicar qué hacer si la colección no tiene elementos o está sin definir. El ejemplo anterior quedaría ahora así de abreviado:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-25-1">1</a></span>
<span class="normal"><a href="#__codelineno-25-2">2</a></span>
<span class="normal"><a href="#__codelineno-25-3">3</a></span>
<span class="normal"><a href="#__codelineno-25-4">4</a></span>
<span class="normal"><a href="#__codelineno-25-5">5</a></span>
<span class="normal"><a href="#__codelineno-25-6">6</a></span>
<span class="normal"><a href="#__codelineno-25-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1"></a><span class="x">&lt;ul&gt;</span>
<a id="__codelineno-25-2" name="__codelineno-25-2"></a><span class="x">    @forelse($elementos as $elemento)</span>
<a id="__codelineno-25-3" name="__codelineno-25-3"></a><span class="x">        &lt;li&gt;{{ $elemento }}&lt;/li&gt;</span>
<a id="__codelineno-25-4" name="__codelineno-25-4"></a><span class="x">    @empty</span>
<a id="__codelineno-25-5" name="__codelineno-25-5"></a><span class="x">        &lt;li&gt;No hay elementos que mostrar&lt;/li&gt;</span>
<a id="__codelineno-25-6" name="__codelineno-25-6"></a><span class="x">    @endforelse</span>
<a id="__codelineno-25-7" name="__codelineno-25-7"></a><span class="x">&lt;/ul&gt;</span>
</code></pre></div></td></tr></table></div>
<p>En este tipo de iteradores (<code>@foreach</code> o <code>@forelse</code>), tenemos disponible un objeto llamado <code>$loop</code>, con una serie de propiedades sobre el bucle que estamos iterando, como por ejemplo:</p>
<ul>
<li><code>index</code>: posición dentro del array por la que vamos.</li>
<li><code>count</code>: total de elementos.</li>
<li><code>first</code> y <code>last</code>: booleanos que determinan si es el primer o último elemento, respectivamente.</li>
<li><em>otras</em></li>
</ul>
<p>Podemos ver todas las propiedades disponibles en este objeto llamando a <code>var_dump</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-26-1">1</a></span>
<span class="normal"><a href="#__codelineno-26-2">2</a></span>
<span class="normal"><a href="#__codelineno-26-3">3</a></span>
<span class="normal"><a href="#__codelineno-26-4">4</a></span>
<span class="normal"><a href="#__codelineno-26-5">5</a></span>
<span class="normal"><a href="#__codelineno-26-6">6</a></span>
<span class="normal"><a href="#__codelineno-26-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1"></a><span class="x">&lt;ul&gt;</span>
<a id="__codelineno-26-2" name="__codelineno-26-2"></a><span class="x">    @forelse($elementos as $elemento)</span>
<a id="__codelineno-26-3" name="__codelineno-26-3"></a><span class="x">        &lt;li&gt;{{ $elemento }} {{ var_dump($loop) }} &lt;/li&gt;</span>
<a id="__codelineno-26-4" name="__codelineno-26-4"></a><span class="x">    @empty</span>
<a id="__codelineno-26-5" name="__codelineno-26-5"></a><span class="x">        &lt;li&gt;No hay elementos que mostrar&lt;/li&gt;</span>
<a id="__codelineno-26-6" name="__codelineno-26-6"></a><span class="x">    @endforelse</span>
<a id="__codelineno-26-7" name="__codelineno-26-7"></a><span class="x">&lt;/ul&gt;</span>
</code></pre></div></td></tr></table></div>
<p>Si, por ejemplo, queremos determinar si es el último elemento de la lista, y mostrar un mensaje o estilo especial, podemos hacer algo como esto:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-27-1">1</a></span>
<span class="normal"><a href="#__codelineno-27-2">2</a></span>
<span class="normal"><a href="#__codelineno-27-3">3</a></span>
<span class="normal"><a href="#__codelineno-27-4">4</a></span>
<span class="normal"><a href="#__codelineno-27-5">5</a></span>
<span class="normal"><a href="#__codelineno-27-6">6</a></span>
<span class="normal"><a href="#__codelineno-27-7">7</a></span>
<span class="normal"><a href="#__codelineno-27-8">8</a></span>
<span class="normal"><a href="#__codelineno-27-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1"></a><span class="x">&lt;ul&gt;</span>
<a id="__codelineno-27-2" name="__codelineno-27-2"></a><span class="x">    @forelse($elementos as $elemento)</span>
<a id="__codelineno-27-3" name="__codelineno-27-3"></a><span class="x">        &lt;li&gt;{{ $elemento }} </span>
<a id="__codelineno-27-4" name="__codelineno-27-4"></a><span class="x">            {{ $loop-&gt;last ? &quot;Ultimo elemento&quot; : &quot;&quot; }} </span>
<a id="__codelineno-27-5" name="__codelineno-27-5"></a><span class="x">        &lt;/li&gt;</span>
<a id="__codelineno-27-6" name="__codelineno-27-6"></a><span class="x">    @empty</span>
<a id="__codelineno-27-7" name="__codelineno-27-7"></a><span class="x">        &lt;li&gt;No hay elementos que mostrar&lt;/li&gt;</span>
<a id="__codelineno-27-8" name="__codelineno-27-8"></a><span class="x">    @endforelse</span>
<a id="__codelineno-27-9" name="__codelineno-27-9"></a><span class="x">&lt;/ul&gt;</span>
</code></pre></div></td></tr></table></div>
<p>Existen otros tipos de estructuras iterativas y selectivas en Blade, como <code>@while</code>, <code>@for</code> o <code>@switch</code>, entre otras. Podéis consultar sobre su uso en la <a href="https://laravel.com/docs/blade#control-structures">documentación oficial de Blade</a>.</p>
<p>Vamos a aplicar esto en nuestro ejemplo del proyecto <em>biblioteca</em>. Definiremos una ruta para sacar un listado de libros y, de momento, vamos a crear a mano dicho listado en el propio método de enrutamiento, y se lo pasaremos a una vista llamada <code>listado.blade.php</code>. Por un lado, la nueva ruta para el listado puede quedar así:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-28-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-28-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-28-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-28-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-28-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-28-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-28-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-28-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-28-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-28-10">10</a></span>
<span class="normal"><a href="#__codelineno-28-11">11</a></span>
<span class="normal"><a href="#__codelineno-28-12">12</a></span>
<span class="normal"><a href="#__codelineno-28-13">13</a></span>
<span class="normal"><a href="#__codelineno-28-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1"></a><span class="x">Route::get(&#39;/listado&#39;, function() {</span>
<a id="__codelineno-28-2" name="__codelineno-28-2"></a><span class="x">    $libros = array(</span>
<a id="__codelineno-28-3" name="__codelineno-28-3"></a><span class="x">        array(&quot;titulo&quot; =&gt; &quot;El juego de Ender&quot;, </span>
<a id="__codelineno-28-4" name="__codelineno-28-4"></a><span class="x">              &quot;autor&quot; =&gt; &quot;Orson Scott Card&quot;),</span>
<a id="__codelineno-28-5" name="__codelineno-28-5"></a><span class="x">        array(&quot;titulo&quot; =&gt; &quot;La tabla de Flandes&quot;, </span>
<a id="__codelineno-28-6" name="__codelineno-28-6"></a><span class="x">              &quot;autor&quot; =&gt; &quot;Arturo Pérez Reverte&quot;),</span>
<a id="__codelineno-28-7" name="__codelineno-28-7"></a><span class="x">        array(&quot;titulo&quot; =&gt; &quot;La historia interminable&quot;, </span>
<a id="__codelineno-28-8" name="__codelineno-28-8"></a><span class="x">              &quot;autor&quot; =&gt; &quot;Michael Ende&quot;),</span>
<a id="__codelineno-28-9" name="__codelineno-28-9"></a><span class="x">        array(&quot;titulo&quot; =&gt; &quot;El Señor de los Anillos&quot;, </span>
<a id="__codelineno-28-10" name="__codelineno-28-10"></a><span class="x">              &quot;autor&quot; =&gt; &quot;J.R.R. Tolkien&quot;)</span>
<a id="__codelineno-28-11" name="__codelineno-28-11"></a><span class="x">    );</span>
<a id="__codelineno-28-12" name="__codelineno-28-12"></a>
<a id="__codelineno-28-13" name="__codelineno-28-13"></a><span class="x">    return view(&#39;listado&#39;, compact(&#39;libros&#39;));</span>
<a id="__codelineno-28-14" name="__codelineno-28-14"></a><span class="x">})-&gt;name(&#39;listado_libros&#39;);</span>
</code></pre></div></td></tr></table></div>
<p>Por su parte, la vista <code>listado.blade.php</code> puede quedar así:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-29-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-29-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-29-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-29-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-29-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-29-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-29-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-29-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-29-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-29-10">10</a></span>
<span class="normal"><a href="#__codelineno-29-11">11</a></span>
<span class="normal"><a href="#__codelineno-29-12">12</a></span>
<span class="normal"><a href="#__codelineno-29-13">13</a></span>
<span class="normal"><a href="#__codelineno-29-14">14</a></span>
<span class="normal"><a href="#__codelineno-29-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1"></a><span class="x">&lt;html&gt;</span>
<a id="__codelineno-29-2" name="__codelineno-29-2"></a><span class="x">    &lt;head&gt;</span>
<a id="__codelineno-29-3" name="__codelineno-29-3"></a><span class="x">        &lt;title&gt;Listado de libros&lt;/title&gt;</span>
<a id="__codelineno-29-4" name="__codelineno-29-4"></a><span class="x">    &lt;/head&gt;</span>
<a id="__codelineno-29-5" name="__codelineno-29-5"></a><span class="x">    &lt;body&gt;</span>
<a id="__codelineno-29-6" name="__codelineno-29-6"></a><span class="x">        &lt;h1&gt;Listado de libros&lt;/h1&gt;</span>
<a id="__codelineno-29-7" name="__codelineno-29-7"></a><span class="x">        &lt;ul&gt;</span>
<a id="__codelineno-29-8" name="__codelineno-29-8"></a><span class="x">        @forelse ($libros as $libro)</span>
<a id="__codelineno-29-9" name="__codelineno-29-9"></a><span class="x">            &lt;li&gt;{{ $libro[&quot;titulo&quot;] }} ({{ $libro[&quot;autor&quot;] }})&lt;/li&gt;</span>
<a id="__codelineno-29-10" name="__codelineno-29-10"></a><span class="x">        @empty</span>
<a id="__codelineno-29-11" name="__codelineno-29-11"></a><span class="x">            &lt;li&gt;No se encontraron libros&lt;/li&gt;</span>
<a id="__codelineno-29-12" name="__codelineno-29-12"></a><span class="x">        @endforelse</span>
<a id="__codelineno-29-13" name="__codelineno-29-13"></a><span class="x">        &lt;/ul&gt;</span>
<a id="__codelineno-29-14" name="__codelineno-29-14"></a><span class="x">    &lt;/body&gt;</span>
<a id="__codelineno-29-15" name="__codelineno-29-15"></a><span class="x">&lt;/html&gt;</span>
</code></pre></div></td></tr></table></div>
<p><img src="/assets/02_vista1.png" style="zoom:67%;" /></p>
<h3 id="sobre-los-enlaces-a-otras-rutas">Sobre los enlaces a otras rutas</h3>
<p>Hemos comentado brevemente en puntos anteriores que, gracias a Blade y a los nombres en las rutas, podemos enlazar una vista con otra de dos formas: de forma tradicional…</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-30-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1"></a><span class="x">echo &#39;&lt;a href=&quot;/contacto&quot;&gt;Contacto&lt;/a&gt;&#39;;</span>
</code></pre></div></td></tr></table></div>
<p>… o bien empleando la función <code>route</code> seguida del nombre que le hemos dado a la ruta:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-31-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1"></a><span class="x">&lt;a href=&quot;{{ route(&#39;ruta_contacto&#39;) }}&quot;&gt;Contacto&lt;/a&gt;</span>
</code></pre></div></td></tr></table></div>
<p>Por ejemplo, podemos poner un enlace a la vista del listado de libros que hemos creado antes (y que hemos nombrado como <code>listado_libros</code> de este modo en nuestra vista de <code>inicio.blade.php</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-32-1">1</a></span>
<span class="normal"><a href="#__codelineno-32-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1"></a><span class="x">&lt;p&gt;Bienvenido/a {{ $nombre }}&lt;/p&gt;</span>
<a id="__codelineno-32-2" name="__codelineno-32-2"></a><span class="x">&lt;p&gt;&lt;a href=&quot;{{ route(&#39;listado_libros&#39;) }}&quot;&gt;Listado de libros&lt;/a&gt;&lt;/p&gt;</span>
</code></pre></div></td></tr></table></div>
<h3 id="definir-plantillas-comunes">Definir plantillas comunes</h3>
<p>A la hora de dar homogeneidad a una web, es habitual que la cabecera, el menú de navegación o el pie de página formen parte de una plantilla que se repite en todas las páginas del sitio, de modo que evitamos tener que actualizar todas las páginas ante cualquier posible cambio en estos elementos.</p>
<p>Para crear una plantilla en Blade, creamos un archivo normal y corriente (por ejemplo, <code>plantilla.blade.php</code>), en la carpeta de vistas, con el contenido general de la plantilla. En aquellas zonas del documento donde vamos a permitir contenido variable dependiendo de la vista en sí, añadimos una sección llamada <code>@yield</code>, con un nombre asociado. Nuestra plantilla podría ser esta (notar que se permiten varios <code>@yield</code> con diferentes nombres):</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-33-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-33-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-33-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-33-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-33-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-33-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-33-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-33-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-33-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-33-10">10</a></span>
<span class="normal"><a href="#__codelineno-33-11">11</a></span>
<span class="normal"><a href="#__codelineno-33-12">12</a></span>
<span class="normal"><a href="#__codelineno-33-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1"></a>&lt;html&gt;
<a id="__codelineno-33-2" name="__codelineno-33-2"></a>  &lt;head&gt;
<a id="__codelineno-33-3" name="__codelineno-33-3"></a>    &lt;title&gt;
<a id="__codelineno-33-4" name="__codelineno-33-4"></a>      @yield(&#39;titulo&#39;)
<a id="__codelineno-33-5" name="__codelineno-33-5"></a>    &lt;/title&gt;
<a id="__codelineno-33-6" name="__codelineno-33-6"></a>  &lt;/head&gt;
<a id="__codelineno-33-7" name="__codelineno-33-7"></a>  &lt;body&gt;
<a id="__codelineno-33-8" name="__codelineno-33-8"></a>    &lt;nav&gt;
<a id="__codelineno-33-9" name="__codelineno-33-9"></a>      &lt;!-- ... Menú de navegación --&gt;
<a id="__codelineno-33-10" name="__codelineno-33-10"></a>    &lt;/nav&gt;
<a id="__codelineno-33-11" name="__codelineno-33-11"></a>    @yield(&#39;contenido&#39;)
<a id="__codelineno-33-12" name="__codelineno-33-12"></a>  &lt;/body&gt;
<a id="__codelineno-33-13" name="__codelineno-33-13"></a>&lt;/html&gt;
</code></pre></div></td></tr></table></div>
<p>Después, en cada vista en que queramos utilizar esta plantilla, añadimos la directiva <code>@extends</code> de Blade, indicando el nombre de plantilla que vamos a utilizar. Con la directiva <code>@section</code>, seguida del nombre de la sección, definimos el contenido para cada uno de los <code>@yield</code> que se hayan indicado en la plantilla. Finalizaremos cada sección con la directiva <code>@endsection</code>. Así, para nuestra página inicial (<code>inicio.blade.php</code>), el contenido puede ser ahora éste:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-34-1">1</a></span>
<span class="normal"><a href="#__codelineno-34-2">2</a></span>
<span class="normal"><a href="#__codelineno-34-3">3</a></span>
<span class="normal"><a href="#__codelineno-34-4">4</a></span>
<span class="normal"><a href="#__codelineno-34-5">5</a></span>
<span class="normal"><a href="#__codelineno-34-6">6</a></span>
<span class="normal"><a href="#__codelineno-34-7">7</a></span>
<span class="normal"><a href="#__codelineno-34-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1"></a><span class="x">@extends(&#39;plantilla&#39;)</span>
<a id="__codelineno-34-2" name="__codelineno-34-2"></a>
<a id="__codelineno-34-3" name="__codelineno-34-3"></a><span class="x">@section(&#39;titulo&#39;, &#39;Inicio&#39;)</span>
<a id="__codelineno-34-4" name="__codelineno-34-4"></a>
<a id="__codelineno-34-5" name="__codelineno-34-5"></a><span class="x">@section(&#39;contenido&#39;)</span>
<a id="__codelineno-34-6" name="__codelineno-34-6"></a><span class="x">    &lt;h1&gt;Página de inicio&lt;/h1&gt;</span>
<a id="__codelineno-34-7" name="__codelineno-34-7"></a><span class="x">    &lt;p&gt;Bienvenido/a {{ $nombre }}&lt;/p&gt;</span>
<a id="__codelineno-34-8" name="__codelineno-34-8"></a><span class="x">@endsection</span>
</code></pre></div></td></tr></table></div>
<blockquote>
<p><strong>nota</strong>: a la directiva <code>@section</code> se le puede pasar un segundo parámetro con el contenido de esa sección, y en este caso no es necesario cerrarla con <code>@endsection</code>. Esta opción es útil para contenidos donde no interesen caracteres en blanco o saltos de línea innecesarios al principio o al final, como ocurre en el ejemplo anterior con el título (<em>title</em>) de la página.</p>
<p>Del mismo modo, nuestra vista para el listado de libros quedaría de esta forma:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-35-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-35-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-35-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-35-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-35-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-35-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-35-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-35-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-35-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-35-10">10</a></span>
<span class="normal"><a href="#__codelineno-35-11">11</a></span>
<span class="normal"><a href="#__codelineno-35-12">12</a></span>
<span class="normal"><a href="#__codelineno-35-13">13</a></span>
<span class="normal"><a href="#__codelineno-35-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1"></a>@extends(&#39;plantilla&#39;)
<a id="__codelineno-35-2" name="__codelineno-35-2"></a>
<a id="__codelineno-35-3" name="__codelineno-35-3"></a>@section(&#39;titulo&#39;, &#39;Listado de libros&#39;)
<a id="__codelineno-35-4" name="__codelineno-35-4"></a>
<a id="__codelineno-35-5" name="__codelineno-35-5"></a>@section(&#39;contenido&#39;)
<a id="__codelineno-35-6" name="__codelineno-35-6"></a>    &lt;h1&gt;Listado de libros&lt;/h1&gt;
<a id="__codelineno-35-7" name="__codelineno-35-7"></a>    &lt;ul&gt;
<a id="__codelineno-35-8" name="__codelineno-35-8"></a>    @forelse ($libros as $libro)
<a id="__codelineno-35-9" name="__codelineno-35-9"></a>        &lt;li&gt;{{ $libro[&quot;titulo&quot;] }} ({{ $libro[&quot;autor&quot;] }})&lt;/li&gt;
<a id="__codelineno-35-10" name="__codelineno-35-10"></a>    @empty
<a id="__codelineno-35-11" name="__codelineno-35-11"></a>        &lt;li&gt;No se encontraron libros&lt;/li&gt;
<a id="__codelineno-35-12" name="__codelineno-35-12"></a>    @endforelse
<a id="__codelineno-35-13" name="__codelineno-35-13"></a>    &lt;/ul&gt;
<a id="__codelineno-35-14" name="__codelineno-35-14"></a>@endsection
</code></pre></div></td></tr></table></div>
<p>realizar <strong>ejercicio 3</strong>.</p>
</blockquote>
<h3 id="incluir-vistas-dentro-de-otras">Incluir vistas dentro de otras</h3>
<p>También suele ser habitual definir contenidos parciales (se suelen definir en una subcarpeta <strong><code>partials</code></strong> dentro de <strong><code>resources/views</code></strong>), e incluirlos en las vistas. Para esto, utilizaremos la directiva <code>@include</code> de Blade.</p>
<p>Por ejemplo, vamos a definir un menú de navegación. Supongamos que dicho menú está en el archivo <strong><code>resources/views/partials/nav.blade.php</code></strong>:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-36-1">1</a></span>
<span class="normal"><a href="#__codelineno-36-2">2</a></span>
<span class="normal"><a href="#__codelineno-36-3">3</a></span>
<span class="normal"><a href="#__codelineno-36-4">4</a></span>
<span class="normal"><a href="#__codelineno-36-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1"></a><span class="x">&lt;nav&gt;</span>
<a id="__codelineno-36-2" name="__codelineno-36-2"></a><span class="x">    &lt;a href=&quot;{{ route(&#39;inicio&#39;) }}&quot;&gt;Inicio&lt;/a&gt;</span>
<a id="__codelineno-36-3" name="__codelineno-36-3"></a><span class="x">    &amp;nbsp;|&amp;nbsp;</span>
<a id="__codelineno-36-4" name="__codelineno-36-4"></a><span class="x">    &lt;a href=&quot;{{ route(&#39;listado_libros&#39;) }}&quot;&gt;Listado de libros&lt;/a&gt;</span>
<a id="__codelineno-36-5" name="__codelineno-36-5"></a><span class="x">&lt;/nav&gt;</span>
</code></pre></div></td></tr></table></div>
<p>Notar que, en este ejemplo, se supone que a cada una de las dos rutas implicadas les hemos asignado los nombres “inicio” y “libros_listado”, respectivamente, empleando el método <code>name</code> al definir la ruta. De lo contrario, las propiedades <code>href</code> de los dos enlaces deberían apuntar a <code>/</code> y <code>/listado</code>, respectivamente.</p>
<p>Para incluir el menú en la plantilla anterior, podemos hacer esto (y eliminaríamos el elemento <code>&lt;nav&gt;</code> de la plantilla):</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-37-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-37-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-37-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-37-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-37-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-37-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-37-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-37-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-37-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-37-10">10</a></span>
<span class="normal"><a href="#__codelineno-37-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1"></a><span class="x">&lt;html&gt;</span>
<a id="__codelineno-37-2" name="__codelineno-37-2"></a><span class="x">    &lt;head&gt;</span>
<a id="__codelineno-37-3" name="__codelineno-37-3"></a><span class="x">        &lt;title&gt;</span>
<a id="__codelineno-37-4" name="__codelineno-37-4"></a><span class="x">        @yield(&#39;titulo&#39;)</span>
<a id="__codelineno-37-5" name="__codelineno-37-5"></a><span class="x">        &lt;/title&gt;</span>
<a id="__codelineno-37-6" name="__codelineno-37-6"></a><span class="x">    &lt;/head&gt;</span>
<a id="__codelineno-37-7" name="__codelineno-37-7"></a><span class="x">    &lt;body&gt;</span>
<a id="__codelineno-37-8" name="__codelineno-37-8"></a><span class="x">        @include(&#39;partials.nav&#39;)</span>
<a id="__codelineno-37-9" name="__codelineno-37-9"></a><span class="x">        @yield(&#39;contenido&#39;)</span>
<a id="__codelineno-37-10" name="__codelineno-37-10"></a><span class="x">    &lt;/body&gt;</span>
<a id="__codelineno-37-11" name="__codelineno-37-11"></a><span class="x">&lt;/html&gt;</span>
</code></pre></div></td></tr></table></div>
<p>Como puede verse, podemos utilizar tanto el punto como la barra para indicar el separador de carpeta en la vista.</p>
<h3 id="estructurar-vistas-en-carpetas">Estructurar vistas en carpetas</h3>
<p>Cuando la aplicación es algo compleja, pueden ser necesarias varias vistas, y tenerlas todas en una misma carpeta puede ser algo difícil de gestionar. Es habitual, como iremos viendo en sesiones posteriores, estructurar las vistas de la carpeta <code>resources/views</code> en subcarpetas, de modo que, por ejemplo, cada carpeta se refiera a las vistas de una entidad o modelo de la aplicación, o a un controlador específico. De momento, en nuestro ejemplo de la biblioteca, vamos a ubicar la vista <code>listado.blade.php</code> en una subcarpeta <code>libros</code>, de modo que en la ruta que renderiza esta vista, ahora deberemos indicar también el nombre de la subcarpeta:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-38-1">1</a></span>
<span class="normal"><a href="#__codelineno-38-2">2</a></span>
<span class="normal"><a href="#__codelineno-38-3">3</a></span>
<span class="normal"><a href="#__codelineno-38-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1"></a><span class="x">Route::get(&#39;listado&#39;, function() {</span>
<a id="__codelineno-38-2" name="__codelineno-38-2"></a><span class="x">    // ...</span>
<a id="__codelineno-38-3" name="__codelineno-38-3"></a><span class="x">    return view(&#39;libros.listado&#39;, compact(&#39;libros&#39;));</span>
<a id="__codelineno-38-4" name="__codelineno-38-4"></a><span class="x">})-&gt;name(&#39;listado_libros&#39;);</span>
</code></pre></div></td></tr></table></div>
<blockquote>
<p><strong>observa</strong>: la ruta o <em>path</em> que se indica será <code>carpeta.vista</code> (separación mediante un puto <code>.</code> y sin la extensión <code>blade.php</code> la vista).</p>
</blockquote>
<p>Ahora mismo, en nuestra carpeta <code>resources/views</code> del proyecto de la biblioteca tendremos únicamente la plantilla base y la página de inicio (y la vista <code>welcome.blade.php</code>, que de hecho ya podemos borrar si queremos). El resto de vistas las iremos estructurando en subcarpetas.</p>
<h3 id="vistas-para-paginas-de-error">Vistas para páginas de error</h3>
<p>A lo largo de estas sesiones, algunas acciones que hagamos provocarán páginas de error con determinados códigos, como por ejemplo 404 para páginas no encontradas. </p>
<p>Si queremos definir el aspecto y estructura de estas páginas, basta con crear la vista correspondiente en la carpeta <code>resources/views/errors</code>, por ejemplo, <code>resources/views/errors/404.blade.php</code> para el error 404 (anteponemos el código de error al sufijo de la vista).</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-39-1">1</a></span>
<span class="normal"><a href="#__codelineno-39-2">2</a></span>
<span class="normal"><a href="#__codelineno-39-3">3</a></span>
<span class="normal"><a href="#__codelineno-39-4">4</a></span>
<span class="normal"><a href="#__codelineno-39-5">5</a></span>
<span class="normal"><a href="#__codelineno-39-6">6</a></span>
<span class="normal"><a href="#__codelineno-39-7">7</a></span>
<span class="normal"><a href="#__codelineno-39-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1"></a><span class="x">@extends(&#39;plantilla&#39;)</span>
<a id="__codelineno-39-2" name="__codelineno-39-2"></a>
<a id="__codelineno-39-3" name="__codelineno-39-3"></a><span class="x">@section(&#39;titulo&#39;, &#39;Error 404&#39;)</span>
<a id="__codelineno-39-4" name="__codelineno-39-4"></a>
<a id="__codelineno-39-5" name="__codelineno-39-5"></a><span class="x">@section(&#39;contenido&#39;)</span>
<a id="__codelineno-39-6" name="__codelineno-39-6"></a><span class="x">    &lt;h1&gt;Error&lt;/h1&gt;</span>
<a id="__codelineno-39-7" name="__codelineno-39-7"></a><span class="x">    &lt;p&gt;Documento no encontrado&lt;/p&gt;</span>
<a id="__codelineno-39-8" name="__codelineno-39-8"></a><span class="x">@endsection</span>
</code></pre></div></td></tr></table></div>
<h1 id="estilos-y-javascript">estilos y Javascript</h1>
<p>Ahora que ya tenemos una visión bastante completa de lo que el motor de plantillas Blade puede ofrecernos, llega el momento de terminar de perfilar nuestras vistas. Hasta ahora no hemos hablado nada de estilos CSS, y eso es algo que toda vista que se precie debe incluir. Además, también puede ser necesario en algunos casos incluir alguna librería JavaScript en el lado del cliente para ciertos procesamientos. Veremos cómo gestiona Laravel estos recursos.</p>
<h2 id="infraestructura-para-archivos-css-y-javascript">Infraestructura para archivos CSS y JavaScript</h2>
<p>Para poder añadir estilos CSS o archivos JavaScript a nuestro proyecto Laravel, el framework proporciona ya unos archivos donde centralizar estas opciones.</p>
<p>En primer lugar, debemos tener en cuenta que todas las dependencias de librerías en la parte del cliente (JavaScript) se centralizan en el archivo <code>package.json</code>, disponible en la raíz del proyecto. Inicialmente cuenta ya con una serie de dependencias pre-añadidas. Algunas de ellas son importantes, como <code>vite</code> (o <code>laravel-mix</code>, dependiendo de la versión de Laravel que tengamos instalada), y otras puede que no las necesitemos y las podamos borrar. Es recomendable instalar las dependencias cuando creamos el proyecto, para tenerlas disponibles, con este comando:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-40-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1"></a>npm<span class="w"> </span>install
</code></pre></div></td></tr></table></div>
<p>Se creará una carpeta <code>node_modules</code> en la raíz del proyecto con las dependencias instaladas. Esta carpeta es similar a la carpeta <code>vendor</code>, también en la raíz del proyecto, pero esta última contiene dependencias PHP (no JavaScript). Ninguna de estas carpetas debe subirse a un repositorio <em>git</em>, ya que ambas pueden reconstruirse con el correspondiente comando de instalación de <em>npm</em> o de <em>composer</em>, según el caso y, además, pueden ocupar mucho espacio.</p>
<p>Para centralizar los estilos CSS, tenemos el archivo <code>resources/css/app.css</code>, o bien <code>resources/sass/app.scss</code> (dependiendo de la versión de Laravel que usemos), donde podemos definir estilos CSS propios, o incorporar librerías externas como veremos después, utilizando o bien CSS plano o bien Sass. Por ejemplo, podemos editar este archivo para añadir algún estilo propio para el cuerpo del documento:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">CSS</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-41-1">1</a></span>
<span class="normal"><a href="#__codelineno-41-2">2</a></span>
<span class="normal"><a href="#__codelineno-41-3">3</a></span>
<span class="normal"><a href="#__codelineno-41-4">4</a></span>
<span class="normal"><a href="#__codelineno-41-5">5</a></span>
<span class="normal"><a href="#__codelineno-41-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1"></a><span class="nt">body</span>
<a id="__codelineno-41-2" name="__codelineno-41-2"></a><span class="p">{</span>
<a id="__codelineno-41-3" name="__codelineno-41-3"></a><span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#CCC</span><span class="p">;</span>
<a id="__codelineno-41-4" name="__codelineno-41-4"></a><span class="w">    </span><span class="k">font-family</span><span class="p">:</span><span class="w"> </span><span class="n">Arial</span><span class="p">;</span>
<a id="__codelineno-41-5" name="__codelineno-41-5"></a><span class="w">    </span><span class="k">text-align</span><span class="p">:</span><span class="w"> </span><span class="kc">justify</span><span class="p">;</span>
<a id="__codelineno-41-6" name="__codelineno-41-6"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>Por otro lado, tenemos el archivo <code>resources/js/app.js</code> para incluir nuestras propias funciones en JavaScript, o incluso funcionalidades externas (a través de jQuery, por ejemplo).</p>
<h2 id="generacion-automatica-de-css-y-javascript">Generación automática de CSS y JavaScript</h2>
<p>Estos dos archivos anteriores (<code>resources/css/app.css</code> y <code>resources/js/app.js</code>) necesitan ser procesados para generar el código resultante (CSS y JavaScript) que formará parte de la aplicación, aunando todas las librerías y funciones que hayamos especificado. Para esto, tenemos dos opciones dependiendo del gestor de <em>frontend</em> que se tenga instalado.</p>
<h3 id="generacion-con-laravel-mix">Generación con Laravel mix</h3>
<p>Hasta las primeras versiones de Laravel 9, se empleaba el gestor <code>laravel-mix</code> como generador de toda la parte de <em>frontend</em>. En este caso, se tiene el archivo <code>webpack.mix.js</code> en la raíz del proyecto, que emplea la herramienta <em>WebPack</em> para compilar, empaquetar y minificar estos archivos resultado CSS y JavaScript.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">JavaScript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-42-1">1</a></span>
<span class="normal"><a href="#__codelineno-42-2">2</a></span>
<span class="normal"><a href="#__codelineno-42-3">3</a></span>
<span class="normal"><a href="#__codelineno-42-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1"></a><span class="nx">mix</span><span class="p">.</span><span class="nx">js</span><span class="p">(</span><span class="s1">&#39;resources/js/app.js&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;public/js&#39;</span><span class="p">)</span>
<a id="__codelineno-42-2" name="__codelineno-42-2"></a><span class="w">   </span><span class="p">.</span><span class="nx">postCss</span><span class="p">(</span><span class="s1">&#39;resources/css/app.css&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;public/css&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-42-3" name="__codelineno-42-3"></a><span class="w">    </span><span class="c1">// ...</span>
<a id="__codelineno-42-4" name="__codelineno-42-4"></a><span class="w">    </span><span class="p">]);</span>
</code></pre></div></td></tr></table></div>
<p>Como podemos intuir, desde este archivo <code>webpack.mix.js</code> se tomará todo lo que hay en el archivo <code>resources/js/app.js</code> y se generará un archivo optimizado ubicado en <code>public/js/app.js</code>. De forma similar, se tomarán los estilos definidos en <code>resources/sass/app.scss</code> o en <code>resources/css/app.css</code> (dependiendo de la versión de Laravel) y se generará un archivo CSS optimizado en <code>public/css/app.css</code>. Para desencadenar este proceso, Laravel y WebPack se valen de la librería <code>laravel-mix</code>, incluida en el archivo <code>package.json</code>. Por eso es importante esta librería, y por eso debemos dejarla instalada previamente con el comando <code>npm install</code> que hemos explicado antes. Una vez instalada, para generar los CSS y JavaScript debemos ejecutar este comando desde la raíz del proyecto:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-43-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1"></a>npm<span class="w"> </span>run<span class="w"> </span>dev
</code></pre></div></td></tr></table></div>
<p>Esto generará los archivos <code>public/css/app.css</code> y <code>public/js/app.js</code>, y después ya podremos añadir estos archivos en nuestras vistas, con algo como esto, respectivamente:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">HTML</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-44-1">1</a></span>
<span class="normal"><a href="#__codelineno-44-2">2</a></span>
<span class="normal"><a href="#__codelineno-44-3">3</a></span>
<span class="normal"><a href="#__codelineno-44-4">4</a></span>
<span class="normal"><a href="#__codelineno-44-5">5</a></span>
<span class="normal"><a href="#__codelineno-44-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1"></a><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<a id="__codelineno-44-2" name="__codelineno-44-2"></a>    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
<a id="__codelineno-44-3" name="__codelineno-44-3"></a>        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/css&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/css/app.css&quot;</span><span class="p">&gt;</span>
<a id="__codelineno-44-4" name="__codelineno-44-4"></a>        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;/js/app.js&quot;</span><span class="p">&gt;</span>
<a id="__codelineno-44-5" name="__codelineno-44-5"></a><span class="w">        </span><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<a id="__codelineno-44-6" name="__codelineno-44-6"></a>...
</code></pre></div></td></tr></table></div>
<h3 id="generacion-con-vite">Generación con Vite</h3>
<p>Desde alguna versión intermedia de Laravel 9, el gestor <em>frontend</em> por defecto que se incorpora es <code>vite</code>, junto con un archivo de configuración en la raíz del proyecto llamado <code>vite.config.js</code>. Debemos especificar en este archivo las rutas hacia los archivos CSS y JavaScript que queramos incorporar a la aplicación, aunque vienen por defecto ya incluidos los que hemos mencionado anteriormente:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">JavaScript</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-45-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-45-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-45-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-45-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-45-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-45-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-45-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-45-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-45-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-45-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1"></a><span class="c1">// ...</span>
<a id="__codelineno-45-2" name="__codelineno-45-2"></a>
<a id="__codelineno-45-3" name="__codelineno-45-3"></a><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">defineConfig</span><span class="p">({</span>
<a id="__codelineno-45-4" name="__codelineno-45-4"></a><span class="w">    </span><span class="nx">plugins</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-45-5" name="__codelineno-45-5"></a><span class="w">        </span><span class="nx">laravel</span><span class="p">({</span>
<a id="__codelineno-45-6" name="__codelineno-45-6"></a><span class="w">            </span><span class="nx">input</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;resources/css/app.css&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;resources/js/app.js&#39;</span><span class="p">],</span>
<a id="__codelineno-45-7" name="__codelineno-45-7"></a><span class="w">            </span><span class="nx">refresh</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-45-8" name="__codelineno-45-8"></a><span class="w">        </span><span class="p">}),</span>
<a id="__codelineno-45-9" name="__codelineno-45-9"></a><span class="w">    </span><span class="p">],</span>
<a id="__codelineno-45-10" name="__codelineno-45-10"></a><span class="p">});</span>
</code></pre></div></td></tr></table></div>
<p>Si queremos incluir cualquiera de estos archivos en nuestras páginas, podemos emplear la directiva <code>@vite</code> con la URL relativa. Por ejemplo:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">HTML</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-46-1">1</a></span>
<span class="normal"><a href="#__codelineno-46-2">2</a></span>
<span class="normal"><a href="#__codelineno-46-3">3</a></span>
<span class="normal"><a href="#__codelineno-46-4">4</a></span>
<span class="normal"><a href="#__codelineno-46-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1"></a><span class="cp">&lt;!doctype html&gt;</span>
<a id="__codelineno-46-2" name="__codelineno-46-2"></a><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
<a id="__codelineno-46-3" name="__codelineno-46-3"></a>    ...
<a id="__codelineno-46-4" name="__codelineno-46-4"></a>    @vite([&#39;resources/css/app.css&#39;, &#39;resources/js/app.js&#39;])
<a id="__codelineno-46-5" name="__codelineno-46-5"></a><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</code></pre></div></td></tr></table></div>
<p>Ejecutando el comando <code>npm run dev</code> pondremos en marcha el servidor <em>Vite</em>, útil si estamos desarrollando y probando la web. Si ejecutamos <code>npm run build</code> generaremos ya las rutas preparadas para producción. El primer comando, aunque puede resultar útil, remite a una URL alternativa para el proyecto que no siempre funciona correctamente, así que lo más cómodo es lanzar <code>npm run build</code> y que genere las dependencias adecuadas.</p>
<h2 id="incluir-estilos-bootstrap">Incluir estilos Bootstrap</h2>
<p>Uno de los frameworks de diseño web más utilizados a la hora de elaborar una web es <a href="https://getbootstrap.com/">Bootstrap</a>. En este curso no vamos a dar demasiadas nociones sobre él, pero sí utilizaremos algunas pinceladas para que nuestras vistas tengan un aspecto más profesional.</p>
<p>Para incluir este framework en Laravel, debemos incluir una librería en el servidor llamada <em>ui</em>, que se encarga de incorporar distintas herramientas para diseño de interfaces de usuario (<em>UI</em>, <em>User Interface</em>).</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-47-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1"></a><span class="x">composer require laravel/ui:*</span>
</code></pre></div></td></tr></table></div>
<blockquote>
<p><strong>nota</strong>: la expresión <code>:*</code> al final del comando es para que descargue la última versión disponible compatible con el proyecto Laravel actual.</p>
</blockquote>
<p>Una vez añadida la herramienta, la podemos emplear a través del comando <code>artisan</code> para incorporar Bootstrap al proyecto:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-48-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1"></a>php<span class="w"> </span>artisan<span class="w"> </span>ui<span class="w"> </span>bootstrap
</code></pre></div></td></tr></table></div>
<p>Esto incorporará Bootstrap al archivo <code>package.json</code>, en la sección de dependencias…</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-49-1">1</a></span>
<span class="normal"><a href="#__codelineno-49-2">2</a></span>
<span class="normal"><a href="#__codelineno-49-3">3</a></span>
<span class="normal"><a href="#__codelineno-49-4">4</a></span>
<span class="normal"><a href="#__codelineno-49-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1"></a><span class="s2">&quot;devDependencies&quot;</span>:<span class="w"> </span><span class="o">{</span>
<a id="__codelineno-49-2" name="__codelineno-49-2"></a><span class="w">    </span>...
<a id="__codelineno-49-3" name="__codelineno-49-3"></a><span class="w">    </span><span class="s2">&quot;bootstrap&quot;</span>:<span class="w"> </span><span class="s2">&quot;^5.2.3&quot;</span>,
<a id="__codelineno-49-4" name="__codelineno-49-4"></a><span class="w">    </span>...
<a id="__codelineno-49-5" name="__codelineno-49-5"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>… y también añadirá un enlace a dicha librería en el archivo <code>resources/sass/app.scss</code>, para que podamos generar un archivo CSS optimizado con Bootstrap incluido:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">CSS</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-50-1">1</a></span>
<span class="normal"><a href="#__codelineno-50-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1"></a><span class="w"> </span><span class="o">...</span>
<a id="__codelineno-50-2" name="__codelineno-50-2"></a><span class="w"> </span><span class="p">@</span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;~bootstrap/scss/bootstrap&#39;</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>Si utilizamos Bootstrap, entonces el archivo <code>resources/css/app.css</code> dejará de tener efecto, ya que para poder incorporar los estilos de Bootstrap a nuestro proyecto, se trabaja con Sass a través de <code>resources/sass/app.scss</code>. Nuestro archivo <code>webpack.mix.js</code> o <code>vite.config.js</code> también se habrá actualizado en este sentido, y deberemos colocar todos nuestros estilos CSS propios en el archivo <code>app.scss</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">CSS</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-51-1">1</a></span>
<span class="normal"><a href="#__codelineno-51-2">2</a></span>
<span class="normal"><a href="#__codelineno-51-3">3</a></span>
<span class="normal"><a href="#__codelineno-51-4">4</a></span>
<span class="normal"><a href="#__codelineno-51-5">5</a></span>
<span class="normal"><a href="#__codelineno-51-6">6</a></span>
<span class="normal"><a href="#__codelineno-51-7">7</a></span>
<span class="normal"><a href="#__codelineno-51-8">8</a></span>
<span class="normal"><a href="#__codelineno-51-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1"></a><span class="w"> </span><span class="o">...</span>
<a id="__codelineno-51-2" name="__codelineno-51-2"></a><span class="w"> </span><span class="p">@</span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;~bootstrap/scss/bootstrap&#39;</span><span class="p">;</span>
<a id="__codelineno-51-3" name="__codelineno-51-3"></a>
<a id="__codelineno-51-4" name="__codelineno-51-4"></a><span class="nt">body</span>
<a id="__codelineno-51-5" name="__codelineno-51-5"></a><span class="p">{</span>
<a id="__codelineno-51-6" name="__codelineno-51-6"></a><span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#CCC</span><span class="p">;</span>
<a id="__codelineno-51-7" name="__codelineno-51-7"></a><span class="w">    </span><span class="k">font-family</span><span class="p">:</span><span class="w"> </span><span class="n">Arial</span><span class="p">;</span>
<a id="__codelineno-51-8" name="__codelineno-51-8"></a><span class="w">    </span><span class="k">text-align</span><span class="p">:</span><span class="w"> </span><span class="kc">justify</span><span class="p">;</span>
<a id="__codelineno-51-9" name="__codelineno-51-9"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>En el caso de usar Vite, deberemos actualizar la URL correspondiente al archivo CSS en las cabeceras donde hayamos incluido la directiva <code>@vite</code>, de este modo:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">HTML</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-52-1">1</a></span>
<span class="normal"><a href="#__codelineno-52-2">2</a></span>
<span class="normal"><a href="#__codelineno-52-3">3</a></span>
<span class="normal"><a href="#__codelineno-52-4">4</a></span>
<span class="normal"><a href="#__codelineno-52-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1"></a><span class="cp">&lt;!doctype html&gt;</span>
<a id="__codelineno-52-2" name="__codelineno-52-2"></a><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
<a id="__codelineno-52-3" name="__codelineno-52-3"></a>    ...
<a id="__codelineno-52-4" name="__codelineno-52-4"></a>    @vite([&#39;resources/sass/app.scss&#39;, &#39;resources/js/app.js&#39;])
<a id="__codelineno-52-5" name="__codelineno-52-5"></a><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</code></pre></div></td></tr></table></div>
<p>Para finalizar, debemos ejecutar nuevamente las instrucciones:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-53-1">1</a></span>
<span class="normal"><a href="#__codelineno-53-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1"></a>npm<span class="w"> </span>install
<a id="__codelineno-53-2" name="__codelineno-53-2"></a>npm<span class="w"> </span>run<span class="w"> </span>build
</code></pre></div></td></tr></table></div>
<p>La primera instrucción debe ejecutarse sólo una vez, y descargará e instalará Bootstrap en el proyecto (en la subcarpeta <em>node_modules</em>), y la segunda generará de nuevo los archivos CSS y JavaScript optimizados, incluyendo en ellos la librería Bootstrap. Con esto ya tendremos disponibles las clases y estilos de Bootstrap para nuestras vistas.</p>
<blockquote>
<p>realizar <strong>ejercicio 4</strong>.</p>
</blockquote>
<h1 id="bibliografia">bibliografia</h1>
<ul>
<li><a href="https://nachoiborraies.github.io/laravel/">Nacho Iborra Baeza</a>.</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.code.select", "content.code.annotate", "navigation.footer", "navigation.top"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.1e8ae164.min.js"></script>
      
    
  </body>
</html>