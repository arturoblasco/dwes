
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17">
    
    
      
        <title>ud07 FrameworksPHP Laravel - Desarrollo Web en Entorno Servidor (DWES)</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.bcfcd587.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#duracion-y-criterios-de-evaluacion" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Desarrollo Web en Entorno Servidor (DWES)" class="md-header__button md-logo" aria-label="Desarrollo Web en Entorno Servidor (DWES)" data-md-component="logo">
      
  <img src="../../logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Desarrollo Web en Entorno Servidor (DWES)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ud07 FrameworksPHP Laravel
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Canvia a mode oscur"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Canvia a mode oscur" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Canvia a mode normal"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Canvia a mode normal" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Desarrollo Web en Entorno Servidor (DWES)" class="md-nav__button md-logo" aria-label="Desarrollo Web en Entorno Servidor (DWES)" data-md-component="logo">
      
  <img src="../../logo.png" alt="logo">

    </a>
    Desarrollo Web en Entorno Servidor (DWES)
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inicio
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UD 1 Arquitectura Web
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            UD 1 Arquitectura Web
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud01/ud0101/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.1 Introducción
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud01/ud0102/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.2 Cliente/servidor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud01/ud0103/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.3 Arquitectura de 3 capas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud01/ud0104/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.4 MVC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud01/ud0105/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.5 Decisiones de diseño
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud01/ud0106/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.6 Herramientas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud01/ud0107/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.7 Puesta en marcha
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud01/ud0108/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.8 Manual Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud01/ud01de/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Descargas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud01/ud01ac/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Actividades
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud01/ud0109/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Referencias
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UD 2 Lenguaje PHP
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            UD 2 Lenguaje PHP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud02/ud0201/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.1 Introducción
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud02/ud0202/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.2 PHP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud02/ud0203/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.3 Operadores
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud02/ud0204/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.4 Arrays
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud02/ud0205/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.5 Funciones
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud02/ud0206/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.6 Funciones predefinidas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud02/ud0207/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.7 Expresiones regulares
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud02/ud02ac/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Actividades
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud02/ud0208/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Referencias
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    UD 3 PHP Orientado a Objetos
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            UD 3 PHP Orientado a Objetos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud03/ud0301/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.1 Introducción
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud03/ud0302/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.2 Clases y objetos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud03/ud0303/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.3 Encapsulación
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud03/ud0304/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.4 Constructor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud03/ud0305/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.5 Clases estáticas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud03/ud0306/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.6 Introspección
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud03/ud0307/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.7 Herencia
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud03/ud0308/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.8 Clases abstractas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud03/ud0309/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.9 Clases final
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud03/ud0310/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.10 Interfaces
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud03/ud0311/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.11 Métodos encadenados
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud03/ud0312/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.12 Métodos mágicos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud03/ud0313/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.13 Espacio de nombres
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud03/ud0314/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.14 Gestión de errores
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud03/ud0315/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.15 Excepciones
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud03/ud0316/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3.16 SPL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud03/ud03ac/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Actividades
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ud03/ud0317/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Referencias
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../default/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UD 4 Programación Web
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../default/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UD 5 Herramientas Web
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../default/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UD 6 Acceso a Base de Datos
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../default/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UD 7 Framework Laravel
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../default/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UD 8 Laravel avanzado
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<hr />
<p>unit: unidad didáctica 7
   title: Framework Laravel
   language: ES
   author: Arturo Blasco
   subject: Desarrollo Web en Entorno Servidor
   keywords: [DWES, 2023, PHP, Laravel]
   IES: IES Mestre Ramón Esteve (Catadau) [iesmre.es]
   header: ${unit}: ${title} - ${subject} (versión: ${today})
   footer: ${currentFileName}.pdf - ${author} - ${IES} - ${pageNo}|${pageCount}
   typora-root-url:${filename}/../
   typora-copy-images-to:${filename}/../assets</p>
<hr />
<div class="toc">
<ul>
<li><a href="#duracion-y-criterios-de-evaluacion">duración y criterios de evaluación</a></li>
<li><a href="#consideraciones-previas">consideraciones previas</a><ul>
<li><a href="#mvc">MVC</a><ul>
<li><a href="#modelo">Modelo</a></li>
<li><a href="#vista">Vista</a></li>
<li><a href="#controlador">Controlador</a></li>
<li><a href="#router">Router</a></li>
</ul>
</li>
<li><a href="#artisan">Artisan</a></li>
</ul>
</li>
<li><a href="#instalar-docker-bitnamilaravel">instalar docker bitnami/Laravel</a><ul>
<li><a href="#vscode-extensiones">VSCode extensiones</a></li>
</ul>
</li>
<li><a href="#carpetas-en-laravel">carpetas en Laravel</a><ul>
<li><a href="#apphttpcontrollers">app/Http/Controllers</a></li>
<li><a href="#models">Models</a></li>
<li><a href="#public">public</a></li>
<li><a href="#resources">resources</a></li>
<li><a href="#routes">routes</a></li>
<li><a href="#vendor">vendor</a></li>
<li><a href="#env">.env</a></li>
</ul>
</li>
<li><a href="#rutas">rutas</a><ul>
<li><a href="#alias">alias</a><ul>
<li><a href="#forma-corta-para-una-vista">forma corta para una vista</a></li>
</ul>
</li>
<li><a href="#parametros">parámetros</a></li>
</ul>
</li>
<li><a href="#plantillas-o-templates">plantillas o templates</a><ul>
<li><a href="#directivas">directivas</a></li>
<li><a href="#separando-codigo">separando código</a></li>
<li><a href="#estructuras-de-control">estructuras de control</a></li>
</ul>
</li>
<li><a href="#controladores">controladores</a><ul>
<li><a href="#convenciones">convenciones</a></li>
</ul>
</li>
<li><a href="#tipos-de-request">tipos de Request</a><ul>
<li><a href="#en-http-y-apis">En HTTP y API’s</a></li>
</ul>
</li>
<li><a href="#validacion-de-formularios">validación de formularios</a><ul>
<li><a href="#mostrar-errores-de-forma-dinamica">mostrar errores de forma dinámica</a></li>
<li><a href="#mensajes-en-castellano">mensajes en castellano</a></li>
<li><a href="#mantener-el-valor-en-el-campo-despues-de-un-error">mantener el valor en el campo después de un error</a></li>
<li><a href="#confirmar-password-en-otro-campo">confirmar password en otro campo</a></li>
</ul>
</li>
<li><a href="#migraciones-y-la-base-de-datos">migraciones y la base de datos</a><ul>
<li><a href="#que-son-migraciones">qué son migraciones</a><ul>
<li><a href="#rollback-de-la-migracion">rollback de la migración</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#modelos">modelos</a><ul>
<li><a href="#orm-eloquent">ORM Eloquent</a></li>
<li><a href="#convenciones-en-laravel">convenciones en Laravel</a><ul>
<li><a href="#en-modelos">en Modelos</a></li>
</ul>
</li>
<li><a href="#crear-registros-con-eloquent-orm">crear registros con Eloquent ORM</a><ul>
<li><a href="#cambiar-el-campo-username-a-unico">cambiar el campo 'username' a único</a></li>
</ul>
</li>
<li><a href="#redireccionar-al-usuario-al-muro-una-vez-la-cuenta-es-creada">redireccionar al usuario al Muro una vez la cuenta es creada</a></li>
<li><a href="#autenticar-un-usuario-que-ha-creado-su-cuenta">autenticar un usuario que ha creado su cuenta</a></li>
</ul>
</li>
<li><a href="#anexo-i-instalacion-de-tailwind-css">anexo I - instalación de Tailwind CSS</a></li>
<li><a href="#anexo-ii-reinstalacion-de-node">anexo II - reinstalación de node</a></li>
<li><a href="#ejemplos">ejemplos</a><ul>
<li><a href="#ejemplo-01-hola-mundo">ejemplo 01. Hola Mundo</a></li>
<li><a href="#ejemplo-02-otras-vistas">ejemplo 02. Otras vistas</a></li>
<li><a href="#ejemplo-03-paso-de-parametros">ejemplo 03. Paso de parámetros</a></li>
<li><a href="#ejemplo-04-uso-de-directivas">ejemplo 04. Uso de directivas</a></li>
<li><a href="#ejemplo-05-vista-registrarse">ejemplo 05. Vista registrarse</a></li>
<li><a href="#ejemplo-06-pasar-datos-a-una-vista">ejemplo 06. Pasar datos a una vista</a></li>
<li><a href="#ejemplo-07-controlador-registercontroller-y-su-formulario">ejemplo 07. Controlador RegisterController y su formulario</a></li>
<li><a href="#ejemplo-08-peticion-post">ejemplo 08. Petición post</a><ul>
<li><a href="#problema-a-la-vista">problema a la "vista"!!</a></li>
</ul>
</li>
<li><a href="#ejemplo-09-validacion-de-campos">ejemplo 09. Validación de campos</a></li>
<li><a href="#ejemplo-10-mensajes-de-errores-dinamicos">ejemplo 10. Mensajes de errores dinámicos</a></li>
<li><a href="#ejemplo-11-mantener-valor-despues-de-un-error">ejemplo 11. Mantener valor después de un error</a></li>
<li><a href="#ejemplo-12-confirmar-valor-del-password">ejemplo 12. Confirmar valor del password</a></li>
<li><a href="#ejemplo-13-crear-usuario-en-la-app">ejemplo 13. Crear usuario en la app</a></li>
</ul>
</li>
<li><a href="#referencias">referencias</a></li>
</ul>
</div>
<h1 id="duracion-y-criterios-de-evaluacion">duración y criterios de evaluación</h1>
<p><strong>Duración estimada</strong>: ∞ sesiones.</p>
<hr />
<p><strong>Resultado de aprendizaje y criterios de evaluación</strong>:</p>
<ol>
<li>Desarrolla aplicaciones Web embebidas en lenguajes de marcas analizando e incorporando funcionalidades según especificaciones.</li>
</ol>
<p>a) <em>Se han identificado los mecanismos disponibles para el mantenimiento de la información que concierne a un cliente web concreto y se han señalado sus ventajas.</em></p>
<p>b) <em>Se han utilizado sesiones para mantener el estado de las aplicaciones Web.</em></p>
<p>c) <em>Se han utilizado cookies para almacenar información en el cliente Web y para recuperar su contenido.</em></p>
<p>d) <em>Se han identificado y caracterizado los mecanismos disponibles para la autentificación de usuarios.</em></p>
<p>e) <em>Se han escrito aplicaciones que integren mecanismos de autentificación de usuarios.</em></p>
<p>f) <em>Se han realizado adaptaciones a aplicaciones Web existentes como gestores de contenidos u otras.</em></p>
<p>g) <em>Se han utilizado herramientas y entornos para facilitar la programación, prueba y depuración del código.</em></p>
<hr />
<h1 id="consideraciones-previas">consideraciones previas</h1>
<h2 id="mvc">MVC</h2>
<p><strong>MVC</strong> (Model View Controller o Modelo Vista Controlador) es un patrón de arquitectura de software que permite la separación de obligaciones de cada pieza de tu código. </p>
<p>Este paradigma de la programación enfatiza la separación de la lógica de programación con la presentación.</p>
<p><strong>Ventajas</strong>:</p>
<ul>
<li>MVC no mejora el performance del código, tampoco da seguridad; pero <strong>tu código tendrá un mejor orden y será fácil de mantener</strong>.</li>
<li>En un grupo de trabajo, el tener el código ordenado permite que más de una persona pueda entender que es lo que hace cada parte de él.</li>
<li>Aprender MVC, te hará que otras tecnologías como <em>Nest</em>, <em>Rails</em>, <em>Django</em>, <em>Net Core</em>, <em>Spring Boot</em> te serán más sencillas de aprender.</li>
</ul>
<h3 id="modelo">Modelo</h3>
<p>Encargado de todas las interacciones en la base de datos (obtener datos, actualizarlos y eliminar). </p>
<p>El Modelo se encarga de consultar una base de datos, obtiene la información pero no la muestra (esa tarea es para las vistas).</p>
<p>El Modelo tampoco se encarga de actualizar la información directamente (esa tarea es del Controlador, que es quien decide cuándo llamarlo).</p>
<h3 id="vista">Vista</h3>
<p>Se encarga de todo lo que se ve en pantalla (HTML).</p>
<p>Laravel tiene un Template Engine llamado <strong>Blade</strong> para mostrar los datos.</p>
<p>Si utilizas <em>React</em>, <em>Vue</em>, <em>Angular</em>, <em>Svelte</em> , etc. estos serían tu vista.</p>
<p>El Modelo consulta la base de datos, pero es por medio del Controlador que se decide qué Vista hay que llamar y qué datos presentar.</p>
<h3 id="controlador">Controlador</h3>
<p>Es el que comunica <em>Modelo</em> y <em>Vista</em>; antes de que el <em>Modelo</em> consulte la base de datos el <em>Controlador</em> es el encargado de llamar un <em>Modelo</em> en específico.</p>
<p>Una vez consultado el <em>Modelo</em>, el <em>Controlador</em> recibe esa información, manda llamar a la <em>Vista</em> y le pasa la información.</p>
<p>El <em>Controlador</em> es el que mandar llamar la <em>Vista</em> y <em>Modelo</em>s, que se requieren en cada parte de tu aplicación.</p>
<h3 id="router">Router</h3>
<p>Es el encargado de registrar todas las URL’s o Endpoints que va a soportar nuestra aplicación.</p>
<p>Ejemplo: </p>
<p>Si el Usuario accede a /productos el router ya tiene registrada esa ruta y un controlador con una función que sabe que Modelo debe llamar y que vista mostrar cuando el usuario visita esa URL.</p>
<p><img src="./assets/ud07_laravel000.png" style="zoom:50%;" /></p>
<h2 id="artisan">Artisan</h2>
<p>Artisan es el CLI (Command Line Interface) incluido en Laravel.</p>
<p>Artisan es un script que existe en la base de tu proyecto de Laravel y cuenta con una gran cantidad de scripts disponibles.</p>
<p>Estos comandos te permiten crear <em>migraciones</em>, <em>controladores</em>, <em>modelos</em>, <em>policies</em> y mucho más.</p>
<p>Todos los comando podemos encontrarlos ejecutando:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="c1"># php artisan</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="c1"># ó, si no funciona:</span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a>sudo<span class="w"> </span>docker-compose<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>myapp<span class="w"> </span>php<span class="w"> </span>artisan
</code></pre></div></td></tr></table></div>
<p>Por ejemplo, si quisiéramos crear un controlador (como veremos más adelante) la orden sería:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span>
<span class="normal"><a href="#__codelineno-1-2">2</a></span>
<span class="normal"><a href="#__codelineno-1-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="c1"># php artisan make:controller RegisterController</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="c1"># ó, si no funciona:</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a>sudo<span class="w"> </span>docker-compose<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>myapp<span class="w"> </span>php<span class="w"> </span>artisan<span class="w"> </span>make:controller<span class="w"> </span>RegisterController
</code></pre></div></td></tr></table></div>
<h1 id="instalar-docker-bitnamilaravel">instalar docker bitnami/Laravel</h1>
<ol>
<li>Lo primero de todo es crear una carpeta con el nombre del proyecto y accedemos ella.</li>
</ol>
<p>Por ejemplo, creamos el proyecto <em>prularavel</em> dentro de nuestra carpeta de proyectos:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a>$<span class="w"> </span>mkdir<span class="w"> </span>~/dwes/proyectos/prularavel
</code></pre></div></td></tr></table></div>
<ol>
<li>
<p>Accedemos dentro de la carpeta de este nuevo proyecto.</p>
</li>
<li>
<p>En este punto tenemos dos opciones:</p>
</li>
</ol>
<p>A. Utilizar la imagen de Bitnami ya preparada, así que lo que hacer ahora es <a href="https://hub.docker.com/r/bitnami/laravel">descargar el archivo docker-compose.yml</a> del repositorio de Github oficial.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a>curl<span class="w"> </span>-LO<span class="w"> </span>https://raw.githubusercontent.com/bitnami/containers/main/bitnami/laravel/docker-compose.yml
</code></pre></div></td></tr></table></div>
<p>B. Utilizar el fichero <code>docker-compose.yml</code> que tenemos en nuestra carpeta del curso (en el que se añade el contenedor para <em>phpMyadmin</em>).</p>
<blockquote>
<p>En caso ejecutaremos la opción B.</p>
</blockquote>
<ol>
<li>Una vez descargado el archivo en nuestra carpeta que acabamos de crear con el nombre del proyecto, lanzamos el siguiente comando por consola para instalar todas las dependencias y crear las imágenes de Docker correspondientes.</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a>sudo<span class="w"> </span>docker-compose<span class="w"> </span>up<span class="w"> </span>-d
</code></pre></div></td></tr></table></div>
<ol>
<li>Si utilizamos el contenedor <code>Portainer</code> para la gestión de nuestros contenedores, podremos observar que estarán en marcha nuestros dos contenedores (pertenecientes al servidor web y servidor de bases de datos):</li>
</ol>
<p><img src="./assets/ud07_laravel_001.png" style="zoom:75%;" /></p>
<blockquote>
<p>Si por alguna extraña razón estás en Windows y no te funciona una de las 2 imágenes, puede ser debido a la instalación de composer dentro de la imagen de Laravel.</p>
<p><img src="./assets/ud07_img02_error-laravel.png" style="zoom:50%;" /></p>
<p>Para solucionarlo, nos vamos a la carpeta del proyecto que se te habrá creado por defecto al hacer docker-compose; en este caso, y si no has modificado el archivo .yml, la carpeta del proyecto sera <code>my-proyect</code> y dentro de ella eliminamos la carpeta vendor.</p>
<p>Acto seguido instalar Composer de manera global en nuestro sistema Windows (bájate el instalador <a href="http://localhost:51235/UD07_ES/resources/Composer-Setup.exe">desde este enlace</a>).</p>
<p>Una vez lo instales ya serás capaz de lanzar el comando composer desde cualquier consola de Windows.</p>
</blockquote>
<h2 id="vscode-extensiones">VSCode extensiones</h2>
<p>Recomendable instalar los siguientes plugins para Visual Studio Code.</p>
<p>Referentes a PHP:</p>
<ul>
<li><em>PHP Intelephense</em></li>
<li><em>PHP IntelliSense</em></li>
<li><em>PHP Namespace Resolver</em></li>
</ul>
<p>Referentes a Laravel:</p>
<ul>
<li>Laravel Blade Snippets</li>
<li><em>Laravel Snippets</em></li>
<li><em>Laravel goto view</em></li>
<li><em>Laravel Extra Intellisense</em></li>
</ul>
<p>Referentes a API:</p>
<ul>
<li><em>Thunder Client</em></li>
</ul>
<p>Referentes a CSS:</p>
<ul>
<li><em>Tailwind CSS IntelliSense</em></li>
</ul>
<blockquote>
<p><strong>Aporte</strong></p>
<p>Un aporte, o instalación, a tener en cuenta, podría ser la de instalar <code>Tailwind CSS</code>. Este software nos va a proporcionar, de manera sencilla y cómoda, una opción de utilizar CSS.</p>
<p>Para ello, seguir las instrucciones del <a href="# anexo I - instalación de Tailwind CSS">anexo I - instalación de Tailwind CSS</a>.</p>
</blockquote>
<h1 id="carpetas-en-laravel">carpetas en Laravel</h1>
<p><img src="./assets/ud07_laravel002.png" alt="phpMyAdmin" style="zoom:35%; float:right;" />Al crear un nuevo proyecto con este framework, Laravel crea una serie de carpetas por defecto. Esta estructura de carpetas es la recomendada para utilizar Laravel.</p>
<h2 id="apphttpcontrollers">app/Http/Controllers</h2>
<p>En esta carpeta es donde se van a introducir nuestros controladores (cuando se cree un controlador, es aquí donde va a ubicarse).</p>
<h2 id="models">Models</h2>
<p>Para seguir el paradigma de <strong>M</strong>VC, los modelos van a introducirse en esta carpeta.</p>
<h2 id="public">public</h2>
<p>Esta es la carpeta más importante ya que es donde se ponen todos los archivos que el cliente va a mostrar al usuario cuando introduzcamos la URL de nuestro sitio web (por ejemplo, dentro de esta carpeta crear otra carpeta <code>img</code>). Normalmente se carga el archivo <code>index.php</code> por defecto.</p>
<h2 id="resources">resources</h2>
<p>Esta es nuestra carpeta de recursos donde guardaremos los siguientes archivos, que también, están separados por sus carpetas... como cada nombre indica:</p>
<ul>
<li><code>css</code> Archivos CSS (archivos originales que son procesadas y se colocan las versiones compiladas en <code>public</code> mediante al archivo <code>webpack.mix.js</code>).</li>
<li><code>js</code> Archivos JS o JavaScript (archivos originales que son procesadas y se colocan las versiones compiladas en <code>public</code> mediante al archivo <code>webpack.mix.js</code>).</li>
<li><code>lang</code> Archivos relacionados con el idioma del sitio (variables &amp; strings).</li>
<li><code>views</code> Archivos de nuestras vistas, lo que las rutas cargan (comúnmente: lo que se ve en pantalla).</li>
</ul>
<blockquote>
<p><strong>Ejemplo</strong>: Podemos observar todo esto en el  <a href="# ejemplo 01. Hola mundo">ejemplo 01</a>.</p>
</blockquote>
<h2 id="routes">routes</h2>
<p>Otra de las carpetas que más vamos a usar a lo largo de esta unidad dedicada a Laravel es <code>routes</code>. En ella se albergan todas las <strong>rutas</strong> (redirecciones web) de nuestro proyecto, pero más concretamente en el archivo <code>web.php</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a>Dada<span class="w"> </span>una<span class="w"> </span>ruta<span class="w"> </span>→<span class="w"> </span>se<span class="w"> </span>cargará<span class="w"> </span>una<span class="w"> </span>vista
</code></pre></div></td></tr></table></div>
<h2 id="vendor">vendor</h2>
<p>En esta carpeta se colocan todas las dependencias de <code>Composer</code> que son necesarias tanto para que Laravel funcione o si quieres agregar alguna dependencia extra (por ejemplo: agregar pagos con <em>Paypal</em> . Laravel tiene un paquete llamado cashier que permite pagos en línea y también podemos instalar una dependencia extra mediante Composer).</p>
<p>Podemos observar en el archivo <code>composer.json</code> las dependencias instaladas.</p>
<h2 id="env">.env</h2>
<p>Aunque <code>.env</code> no es una carpeta, sino un archivo, también merece especial atención por ser un fichero de configuración de nuestro proyecto. Por ejemplo, en nuestro caso, la conexión a base de datos sería:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span>
<span class="normal"><a href="#__codelineno-6-2">2</a></span>
<span class="normal"><a href="#__codelineno-6-3">3</a></span>
<span class="normal"><a href="#__codelineno-6-4">4</a></span>
<span class="normal"><a href="#__codelineno-6-5">5</a></span>
<span class="normal"><a href="#__codelineno-6-6">6</a></span>
<span class="normal"><a href="#__codelineno-6-7">7</a></span>
<span class="normal"><a href="#__codelineno-6-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="c1"># ...</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="nv">DB_CONNECTION</span><span class="o">=</span>mysql
<a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="nv">DB_HOST</span><span class="o">=</span><span class="m">127</span>.0.0.1
<a id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="nv">DB_PORT</span><span class="o">=</span><span class="m">3306</span>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="nv">DB_DATABASE</span><span class="o">=</span>dwes
<a id="__codelineno-6-6" name="__codelineno-6-6"></a><span class="nv">DB_USERNAME</span><span class="o">=</span>dwes
<a id="__codelineno-6-7" name="__codelineno-6-7"></a><span class="nv">DB_PASSWORD</span><span class="o">=</span>dwes
<a id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="c1"># ...</span>
</code></pre></div></td></tr></table></div>
<h1 id="rutas">rutas</h1>
<p>Las rutas en Laravel (y en casi cualquier Framework) sirven para redireccionar al cliente (o navegador) a las vistas que nosotros queramos.</p>
<p>Estas rutas se configuran en el archivo <code>routes/web.php</code> donde se define la ruta que el usuario pone en la URL después del dominio y se retorna la vista que se quiere cargar al introducir dicha dirección en el navegador. </p>
<p>En este ejemplo podemos obersvar la clase <code>Route</code> y un método estático <code>get</code>, este método estático toma la URL ('/' en este caso) y también un <em>closure</em> o <em>callback</em> <code>function () ...</code></p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1">1</a></span>
<span class="normal"><a href="#__codelineno-7-2">2</a></span>
<span class="normal"><a href="#__codelineno-7-3">3</a></span>
<span class="normal"><a href="#__codelineno-7-4">4</a></span>
<span class="normal"><a href="#__codelineno-7-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="cp">&lt;?php</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a>    <span class="c1">// Ruta por defecto para cargar la vista welcome (sin extensión .blade.php) cuando el usuario introduce simplemente el dominio</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a>    <span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a>        <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">&#39;welcome&#39;</span><span class="p">);</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a>    <span class="p">});</span>
</code></pre></div></td></tr></table></div>
<p>En el ejemplo de arriba vamos a cargar la vista llamada <em>welcome</em> que hace referencia a la vista <code>resources/views/welcome.blade.php</code>.</p>
<blockquote>
<p><strong>closure <em>VS</em> controlador</strong></p>
<p>Se puede definir en el segundo parámetro un closure o un controlador (veremos más adelante este caso).</p>
<p>Por ejemplo:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="x">Route::get(&#39;/register&#39;, [RegisterController::class, &#39;index&#39;]) -&gt; name(&#39;register&#39;);</span>
</code></pre></div></td></tr></table></div>
</blockquote>
<h2 id="alias">alias</h2>
<p>Es interesante darle un alias o un nombre a nuestras rutas para poder utilizar dichos alias en nuestras plantillas de Laravel que veremos más adelante.</p>
<p>Para ello, basta con utilizar la palabra <code>name</code> al final de la estructura de la ruta y darle un nombre que queramos; normalmente descriptivo y asociado a la vista que tiene que cargar el enroutador de Laravel.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span>
<span class="normal"><a href="#__codelineno-9-2">2</a></span>
<span class="normal"><a href="#__codelineno-9-3">3</a></span>
<span class="normal"><a href="#__codelineno-9-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="cp">&lt;?php</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a>    <span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/users&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a>        <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">);</span>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a>    <span class="p">})</span> <span class="o">-&gt;</span> <span class="na">name</span><span class="p">(</span><span class="s1">&#39;usuarios&#39;</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>Después veremos que es muy útil ya que a la hora de refactorizar o hacer un cambio, si tenemos enlaces o menús de navegación que apuntan a esta ruta, sólo tendríamos que cambiar el parámetro dentro del get() y no tener que ir archivo por archivo.</p>
<h3 id="forma-corta-para-una-vista">forma corta para una vista</h3>
<p>Laravel nos proporciona una manera más cómoda a la hora de cargar una vista si no queremos parámetros ni condiciones. Tan sólo definiremos la siguiente línea que hace referencia la ruta datos en la URL y va a cargar el archivo <code>usuarios.php</code> de nuestra carpeta views como le hemos indicado en el segundo parámetro.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span>
<span class="normal"><a href="#__codelineno-10-2">2</a></span>
<span class="normal"><a href="#__codelineno-10-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="cp">&lt;?php</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a>    <span class="cm">/* http://localhost/datos/ */</span>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a>    <span class="nx">Route</span><span class="o">::</span><span class="na">view</span><span class="p">(</span><span class="s1">&#39;datos&#39;</span><span class="p">,</span> <span class="s1">&#39;usuarios&#39;</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>Pero no sólo podemos retornar una vista, sino, desde un simple string, a módulos propios de Laravel.</p>
<blockquote>
<p><strong>Ejemplo</strong>: Podemos observar todo esto en el  <a href="# ejemplo 02. Otras vistas">ejemplo 02</a>.</p>
</blockquote>
<h2 id="parametros">parámetros</h2>
<p>Ya hemos visto que con PHP podemos pasar parámetros a través de la URL, como si fueran variables, que las recuperábamos a través del método GET o POST.</p>
<p>Con Laravel también podemos introducir parámetros pero de una forma más vistosa y ordenada, de tal manera que sea visualmente más cómodo de recordar y de indexar por los motores de búsqueda como Google.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a>http://localhost/cliente/324
</code></pre></div></td></tr></table></div>
<p>Para configurar este tipo de rutas en nuestro archivo de rutas <code>public/routes/web.php</code> haremos lo siguiente.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1">1</a></span>
<span class="normal"><a href="#__codelineno-12-2">2</a></span>
<span class="normal"><a href="#__codelineno-12-3">3</a></span>
<span class="normal"><a href="#__codelineno-12-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="cp">&lt;?php</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a>    <span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;cliente/{id}&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nv">$id</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-12-3" name="__codelineno-12-3"></a>        <span class="k">return</span><span class="p">(</span><span class="s1">&#39;Cliente con el id: &#39;</span> <span class="o">.</span> <span class="nv">$id</span><span class="p">);</span>
<a id="__codelineno-12-4" name="__codelineno-12-4"></a>    <span class="p">});</span>
</code></pre></div></td></tr></table></div>
<p>¿Qué pasa si no introducimos un id y sólo navegamos hasta cliente/ ? ... que nos va a devolver un <code>404 | NOT FOUND</code>.</p>
<p>Para resolver esto, podemos definir una ruta por defecto en caso de que el id (o parámetro) no sea pasado. Para ello usaremos el símbolo <code>?</code> en nuestro nombre de ruta e inicializaremos la variable con el valor que queramos.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1">1</a></span>
<span class="normal"><a href="#__codelineno-13-2">2</a></span>
<span class="normal"><a href="#__codelineno-13-3">3</a></span>
<span class="normal"><a href="#__codelineno-13-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="cp">&lt;?php</span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a>    <span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;cliente/{id?}&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nv">$id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-13-3" name="__codelineno-13-3"></a>        <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;Cliente con el id: &#39;</span> <span class="o">.</span> <span class="nv">$id</span><span class="p">);</span>
<a id="__codelineno-13-4" name="__codelineno-13-4"></a>    <span class="p">});</span>
</code></pre></div></td></tr></table></div>
<p>Ahora tenemos otro problema, porque estamos filtrando por id del cliente que, normalmente es un número; pero si introducimos un parámetro que no sea un número, vamos a obtener un resultado no deseado.</p>
<p>Para resolver este caso haremos uso de la cláusula <code>where</code> junto con una expresión regular númerica:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1">1</a></span>
<span class="normal"><a href="#__codelineno-14-2">2</a></span>
<span class="normal"><a href="#__codelineno-14-3">3</a></span>
<span class="normal"><a href="#__codelineno-14-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="cp">&lt;?php</span>
<a id="__codelineno-14-2" name="__codelineno-14-2"></a>    <span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;cliente/{id?}&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nv">$id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-14-3" name="__codelineno-14-3"></a>        <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;Cliente con el id: &#39;</span> <span class="o">.</span> <span class="nv">$id</span><span class="p">);</span>
<a id="__codelineno-14-4" name="__codelineno-14-4"></a>    <span class="p">})</span> <span class="o">-&gt;</span> <span class="na">where</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;[0-9]+&#39;</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>Además, podemos pasarle variables a nuestra URL para luego utilizarlas en nuestros archivos de plantillas o en archivos .php haciendo uso de un array asociativo. Veamos un ejemplo con la forma reducida para ahorrarnos código:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span>
<span class="normal"><a href="#__codelineno-15-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="cp">&lt;?php</span>
<a id="__codelineno-15-2" name="__codelineno-15-2"></a>    <span class="nx">Route</span><span class="o">::</span><span class="na">view</span><span class="p">(</span><span class="s1">&#39;datos&#39;</span><span class="p">,</span> <span class="s1">&#39;usuarios&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">5446</span><span class="p">]);</span>
</code></pre></div></td></tr></table></div>
<p>... y el archivo <code>resources/views/usuarios.blade.php</code> debe tener algo parecido a ésto:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1">1</a></span>
<span class="normal"><a href="#__codelineno-16-2">2</a></span>
<span class="normal"><a href="#__codelineno-16-3">3</a></span>
<span class="normal"><a href="#__codelineno-16-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="x">&lt;!-- Estructura típica de un archivo HTML5 --&gt;</span>
<a id="__codelineno-16-2" name="__codelineno-16-2"></a><span class="x">&lt;!-- ... --&gt;</span>
<a id="__codelineno-16-3" name="__codelineno-16-3"></a><span class="x">&lt;p&gt;Usuario con id: </span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$id</span> <span class="cp">?&gt;</span><span class="x">&lt;/p&gt;</span>
<a id="__codelineno-16-4" name="__codelineno-16-4"></a><span class="x">&lt;!-- ... --&gt;</span>
</code></pre></div></td></tr></table></div>
<blockquote>
<p>Con las plantillas de Laravel <strong>blade.php</strong> veremos cómo simplificar aún más nuestro código.</p>
</blockquote>
<p>Para más información acerca de las rutas, parámetros y expresiones regulares en las rutas puedes echar un vistazo a la <a href="https://laravel.com/docs/8.x/routing#route-parameters">documentación oficial de rutas</a> que contiene numerosos ejemplos.</p>
<blockquote>
<p><strong>Ejemplo</strong>: Podemos observar un ejemplo en <a href="# ejemplo 03. paso de parámetros">ejemplo 03</a>.</p>
</blockquote>
<h1 id="plantillas-o-templates">plantillas o templates</h1>
<p>A través de las plantillas de Laravel vamos a escribir <strong>menos código</strong> PHP y vamos a tener nuestros archivos <strong>mejor organizados</strong>.</p>
<p><strong>Blade</strong> es el sistema de plantillas que trae Laravel, por eso los archivos de plantillas que guardamos en el directorio de <code>views</code> llevan la extensión <code>blade.php</code>.</p>
<p>De esta manera sabemos inmediatamente que se trata de una plantilla de Laravel y que forma parte de una vista que se mostrará en el navegador.</p>
<h2 id="directivas">directivas</h2>
<p>Laravel tiene un gran número de directivas que podemos utilizar para ahorrarnos mucho código repetitivo entre otras funciones.</p>
<p>Digamos que las directivas son pequeñas funciones ya escritas que aceptan parámetros y que cada una de ellas hace una función diferente dentro de Laravel. Por ejemplo:</p>
<ul>
<li><code>@yield</code> define el contenido dinámico que se va a cargar. Se usa conjuntamente con <code>@section</code>.</li>
<li><code>@section</code> y <code>@endsection</code> es un bloque de código dinámico.</li>
<li><code>@extends</code> importa el contenido de una plantilla ya creada.</li>
</ul>
<h2 id="separando-codigo">separando código</h2>
<p>Veamos sobre un ejemplo cómo separar el código para no repetirlo.</p>
<blockquote>
<p><strong>Ejemplo</strong>: Podemos observar todo esto en el  <a href="# ejemplo 04. Uso de directivas">ejemplo 04</a>.</p>
<p><strong>Ejemplo</strong>: Realiza también el  <a href="# ejemplo 05. Vista registrarse">ejemplo 05</a>.</p>
</blockquote>
<h2 id="estructuras-de-control">estructuras de control</h2>
<p>Como en todo buen lenguaje de programación, en Laravel también tenemos estructuras de control.</p>
<p>En Blade (plantillas de Laravel) siempre que iniciemos un bloque de estructura de control <strong>DEBEMOS</strong> cerrarla.</p>
<ul>
<li><code>@foreach</code> ~ <code>@endforeach</code> lo usamos para recorrer arrays.</li>
<li><code>@if</code> ~ <code>@endif</code> para comprobar condiciones lógicas.</li>
<li><code>@switch</code> ~ <code>@endswitch</code> en función del valor de una variable ejecutar un código.</li>
<li><code>@case</code> define la casuística del switch.</li>
<li><code>@break</code> rompe la ejecución del código en curso.</li>
<li><code>@default</code> si ninguna casuística se cumple.</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-17-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-17-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-17-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-17-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-17-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-17-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-17-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-17-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-17-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="cp">&lt;?php</span>
<a id="__codelineno-17-2" name="__codelineno-17-2"></a>  <span class="nv">$equipo</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;María&#39;</span><span class="p">,</span> <span class="s1">&#39;Alfredo&#39;</span><span class="p">,</span> <span class="s1">&#39;William&#39;</span><span class="p">,</span> <span class="s1">&#39;Verónica&#39;</span><span class="p">];</span>
<a id="__codelineno-17-3" name="__codelineno-17-3"></a>
<a id="__codelineno-17-4" name="__codelineno-17-4"></a>  <span class="o">@</span><span class="k">foreach</span> <span class="p">(</span><span class="nv">$equipo</span> <span class="k">as</span> <span class="nv">$elemento</span><span class="p">)</span>
<a id="__codelineno-17-5" name="__codelineno-17-5"></a>     <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span> <span class="p">{{</span> <span class="nv">$elemento</span> <span class="p">}}</span> <span class="o">&lt;/</span><span class="nx">p</span><span class="o">&gt;</span>
<a id="__codelineno-17-6" name="__codelineno-17-6"></a>  <span class="o">@</span><span class="k">endforeach</span>
<a id="__codelineno-17-7" name="__codelineno-17-7"></a>  <span class="c1">// si no funciona la estructura anterior:</span>
<a id="__codelineno-17-8" name="__codelineno-17-8"></a>  <span class="c1">// foreach ($equipo as $elemento) {</span>
<a id="__codelineno-17-9" name="__codelineno-17-9"></a>  <span class="c1">//     echo &quot;&lt;p&gt;&quot; . $elemento . &quot;&lt;/p&gt;&quot;;</span>
<a id="__codelineno-17-10" name="__codelineno-17-10"></a>  <span class="c1">// }</span>
</code></pre></div></td></tr></table></div>
<p>Acordaros que podemos pasar variables a través de las rutas como si fueran parámetros. Pero en este caso, vamos a ver otra directiva más; el uso de <code>@compact</code>.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1">1</a></span>
<span class="normal"><a href="#__codelineno-18-2">2</a></span>
<span class="normal"><a href="#__codelineno-18-3">3</a></span>
<span class="normal"><a href="#__codelineno-18-4">4</a></span>
<span class="normal"><a href="#__codelineno-18-5">5</a></span>
<span class="normal"><a href="#__codelineno-18-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="cp">&lt;?php</span>
<a id="__codelineno-18-2" name="__codelineno-18-2"></a>  <span class="c1">// Uso de @compact</span>
<a id="__codelineno-18-3" name="__codelineno-18-3"></a>  <span class="nv">$equipo</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;María&#39;</span><span class="p">,</span> <span class="s1">&#39;Alfredo&#39;</span><span class="p">,</span> <span class="s1">&#39;William&#39;</span><span class="p">,</span> <span class="s1">&#39;Verónica&#39;</span><span class="p">];</span>
<a id="__codelineno-18-4" name="__codelineno-18-4"></a>
<a id="__codelineno-18-5" name="__codelineno-18-5"></a>  <span class="c1">// Route::view(&#39;nosotros&#39;, [&#39;equipo&#39; =&gt; &#39;equipo&#39;]);</span>
<a id="__codelineno-18-6" name="__codelineno-18-6"></a>  <span class="nx">Route</span><span class="o">::</span><span class="na">view</span><span class="p">(</span><span class="s1">&#39;nosotros&#39;</span><span class="p">,</span> <span class="o">@</span><span class="nb">compact</span><span class="p">(</span><span class="s1">&#39;equipo&#39;</span><span class="p">));</span>
</code></pre></div></td></tr></table></div>
<blockquote>
<p><strong>Ejemplo</strong>: Veamos sobre un ejemplo pasar información a la vista a través del <a href="# ejemplo 06. Pasar datos a una vista">ejemplo 06</a>.</p>
</blockquote>
<h1 id="controladores">controladores</h1>
<p>Los controladores son el lugar perfecto para definir la <strong>lógica de negocio</strong> de nuestra aplicación o sitio web.</p>
<p>Hace de intermediario entre la <em>Vista</em> (lo que vemos con nuestro navegador o cliente) y el servidor donde la app está alojada.</p>
<p>Por defecto, los controladores se guardan en una carpeta específica situada en <code>app/Http/Controllers</code> y tienen extensión <code>.php</code>.</p>
<p>Para crear un controlador nuevo debemos hacer uso de nuestro querido CLI <em>artisan</em> donde le diremos que cree un controlador con el nombre que nosotros queramos.</p>
<p>Abrimos la consola y nos situamos en la raíz de nuestro proyecto:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1">1</a></span>
<span class="normal"><a href="#__codelineno-19-2">2</a></span>
<span class="normal"><a href="#__codelineno-19-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a>php<span class="w"> </span>artisan<span class="w"> </span>make:controller<span class="w"> </span>PagesController
<a id="__codelineno-19-2" name="__codelineno-19-2"></a><span class="c1"># ó, si no funciona:</span>
<a id="__codelineno-19-3" name="__codelineno-19-3"></a><span class="c1"># sudo docker-compose exec myapp php artisan make:controller PagesController</span>
</code></pre></div></td></tr></table></div>
<p>Si todo ha salido bien, recibiremos un mensaje por consola con que todo ha ido bien y podremos comprobar que, efectivamente, se ha creado el archivo <code>PagesController.php</code> con una estructura básica de controlador, dentro de la carpeta <code>Controllers</code> que hemos descrito anteriormente. </p>
<p>Ahora podemos modificar nuestro archivo de rutas <code>web.pbp</code> para dejarlo limpio de lógica y trasladar ésta a nuestro nuevo controlador. La idea de esto es dejar el archivo <code>web.php</code> tan limpio como podamos para que, de un vistazo, se entienda todo perfectamente.</p>
<blockquote>
<p><strong>recuerda</strong> </p>
<p>sólo movemos la lógica, mientras que las cláusulas como <code>where</code> y <code>name</code> las seguimos dejando en el archivo de rutas <code>web.php</code>.</p>
</blockquote>
<h2 id="convenciones">convenciones</h2>
<p>Laravel tiene una convención a la hora de nombrar los métodos de tus controllers conocida como Resource Controllers.</p>
<p>Esta convención ayuda bastante para tener todo mejor organizado:</p>
<table>
<thead>
<tr>
<th style="text-align: center;">verbo HTTP</th>
<th style="text-align: center;">URI</th>
<th>acción</th>
<th>ruta</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">GET</td>
<td style="text-align: center;">/clientes</td>
<td>index</td>
<td>clientes.index</td>
</tr>
<tr>
<td style="text-align: center;">POST</td>
<td style="text-align: center;">/clientes</td>
<td>store</td>
<td>clientes.store</td>
</tr>
<tr>
<td style="text-align: center;">DELETE</td>
<td style="text-align: center;">/clientes/{cliente}</td>
<td>destroy</td>
<td>clientes.destroy</td>
</tr>
</tbody>
</table>
<p>En este enlace a la documentación de Laravel vemos las acciones que son controladas (o manejadas) por el controlador <a href="https://laravel.com/docs/10.x/controllers#actions-handled-by-resource-controller">enlace</a>.</p>
<p>Veamos cómo quedaría un <em>refactor</em> del archivo de rutas utilizando un Controller como el que acabamos de crear.</p>
<p>Ahora nos quedaría de la siguiente manera:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-20-1">1</a></span>
<span class="normal"><a href="#__codelineno-20-2">2</a></span>
<span class="normal"><a href="#__codelineno-20-3">3</a></span>
<span class="normal"><a href="#__codelineno-20-4">4</a></span>
<span class="normal"><a href="#__codelineno-20-5">5</a></span>
<span class="normal"><a href="#__codelineno-20-6">6</a></span>
<span class="normal"><a href="#__codelineno-20-7">7</a></span>
<span class="normal"><a href="#__codelineno-20-8">8</a></span>
<span class="normal"><a href="#__codelineno-20-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a><span class="cp">&lt;?php</span>
<a id="__codelineno-20-2" name="__codelineno-20-2"></a>  <span class="c1">// web.php (v2.0) ▒▒▒ Refactorizado</span>
<a id="__codelineno-20-3" name="__codelineno-20-3"></a>  <span class="k">use</span> <span class="nx">App\Http\Controllers\PagesController</span><span class="p">;</span>
<a id="__codelineno-20-4" name="__codelineno-20-4"></a>  <span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Route</span><span class="p">;</span>
<a id="__codelineno-20-5" name="__codelineno-20-5"></a>
<a id="__codelineno-20-6" name="__codelineno-20-6"></a>  <span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="p">[</span> <span class="nx">PagesController</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="s1">&#39;inicio&#39;</span> <span class="p">]);</span>
<a id="__codelineno-20-7" name="__codelineno-20-7"></a>  <span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;datos&#39;</span><span class="p">,</span> <span class="p">[</span> <span class="nx">PagesController</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="s1">&#39;datos&#39;</span> <span class="p">]);</span>
<a id="__codelineno-20-8" name="__codelineno-20-8"></a>  <span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;cliente/{id?}&#39;</span><span class="p">,</span> <span class="p">[</span> <span class="nx">PagesController</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="s1">&#39;cliente&#39;</span> <span class="p">])</span> <span class="o">-&gt;</span> <span class="na">where</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;[0-9]+&#39;</span><span class="p">);</span>
<a id="__codelineno-20-9" name="__codelineno-20-9"></a>  <span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;nosotros/{nosotros?}&#39;</span><span class="p">,</span> <span class="p">[</span> <span class="nx">PagesController</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="s1">&#39;nosotros&#39;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="na">name</span><span class="p">(</span><span class="s1">&#39;nosotros&#39;</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>y en nuestro archivo controlador lo dejaríamos de la siguiente manera:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-21-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-21-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-21-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-21-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-21-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-21-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-21-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-21-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-21-10">10</a></span>
<span class="normal"><a href="#__codelineno-21-11">11</a></span>
<span class="normal"><a href="#__codelineno-21-12">12</a></span>
<span class="normal"><a href="#__codelineno-21-13">13</a></span>
<span class="normal"><a href="#__codelineno-21-14">14</a></span>
<span class="normal"><a href="#__codelineno-21-15">15</a></span>
<span class="normal"><a href="#__codelineno-21-16">16</a></span>
<span class="normal"><a href="#__codelineno-21-17">17</a></span>
<span class="normal"><a href="#__codelineno-21-18">18</a></span>
<span class="normal"><a href="#__codelineno-21-19">19</a></span>
<span class="normal"><a href="#__codelineno-21-20">20</a></span>
<span class="normal"><a href="#__codelineno-21-21">21</a></span>
<span class="normal"><a href="#__codelineno-21-22">22</a></span>
<span class="normal"><a href="#__codelineno-21-23">23</a></span>
<span class="normal"><a href="#__codelineno-21-24">24</a></span>
<span class="normal"><a href="#__codelineno-21-25">25</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="cp">&lt;?php</span>
<a id="__codelineno-21-2" name="__codelineno-21-2"></a>  <span class="c1">// PagesController.php</span>
<a id="__codelineno-21-3" name="__codelineno-21-3"></a>  <span class="k">namespace</span> <span class="nx">App\Http\Controllers</span><span class="p">;</span>
<a id="__codelineno-21-4" name="__codelineno-21-4"></a>
<a id="__codelineno-21-5" name="__codelineno-21-5"></a>  <span class="k">class</span> <span class="nc">PagesController</span> <span class="k">extends</span> <span class="nx">Controller</span> <span class="p">{</span>
<a id="__codelineno-21-6" name="__codelineno-21-6"></a>     <span class="k">public</span> <span class="k">function</span> <span class="nf">inicio</span><span class="p">()</span> <span class="p">{</span> 
<a id="__codelineno-21-7" name="__codelineno-21-7"></a>         <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">&#39;welcome&#39;</span><span class="p">);</span> 
<a id="__codelineno-21-8" name="__codelineno-21-8"></a>     <span class="p">}</span>
<a id="__codelineno-21-9" name="__codelineno-21-9"></a>
<a id="__codelineno-21-10" name="__codelineno-21-10"></a>     <span class="k">public</span> <span class="k">function</span> <span class="nf">datos</span><span class="p">()</span> <span class="p">{</span> 
<a id="__codelineno-21-11" name="__codelineno-21-11"></a>        <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">&#39;usuarios&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">56</span><span class="p">]);</span>
<a id="__codelineno-21-12" name="__codelineno-21-12"></a>     <span class="p">}</span>
<a id="__codelineno-21-13" name="__codelineno-21-13"></a>
<a id="__codelineno-21-14" name="__codelineno-21-14"></a>     <span class="k">public</span> <span class="k">function</span> <span class="nf">cliente</span><span class="p">(</span><span class="nv">$id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-21-15" name="__codelineno-21-15"></a>        <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;Cliente con el id: &#39;</span> <span class="o">.</span> <span class="nv">$id</span><span class="p">);</span>
<a id="__codelineno-21-16" name="__codelineno-21-16"></a>     <span class="p">}</span>
<a id="__codelineno-21-17" name="__codelineno-21-17"></a>
<a id="__codelineno-21-18" name="__codelineno-21-18"></a>     <span class="k">public</span> <span class="k">function</span> <span class="nf">nosotros</span><span class="p">(</span><span class="nv">$nombre</span> <span class="o">=</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-21-19" name="__codelineno-21-19"></a>        <span class="nv">$equipo</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Paco&#39;</span><span class="p">,</span>
<a id="__codelineno-21-20" name="__codelineno-21-20"></a>                   <span class="s1">&#39;Enrique&#39;</span><span class="p">,</span>
<a id="__codelineno-21-21" name="__codelineno-21-21"></a>                   <span class="s1">&#39;Maria&#39;</span><span class="p">,</span>
<a id="__codelineno-21-22" name="__codelineno-21-22"></a>                   <span class="s1">&#39;Veronica&#39;</span><span class="p">];</span>
<a id="__codelineno-21-23" name="__codelineno-21-23"></a>        <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">&#39;nosotros&#39;</span><span class="p">,</span> <span class="o">@</span><span class="nb">compact</span><span class="p">(</span><span class="s1">&#39;equipo&#39;</span><span class="p">,</span> <span class="s1">&#39;nombre&#39;</span><span class="p">));</span>
<a id="__codelineno-21-24" name="__codelineno-21-24"></a>     <span class="p">}</span>
<a id="__codelineno-21-25" name="__codelineno-21-25"></a>  <span class="p">}</span>
</code></pre></div></td></tr></table></div>
<blockquote>
<p><strong>Ejemplo</strong>: Podemos observar todo esto en el  <a href="# ejemplo 07. controlador RegisterController y su formulario">ejemplo 07</a>.</p>
</blockquote>
<h1 id="tipos-de-request">tipos de Request</h1>
<h2 id="en-http-y-apis">En HTTP y API’s</h2>
<p>En HTTP existen diferentes tipos de Request o tipos de Petición: GET, POST, PUT, PATCH y DELETE. </p>
<ul>
<li><code>GET</code> es el más simple; cuando visitas un sitio web por default es un GET, y el método solo se utiliza para recuperar datos pero nunca debe enviar datos. </li>
<li><code>POST</code> se utiliza cuando mandas datos a un servidor; esto incluye información que llenas en un formulario o buscador.</li>
<li><code>PUT</code> es utilizado para actualizar un elemento; pero si no existe crea uno nuevo; PUT es un reemplazo total de un registro.</li>
<li><code>PATCH</code> es utilizado para actualizar parcialmente un elemento o recurso. </li>
<li><code>DELETE</code> se utiliza para eliminar un recurso o elemento.</li>
</ul>
<blockquote>
<p><strong>Ejemplo</strong>: Podemos observar todo esto en el  <a href="# ejemplo 08. Petición post">ejemplo 08</a>.</p>
</blockquote>
<h1 id="validacion-de-formularios">validación de formularios</h1>
<p>Para validar los campos de un formulario podemos utilizar las reglas de validación; éstas se colocarán en la función <code>store</code> del controlador.</p>
<p>Todas las reglas de validación de Laravel podemos observarlas en la documentación oficial, en este <a href="https://laravel.com/docs/10.x/validation#available-validation-rules">enlace</a>.</p>
<blockquote>
<p><strong>Ejemplo</strong>: Podemos observar todo esto en el  <a href="# ejemplo 09. Validación de campos">ejemplo 09</a>.</p>
</blockquote>
<h2 id="mostrar-errores-de-forma-dinamica">mostrar errores de forma dinámica</h2>
<p>Si utilizamos la directiva <code>@error</code>...<code>@enderror</code> de esta forma:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1">1</a></span>
<span class="normal"><a href="#__codelineno-22-2">2</a></span>
<span class="normal"><a href="#__codelineno-22-3">3</a></span>
<span class="normal"><a href="#__codelineno-22-4">4</a></span>
<span class="normal"><a href="#__codelineno-22-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a>@error(&#39;name&#39;)
<a id="__codelineno-22-2" name="__codelineno-22-2"></a>  &lt;p class=&quot;bg-red-500 text-white my-2 rounded-lg text-sm p-2 text-center&quot;&gt;
<a id="__codelineno-22-3" name="__codelineno-22-3"></a>    el nombre es obligatorio
<a id="__codelineno-22-4" name="__codelineno-22-4"></a>  &lt;/p&gt;
<a id="__codelineno-22-5" name="__codelineno-22-5"></a>@enderror
</code></pre></div></td></tr></table></div>
<p>solo mostraría si el nombre es obligatorio; pero podemos tener más validaciones (en el mismo <em>input</em>) que chequear. </p>
<p>Este tipo de errores <strong>con texto estático</strong> <strong>no es la mejor opción</strong>. Laravel ya tiene una serie de mensajes para dicho caso.  Deberemos imprimir un mensaje con el mensaje de error <code>$message</code>.</p>
<blockquote>
<p><strong>Ejemplo</strong>: Podemos observar todo esto en el  <a href="# ejemplo 10. Mensajes de errores dinámicos">ejemplo 10</a>.</p>
</blockquote>
<h2 id="mensajes-en-castellano">mensajes en castellano</h2>
<p>Los mensajes de errores están en inglés, ¿cómo podemos <strong>mostrarlos en castellano</strong>? Existen paquetes en Laravel en castellano, por ejemplo <a href="https://github.com/MarcoGomesr/laravel-validation-en-espanol">MarcoGomesr/laravel-validation-en-espanol</a>. </p>
<p>En el terminal, a nivel de tu proyecto, ejecuta la clonación:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-23-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="x">git clone https://github.com/MarcoGomesr/laravel-validation-en-espanol.git resources/lang</span>
</code></pre></div></td></tr></table></div>
<p>Para terminar el cambio accede al fichero <code>config/app.php</code> y en la linea 86 (más o menos) cambiar el idioma a español:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-24-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1"></a><span class="x">  &#39;locale&#39; =&gt; &#39;es&#39;,</span>
</code></pre></div></td></tr></table></div>
<blockquote>
<p><strong>Ejemplo</strong>: Poner nuestro proyecto en idioma español.</p>
</blockquote>
<h2 id="mantener-el-valor-en-el-campo-despues-de-un-error">mantener el valor en el campo después de un error</h2>
<p>Muchas veces es frustrante volver a un formulario después de un error y observar que los valores de todos los campos se han borrado y que necesitas volver a introducirlos. Para evitar este caso podemos poner en los <code>input</code> el atributo <code>value</code> y pasarle <code>"{{ old('username') }}"</code>.</p>
<blockquote>
<p><strong>Ejemplo</strong>: Podemos observar todo esto en el  <a href="# ejemplo 11. mantener valor después de un error">ejemplo 11</a>.</p>
</blockquote>
<h2 id="confirmar-password-en-otro-campo">confirmar password en otro campo</h2>
<p>Para confirmar el password notamos que habíamos puesto anteriormente al campo de confirmación de password esta etiqueta:</p>
<p>Una convención en Laravel para comprobar si dos campos son iguales es asignarle al segundo el prefijo <code>_confirmation</code>.</p>
<p>Pasos a seguir:</p>
<ol>
<li>Poner de nombre del segundo <em>input</em> <code>password_confirmation</code> (y <strong>debe nombrarse así</strong>) </li>
<li>Poner la validación <code>confirmed</code> para el campo <code>pasword</code> en el controlador.</li>
</ol>
<blockquote>
<p><strong>Ejemplo</strong>: Podemos observar todo esto en el  <a href="# ejemplo 12. Confirmar valor del password">ejemplo 12</a>.</p>
</blockquote>
<h1 id="migraciones-y-la-base-de-datos">migraciones y la base de datos</h1>
<p>Si has seguido los ejemplos anteriores correctamente habrás comprobado que cuando ponemos un correo e intentamos acceder muestra el siguiente error:</p>
<p><img src="./assets/ud07_laravel_008_errorAccesoTabla.png" style="zoom:30%;" /></p>
<p>Nos indica que está revisando el valor de <code>email</code> en la tabla de usuarios y esta no existe. Para completar el formulario habrá que crear dicha tabla <code>users</code>. Para esto debemos realizar nuestra primera <strong>migración</strong>.</p>
<h2 id="que-son-migraciones">qué son migraciones</h2>
<p>Las Migraciones se les conoce como el control de versiones de tu base de datos; de esta forma se puede crear la base de datos y compartir el diseño con el equipo de trabajo.</p>
<p>Si deseas agregar nuevas tablas o columnas a una tabla existente, puedes hacerlo con una nueva migración; si el resultado no fue el deseado, puedes revertir esa migración.</p>
<p>Lanzar desde la linea de comandos:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-25-1">1</a></span>
<span class="normal"><a href="#__codelineno-25-2">2</a></span>
<span class="normal"><a href="#__codelineno-25-3">3</a></span>
<span class="normal"><a href="#__codelineno-25-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1"></a><span class="x">// ejecuta las migraciones</span>
<a id="__codelineno-25-2" name="__codelineno-25-2"></a><span class="x">php artisan migrate</span>
<a id="__codelineno-25-3" name="__codelineno-25-3"></a><span class="x">// ó, si no funciona:</span>
<a id="__codelineno-25-4" name="__codelineno-25-4"></a><span class="x">// sudo docker-compose exec myapp php artisan migrate</span>
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-26-1">1</a></span>
<span class="normal"><a href="#__codelineno-26-2">2</a></span>
<span class="normal"><a href="#__codelineno-26-3">3</a></span>
<span class="normal"><a href="#__codelineno-26-4">4</a></span>
<span class="normal"><a href="#__codelineno-26-5">5</a></span>
<span class="normal"><a href="#__codelineno-26-6">6</a></span>
<span class="normal"><a href="#__codelineno-26-7">7</a></span>
<span class="normal"><a href="#__codelineno-26-8">8</a></span>
<span class="normal"><a href="#__codelineno-26-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1"></a><span class="x">// en caso de querer deshacer el cambio:  </span>
<a id="__codelineno-26-2" name="__codelineno-26-2"></a><span class="x">php artisan migrate:rollback</span>
<a id="__codelineno-26-3" name="__codelineno-26-3"></a><span class="x">// ó, si no funciona:</span>
<a id="__codelineno-26-4" name="__codelineno-26-4"></a><span class="x">// sudo docker-compose exec myapp php artisan migrate:rollback</span>
<a id="__codelineno-26-5" name="__codelineno-26-5"></a>
<a id="__codelineno-26-6" name="__codelineno-26-6"></a><span class="x">// regresar las últimas 5 (por ejemplo) migraciones  </span>
<a id="__codelineno-26-7" name="__codelineno-26-7"></a><span class="x">php artisan migrate:rollback --step=5</span>
<a id="__codelineno-26-8" name="__codelineno-26-8"></a><span class="x">// ó, si no funciona:</span>
<a id="__codelineno-26-9" name="__codelineno-26-9"></a><span class="x">// sudo docker-compose exec myapp php artisan migrate:rollback --step=5</span>
</code></pre></div></td></tr></table></div>
<p>Las migraciones se van a ir colocando, siempre, en la carpeta del proyecto <code>database/migrations</code>:</p>
<p><img src="./assets/ud07_migraciones01.png" style="zoom:40%;" /></p>
<p>Laravel tiene unas migraciones por defecto, sobre todo para la creación de usuarios.</p>
<blockquote>
<p><strong>Consideraciones previas</strong></p>
<p>Recuerda tener el fichero <code>.env</code> configurado para acceder a tu bd en qüestión y con usuario y contraseña adecuados:</p>
<p><img src="./assets/ud07_migraciones02.png" style="zoom:50%;" /></p>
</blockquote>
<p>Abrimos el terminal, dentro del proyecto:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-27-1">1</a></span>
<span class="normal"><a href="#__codelineno-27-2">2</a></span>
<span class="normal"><a href="#__codelineno-27-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1"></a><span class="x">php artisan migrate</span>
<a id="__codelineno-27-2" name="__codelineno-27-2"></a><span class="x">// ó, si no funciona:</span>
<a id="__codelineno-27-3" name="__codelineno-27-3"></a><span class="x">// sudo docker-compose exec myapp php artisan migrate</span>
</code></pre></div></td></tr></table></div>
<p><img src="./assets/ud07_migraciones03.png" style="zoom:50%;" /></p>
<p>Si, después de ejecutar, accedemos a nuestra base de datos, por ejemplo desde <em>phpMyadmin</em>:</p>
<p><img src="./assets/ud07_migraciones04.png" style="zoom:70%;" /></p>
<h3 id="rollback-de-la-migracion">rollback de la migración</h3>
<p>Si, quisiéramos echar para atrás en la migración:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-28-1">1</a></span>
<span class="normal"><a href="#__codelineno-28-2">2</a></span>
<span class="normal"><a href="#__codelineno-28-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1"></a><span class="x">php artisan migrate:rollback</span>
<a id="__codelineno-28-2" name="__codelineno-28-2"></a><span class="x">// ó, si no funciona:</span>
<a id="__codelineno-28-3" name="__codelineno-28-3"></a><span class="x">// sudo docker-compose exec myapp php artisan migrate:rollback</span>
</code></pre></div></td></tr></table></div>
<p><img src="./assets/ud07_migraciones05.png" style="zoom:50%;" /></p>
<p>Vemos que las tablas dejan de existir (solo queda la tabla migraciones) en nuestra bd:</p>
<p><img src="./assets/ud07_migraciones06.png" style="zoom:60%;" /></p>
<blockquote>
<p><strong>Ejemplo</strong>: Podemos observar todo esto en el  <a href="# ejemplo 13. crear usuario en la app">ejemplo 13</a>.</p>
</blockquote>
<h1 id="modelos">modelos</h1>
<h2 id="orm-eloquent">ORM Eloquent</h2>
<p>Laravel incluye su propio <strong>ORM</strong> (Object Relacional Mapper) que hace muy sencillo interactuar con tu base de datos.</p>
<p>En <strong>Eloquent cada tabla tiene su propio modelo</strong>; ese modelo interactúa únicamente con esa tabla y tiene las funciones necesarias para crear registros, obtenerlos, actualizarlos y eliminarlos.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-29-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1"></a>sudo<span class="w"> </span>docker-compose<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>myapp<span class="w"> </span>php<span class="w"> </span>artisan<span class="w"> </span>make:model<span class="w"> </span>Cliente
</code></pre></div></td></tr></table></div>
<p>Laravel tiene el modelo <code>users</code> creado por defecto.</p>
<h2 id="convenciones-en-laravel">convenciones en Laravel</h2>
<h3 id="en-modelos">en Modelos</h3>
<p>Cuando creas el Modelo <strong>Cliente</strong>, Eloquent asume que la tabla se va a llamar <strong>clientes</strong>.</p>
<p>Si el Modelo se llama <strong>Producto</strong>; Eloquent espera una tabla llamada <strong>productos</strong>.</p>
<blockquote>
<p><strong>Problema</strong></p>
<p>Puede ser un problema llamar tu modelo <strong>Proveedor</strong>, porque Eloquent espera la tabla llamada <strong>provedors</strong>, pero se puede reescribir en el modelo.</p>
</blockquote>
<h2 id="crear-registros-con-eloquent-orm">crear registros con Eloquent ORM</h2>
<p>Para <strong>insertar una fila</strong> en nuestra tabla <code>users</code>, debemos insertar el siguiente código en nuestro controlador <code>RegisterController.php</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-30-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-30-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-30-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-30-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-30-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-30-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-30-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-30-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-30-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-30-10">10</a></span>
<span class="normal"><a href="#__codelineno-30-11">11</a></span>
<span class="normal"><a href="#__codelineno-30-12">12</a></span>
<span class="normal"><a href="#__codelineno-30-13">13</a></span>
<span class="normal"><a href="#__codelineno-30-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1"></a><span class="x">//...</span>
<a id="__codelineno-30-2" name="__codelineno-30-2"></a><span class="x">use Illuminate\Support\Facades\Hash</span>
<a id="__codelineno-30-3" name="__codelineno-30-3"></a><span class="x">use App\Models\User   // si no se encuentra se añade</span>
<a id="__codelineno-30-4" name="__codelineno-30-4"></a><span class="x">//...</span>
<a id="__codelineno-30-5" name="__codelineno-30-5"></a><span class="x">public function store(Request $request) {</span>
<a id="__codelineno-30-6" name="__codelineno-30-6"></a><span class="x">    //...</span>
<a id="__codelineno-30-7" name="__codelineno-30-7"></a><span class="x">    User::create([</span>
<a id="__codelineno-30-8" name="__codelineno-30-8"></a><span class="x">        &#39;name&#39; =&gt; $request-&gt;name,</span>
<a id="__codelineno-30-9" name="__codelineno-30-9"></a><span class="x">        &#39;username&#39; =&gt; $request-&gt;username,</span>
<a id="__codelineno-30-10" name="__codelineno-30-10"></a><span class="x">        &#39;mail&#39; =&gt; $request-&gt;email,</span>
<a id="__codelineno-30-11" name="__codelineno-30-11"></a><span class="x">        &#39;password&#39; =&gt; Hash::make($request-&gt;password)</span>
<a id="__codelineno-30-12" name="__codelineno-30-12"></a><span class="x">    ]);</span>
<a id="__codelineno-30-13" name="__codelineno-30-13"></a><span class="x">}</span>
<a id="__codelineno-30-14" name="__codelineno-30-14"></a><span class="x">//...</span>
</code></pre></div></td></tr></table></div>
<p><img src="./assets/ud07_insertar01.png" style="zoom:55%;" /></p>
<p>A tener en cuenta:</p>
<ol>
<li>
<p>cuando introducimos <code>User</code> arriba en el código se va a importar <code>use App\Models\User;</code></p>
</li>
<li>
<p>el método <code>create</code> corresponde a un <code>insert into ...</code></p>
</li>
<li>
<p>podemos utilizar un <em>helper</em> (en Laravel encontramos una gran variedad) relacionado con los string; por ejemplo para que no introduzcamos espacios no deseados en el campo username.</p>
</li>
<li>
<p>vemos que, para <em>hashear</em> el password y que no se vea la cadena literal, podemos utilizar la clase <code>Hash::make(cadena)</code>. Si no importa directamente <code>use Illuminate\Support\Facades\Hash</code> le damos <em>botón derecho</em>-<strong>import class</strong>.</p>
</li>
</ol>
<blockquote>
<p><strong>cuidado</strong></p>
<p>Si no modificamos nada más, el campo <code>username</code> obtendrá un error. Esto es debido a que este campo lo hemos introducido nosotros después de la primera migración; y Laravel tiene un sistema de seguridad por el que no permite creaciones de campos tan fácilmente (así prevee posibles ataques de inserción de código en nuestra base de datos).</p>
</blockquote>
<ol>
<li>Para ello, además del código anterior, modificaremos el modelo <code>User.php</code> que se encuentra en la carpeta <code>app/Models</code> como medida de seguridad:</li>
</ol>
<p><img src="./assets/ud07_insertar02.png" style="zoom:55%;" /></p>
<ol>
<li>Probamos insertar un usuario en la app:</li>
</ol>
<p><img src="./assets/ud07_insertar03.png" style="zoom:55%;" /></p>
<p>Y vemos que se ha insertado en la base de datos:</p>
<p><img src="./assets/ud07_insertar04.png" style="zoom:60%;" /></p>
<h3 id="cambiar-el-campo-username-a-unico">cambiar el campo 'username' a único</h3>
<ol>
<li>Echar para atrás la última migración:</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-31-1">1</a></span>
<span class="normal"><a href="#__codelineno-31-2">2</a></span>
<span class="normal"><a href="#__codelineno-31-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1"></a><span class="x">php artisan migrate:rollback</span>
<a id="__codelineno-31-2" name="__codelineno-31-2"></a><span class="x">// ó, si no funciona:</span>
<a id="__codelineno-31-3" name="__codelineno-31-3"></a><span class="x">// sudo docker-compose exec myapp php artisan migrate:rollback</span>
</code></pre></div></td></tr></table></div>
<p><img src="./assets/ud07_migraciones08.png" style="zoom:60%;" /></p>
<ol>
<li>Hacer cambios en el fichero <code>...add_username_to_users_table.php</code>:</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-32-1">1</a></span>
<span class="normal"><a href="#__codelineno-32-2">2</a></span>
<span class="normal"><a href="#__codelineno-32-3">3</a></span>
<span class="normal"><a href="#__codelineno-32-4">4</a></span>
<span class="normal"><a href="#__codelineno-32-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1"></a><span class="x">//...</span>
<a id="__codelineno-32-2" name="__codelineno-32-2"></a><span class="x">    Schema::table(&#39;users&#39;, function(Blueprint $table)){</span>
<a id="__codelineno-32-3" name="__codelineno-32-3"></a><span class="x">     $table-&gt;string(&#39;username&#39;)-&gt; unique() -&gt; after(&#39;name&#39;);</span>
<a id="__codelineno-32-4" name="__codelineno-32-4"></a><span class="x">    });</span>
<a id="__codelineno-32-5" name="__codelineno-32-5"></a><span class="x">//...</span>
</code></pre></div></td></tr></table></div>
<p><img src="./assets/ud07_migraciones09.png" style="zoom:50%;" /></p>
<ol>
<li>Volver a migrar:</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-33-1">1</a></span>
<span class="normal"><a href="#__codelineno-33-2">2</a></span>
<span class="normal"><a href="#__codelineno-33-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1"></a><span class="x">php artisan migrate</span>
<a id="__codelineno-33-2" name="__codelineno-33-2"></a><span class="x">// ó, si no funciona:</span>
<a id="__codelineno-33-3" name="__codelineno-33-3"></a><span class="x">// sudo docker-compose exec myapp php artisan migrate</span>
</code></pre></div></td></tr></table></div>
<ol>
<li>Ahora podemos hacer un cambio en <code>RegisterController.php</code>, que convierte la cadena a una URL (minúscula y los espacios los sustituye por un guión medio):</li>
</ol>
<p><img src="./assets/ud07_insertar05.png" style="zoom:50%;" /></p>
<ol>
<li>Insertamos un valor en <code>username</code>con mayúsculas y espacios:</li>
</ol>
<p><img src="./assets/ud07_insertar06.png" style="zoom:55%;" /></p>
<p><img src="./assets/ud07_insertar07.png" style="zoom:60%;" /></p>
<ol>
<li>Para que no aparezca un mensaje de error al introducir dos usuarios con el <code>username</code> iguales, lo que podemos hacer es modificar el Request (cuando es nuestra última opción):</li>
</ol>
<p><img src="./assets/ud07_insertar08.png" style="zoom:55%;" /></p>
<h2 id="redireccionar-al-usuario-al-muro-una-vez-la-cuenta-es-creada">redireccionar al usuario al Muro una vez la cuenta es creada</h2>
<ol>
<li>Crear un controlador de nombre <code>PostController</code>:</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-34-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1"></a>sudo<span class="w"> </span>docker-compose<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>myapp<span class="w"> </span>php<span class="w"> </span>artisan<span class="w"> </span>make:controller<span class="w"> </span>PostController
</code></pre></div></td></tr></table></div>
<ol>
<li>Crear un controlador de nombre <code>LoginController</code>:</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-35-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1"></a>sudo<span class="w"> </span>docker-compose<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>myapp<span class="w"> </span>php<span class="w"> </span>artisan<span class="w"> </span>make:controller<span class="w"> </span>LoginController
</code></pre></div></td></tr></table></div>
<p><img src="./assets/ud07_insertar11.png" style="zoom:55%;" /></p>
<p><img src="./assets/ud07_insertar09.png" style="zoom:55%;" /></p>
<p><img src="./assets/ud07_insertar10.png" style="zoom:50%;" /></p>
<h2 id="autenticar-un-usuario-que-ha-creado-su-cuenta">autenticar un usuario que ha creado su cuenta</h2>
<p><img src="./assets/ud07_insertar12.png" style="zoom:50%;" /></p>
<p><img src="./assets/ud07_insertar13.png" style="zoom:50%;" /></p>
<h1 id="anexo-i-instalacion-de-tailwind-css">anexo I - instalación de Tailwind CSS</h1>
<p>Si hemos decidido instalar <code>Tailwind CSS</code> para que nos eche una mano con nuestro css, deberemos de seguir estos pasos:</p>
<ol>
<li>Hay que comprobar la versión de npm y node:</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-36-1">1</a></span>
<span class="normal"><a href="#__codelineno-36-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1"></a>npm<span class="w"> </span>-v
<a id="__codelineno-36-2" name="__codelineno-36-2"></a>node<span class="w"> </span>-v
</code></pre></div></td></tr></table></div>
<ol>
<li>Si la versión de nodejs es inferior a la versión 14 (a la hora de crear este documento) <strong>antes de seguir habremos de reinstalarlo</strong>. Para ello habrá que ir al <a href="# anexo II - reinstalación de node">anexo II - reinstalación de node</a> en este mismo documento.</li>
</ol>
<blockquote>
<p><strong>no continuar si la versión de node es inferior a 14</strong>.</p>
</blockquote>
<ol>
<li>Si nuestra versión de nodejs es correcta (o hemos procedido a reinstalar node en el punto 2), lo primero será desinstalar bootstrap:</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-37-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1"></a>npm<span class="w"> </span>uninstall<span class="w"> </span>bootstrap
</code></pre></div></td></tr></table></div>
<ol>
<li>Instalaremos en desarrollo estas tres dependencias:</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-38-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1"></a>npm<span class="w"> </span>install<span class="w"> </span>-D<span class="w"> </span>tailwindcss<span class="w"> </span>postcss<span class="w"> </span>autoprefixer
</code></pre></div></td></tr></table></div>
<ol>
<li>Generamos ahora el fichero <code>tailwindcss.config.js</code>que aparecerá en la raíz del proyecto:</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-39-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1"></a>npx<span class="w"> </span>tailwindcss<span class="w"> </span>init<span class="w"> </span>-p
</code></pre></div></td></tr></table></div>
<ol>
<li>Editar el fichero del proyecto Laravel <code>tailwindcss.config.js</code> que se ha generado en el directorio raíz del proyecto y donde indicaremos dónde vamos a utilizarlo:</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-40-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-40-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-40-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-40-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-40-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-40-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-40-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-40-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-40-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-40-10">10</a></span>
<span class="normal"><a href="#__codelineno-40-11">11</a></span>
<span class="normal"><a href="#__codelineno-40-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1"></a><span class="x">/** @type {import(&#39;tailwindcss&#39;).Config} */</span>
<a id="__codelineno-40-2" name="__codelineno-40-2"></a><span class="x">export default {</span>
<a id="__codelineno-40-3" name="__codelineno-40-3"></a><span class="x">  content: [</span>
<a id="__codelineno-40-4" name="__codelineno-40-4"></a><span class="x">    &quot;./resources/**/*.blade.php&quot;,</span>
<a id="__codelineno-40-5" name="__codelineno-40-5"></a><span class="x">    &quot;./resources/**/*.js&quot;,</span>
<a id="__codelineno-40-6" name="__codelineno-40-6"></a><span class="x">    &quot;./resources/**/*.vue&quot;,</span>
<a id="__codelineno-40-7" name="__codelineno-40-7"></a><span class="x">  ],</span>
<a id="__codelineno-40-8" name="__codelineno-40-8"></a><span class="x">  theme: {</span>
<a id="__codelineno-40-9" name="__codelineno-40-9"></a><span class="x">    extend: {},</span>
<a id="__codelineno-40-10" name="__codelineno-40-10"></a><span class="x">  },</span>
<a id="__codelineno-40-11" name="__codelineno-40-11"></a><span class="x">  plugins: [],</span>
<a id="__codelineno-40-12" name="__codelineno-40-12"></a><span class="x">}</span>
</code></pre></div></td></tr></table></div>
<ol>
<li>Ahora, en el fichero /resources/css/<code>app.css</code> agregar las siguientes líneas:</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">CSS</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-41-1">1</a></span>
<span class="normal"><a href="#__codelineno-41-2">2</a></span>
<span class="normal"><a href="#__codelineno-41-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1"></a><span class="p">@</span><span class="k">tailwind</span><span class="w"> </span><span class="nt">base</span><span class="p">;</span>
<a id="__codelineno-41-2" name="__codelineno-41-2"></a><span class="p">@</span><span class="k">tailwind</span><span class="w"> </span><span class="nt">components</span><span class="p">;</span>
<a id="__codelineno-41-3" name="__codelineno-41-3"></a><span class="p">@</span><span class="k">tailwind</span><span class="w"> </span><span class="nt">utilities</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<ol>
<li>Desde el terminal (y siempre dentro de nuestro proyecto), vamos a ejecutar:</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-42-1">1</a></span>
<span class="normal"><a href="#__codelineno-42-2">2</a></span>
<span class="normal"><a href="#__codelineno-42-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1"></a>npm<span class="w"> </span>run<span class="w"> </span>dev
<a id="__codelineno-42-2" name="__codelineno-42-2"></a><span class="c1"># ó, si no funciona:</span>
<a id="__codelineno-42-3" name="__codelineno-42-3"></a><span class="c1"># npm run dev -- --host</span>
</code></pre></div></td></tr></table></div>
<p><img src="./assets/ud07_laravel_002.png" style="zoom:50%;" /></p>
<ol>
<li>En el fichero /resources/views/layouts/<code>app.blade.php</code> hay que indicarle que va a utilizar el fichero /resources/css/<code>app.css</code>, para ello hay que añadirlo en:</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-43-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1"></a>@vite(&#39;resources/css/app.css&#39;)
</code></pre></div></td></tr></table></div>
<p><img src="./assets/ud07_laravel_003.png" style="zoom:50%;" /></p>
<p>A partir de ahora, y con este ejemplo, podemos observar que se nos muestra el css:</p>
<p><img src="./assets/ud07_laravel_004.png" style="zoom:50%;" /></p>
<h1 id="anexo-ii-reinstalacion-de-node">anexo II - reinstalación de node</h1>
<p>Para reinstalar nodejs:</p>
<ol>
<li>Desinstalar node por completo:</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-44-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>purge<span class="w"> </span>--auto-remove<span class="w"> </span>nodejs
</code></pre></div></td></tr></table></div>
<ol>
<li>
<p>Eliminar todo resto de node y npm: </p>
<p>a. Antes que nadas, debe ejecutar el siguiente comando desde el terminal:</p>
</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-45-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1"></a>sudo<span class="w"> </span>rm<span class="w"> </span>-rf<span class="w"> </span>/usr/local/bin/npm<span class="w"> </span>/usr/local/share/man/man1/node*<span class="w"> </span>/usr/local/lib/dtrace/node.d<span class="w"> </span>~/.npm<span class="w"> </span>~/.node-gyp<span class="w"> </span>/opt/local/bin/node<span class="w"> </span>opt/local/include/node<span class="w"> </span>/opt/local/lib/node_modules
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>b. Eliminar los directorios node o node_modules de /usr/local/lib con la ayuda del siguiente comando:
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-46-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1"></a>sudo<span class="w"> </span>rm<span class="w"> </span>-rf<span class="w"> </span>/usr/local/lib/node*
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>c. Eliminar los directorios node o node_modules de /usr/local/include con la ayuda del siguiente comando:
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-47-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1"></a>sudo<span class="w"> </span>rm<span class="w"> </span>-rf<span class="w"> </span>/usr/local/include/node*
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>d. Eliminar cualquier archivo de nodo o directorio de /usr/local/bin con la ayuda del siguiente comando:
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-48-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1"></a>sudo<span class="w"> </span>rm<span class="w"> </span>-rf<span class="w"> </span>/usr/local/bin/node
</code></pre></div></td></tr></table></div>
<ol>
<li>
<p>Instalar otra vez nvm:</p>
<p>a. Instalar NvM (Node Version Manager), desde el directorio de usuario <code>~</code> :</p>
</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-49-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1"></a>curl<span class="w"> </span>-o-<span class="w"> </span>https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh<span class="w"> </span><span class="p">|</span><span class="w"> </span>bash
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>b. Actualiza el archivo .bashrc:
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-50-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1"></a><span class="nb">source</span><span class="w"> </span>.bashrc
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>c. Confirma que el directorio local está configurado:
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-51-1">1</a></span>
<span class="normal"><a href="#__codelineno-51-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1"></a><span class="nb">echo</span><span class="w"> </span><span class="nv">$NVM_DIR</span>
<a id="__codelineno-51-2" name="__codelineno-51-2"></a>/home/username/.nvm
</code></pre></div></td></tr></table></div>
<ol>
<li>
<p>Instalar node:</p>
<p>a. Revisar qué versiones de Node.js están disponibles:</p>
</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-52-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1"></a>nvm<span class="w"> </span>ls-remote
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>b. Instalar la versión que desees (elige la v20.10.0):
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-53-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1"></a>nvm<span class="w"> </span>install<span class="w"> </span>v20.10.0
</code></pre></div></td></tr></table></div>
<ol>
<li>Comprobar que la nueva versión de node es superior a 14:</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-54-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1"></a>node<span class="w"> </span>-v
</code></pre></div></td></tr></table></div>
<h1 id="ejemplos">ejemplos</h1>
<h2 id="ejemplo-01-hola-mundo">ejemplo 01. Hola Mundo</h2>
<p>Vamos a eliminar todo el <em>style</em> que viene por defecto y a vaciar de contenido de la etiqueta <code>&lt;body&gt;</code> de la vista <strong>resources/views/</strong><code>wellcome.blade.php</code> y creamos etiquetas:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-55-1">1</a></span>
<span class="normal"><a href="#__codelineno-55-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1"></a>&lt;h1&gt;Página principal&lt;/h1&gt;
<a id="__codelineno-55-2" name="__codelineno-55-2"></a>&lt;h2&gt;Hola Mundo.&lt;/h2&gt;
</code></pre></div></td></tr></table></div>
<p><a href="# routes">[volver  ^]</a></p>
<h2 id="ejemplo-02-otras-vistas">ejemplo 02. Otras vistas</h2>
<p>Creamos dos ficheros <code>nosotros.blade.php</code>, <code>tienda.blade.php</code> en <strong>resources/views</strong>:</p>
<p>Además, añadimos en el fichero <code>web.php</code>  las siguientes rutas:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-56-1">1</a></span>
<span class="normal"><a href="#__codelineno-56-2">2</a></span>
<span class="normal"><a href="#__codelineno-56-3">3</a></span>
<span class="normal"><a href="#__codelineno-56-4">4</a></span>
<span class="normal"><a href="#__codelineno-56-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-56-1" name="__codelineno-56-1"></a><span class="x">Route::get(&#39;/nosotros&#39;, function () {</span>
<a id="__codelineno-56-2" name="__codelineno-56-2"></a><span class="x">    return view(&#39;nosotros&#39;);</span>
<a id="__codelineno-56-3" name="__codelineno-56-3"></a><span class="x">});</span>
<a id="__codelineno-56-4" name="__codelineno-56-4"></a>
<a id="__codelineno-56-5" name="__codelineno-56-5"></a><span class="x">Route::view(&#39;/tienda-virtual&#39;,&#39;tienda&#39;);  // forma corta para la ruta a una vista</span>
</code></pre></div></td></tr></table></div>
<p><a href="# parámetros">[volver  ^]</a></p>
<h2 id="ejemplo-03-paso-de-parametros">ejemplo 03. Paso de parámetros</h2>
<p>En el fichero <code>web.php</code> modifica la ruta a tienda-virtual para que se le pase por parámetro la variable $id. Préviamente se ha inicializado a un valor; controlar si se ha introducido sin valor y si se ha introducido algún valor no numérico:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-57-1">1</a></span>
<span class="normal"><a href="#__codelineno-57-2">2</a></span>
<span class="normal"><a href="#__codelineno-57-3">3</a></span>
<span class="normal"><a href="#__codelineno-57-4">4</a></span>
<span class="normal"><a href="#__codelineno-57-5">5</a></span>
<span class="normal"><a href="#__codelineno-57-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-57-1" name="__codelineno-57-1"></a><span class="x">Route::get(&#39;tienda/{id?}&#39;, function($id = 1) {</span>
<a id="__codelineno-57-2" name="__codelineno-57-2"></a><span class="x">    return view(&#39;tienda&#39;, [&#39;id&#39; =&gt; $id]);</span>
<a id="__codelineno-57-3" name="__codelineno-57-3"></a><span class="x">}) -&gt; where(&#39;id&#39;, &#39;[0-9]+&#39;);</span>
<a id="__codelineno-57-4" name="__codelineno-57-4"></a>
<a id="__codelineno-57-5" name="__codelineno-57-5"></a><span class="x">// otra forma:</span>
<a id="__codelineno-57-6" name="__codelineno-57-6"></a><span class="x">// Route::view(&#39;tienda/{id?}&#39;, &#39;tienda&#39;, [&#39;id&#39; =&gt; 1]);</span>
</code></pre></div></td></tr></table></div>
<p>Después, mostrar este valor en la vista <code>tienda.blade.php</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-58-1">1</a></span>
<span class="normal"><a href="#__codelineno-58-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-58-1" name="__codelineno-58-1"></a>&lt;h1&gt;tienda virtual&lt;/h1&gt;
<a id="__codelineno-58-2" name="__codelineno-58-2"></a>&lt;p&gt;producto con id: &lt;?= $id ?&gt;&lt;/p&gt;
</code></pre></div></td></tr></table></div>
<p><a href="# plantillas o templates">[volver  ^]</a></p>
<h2 id="ejemplo-04-uso-de-directivas">ejemplo 04. Uso de directivas</h2>
<p>Cómo hacer uso del poder de Laravel para crear plantillas y no repetir código.</p>
<p>Supongamos que tenemos ciertas estructuras HTML repetidas como puede ser una cabecera <em>header</em>, un menú de navegación <em>nav</em> y un par de secciones que hacen uso de este mismo código.</p>
<p>Supongamos que tenemos 3 apartados en la web:    <em>Inicio  |  Blog  |  Fotos</em></p>
<ol>
<li>Primero de todo tendremos que generar un archivo que haga de plantilla de nuestro sitio web.</li>
</ol>
<p>Para ello creamos el archivo <code>app.blade.php</code> dentro del nuevo directorio de plantillas <code>resources/views/layouts</code>.</p>
<p>Dicho archivo va a contener el típico código de una página simple de HTML y en el body añadiremos nuestros contenido estático y dinámico.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-59-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-59-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-59-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-59-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-59-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-59-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-59-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-59-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-59-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-59-10">10</a></span>
<span class="normal"><a href="#__codelineno-59-11">11</a></span>
<span class="normal"><a href="#__codelineno-59-12">12</a></span>
<span class="normal"><a href="#__codelineno-59-13">13</a></span>
<span class="normal"><a href="#__codelineno-59-14">14</a></span>
<span class="normal"><a href="#__codelineno-59-15">15</a></span>
<span class="normal"><a href="#__codelineno-59-16">16</a></span>
<span class="normal"><a href="#__codelineno-59-17">17</a></span>
<span class="normal"><a href="#__codelineno-59-18">18</a></span>
<span class="normal"><a href="#__codelineno-59-19">19</a></span>
<span class="normal"><a href="#__codelineno-59-20">20</a></span>
<span class="normal"><a href="#__codelineno-59-21">21</a></span>
<span class="normal"><a href="#__codelineno-59-22">22</a></span>
<span class="normal"><a href="#__codelineno-59-23">23</a></span>
<span class="normal"><a href="#__codelineno-59-24">24</a></span>
<span class="normal"><a href="#__codelineno-59-25">25</a></span>
<span class="normal"><a href="#__codelineno-59-26">26</a></span>
<span class="normal"><a href="#__codelineno-59-27">27</a></span>
<span class="normal"><a href="#__codelineno-59-28">28</a></span>
<span class="normal"><a href="#__codelineno-59-29">29</a></span>
<span class="normal"><a href="#__codelineno-59-30">30</a></span>
<span class="normal"><a href="#__codelineno-59-31">31</a></span>
<span class="normal"><a href="#__codelineno-59-32">32</a></span>
<span class="normal"><a href="#__codelineno-59-33">33</a></span>
<span class="normal"><a href="#__codelineno-59-34">34</a></span>
<span class="normal"><a href="#__codelineno-59-35">35</a></span>
<span class="normal"><a href="#__codelineno-59-36">36</a></span>
<span class="normal"><a href="#__codelineno-59-37">37</a></span>
<span class="normal"><a href="#__codelineno-59-38">38</a></span>
<span class="normal"><a href="#__codelineno-59-39">39</a></span>
<span class="normal"><a href="#__codelineno-59-40">40</a></span>
<span class="normal"><a href="#__codelineno-59-41">41</a></span>
<span class="normal"><a href="#__codelineno-59-42">42</a></span>
<span class="normal"><a href="#__codelineno-59-43">43</a></span>
<span class="normal"><a href="#__codelineno-59-44">44</a></span>
<span class="normal"><a href="#__codelineno-59-45">45</a></span>
<span class="normal"><a href="#__codelineno-59-46">46</a></span>
<span class="normal"><a href="#__codelineno-59-47">47</a></span>
<span class="normal"><a href="#__codelineno-59-48">48</a></span>
<span class="normal"><a href="#__codelineno-59-49">49</a></span>
<span class="normal"><a href="#__codelineno-59-50">50</a></span>
<span class="normal"><a href="#__codelineno-59-51">51</a></span>
<span class="normal"><a href="#__codelineno-59-52">52</a></span>
<span class="normal"><a href="#__codelineno-59-53">53</a></span>
<span class="normal"><a href="#__codelineno-59-54">54</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-59-1" name="__codelineno-59-1"></a>&lt;!DOCTYPE html&gt;
<a id="__codelineno-59-2" name="__codelineno-59-2"></a>&lt;html lang=&quot;{{ str_replace(&#39;_&#39;, &#39;-&#39;, app()-&gt;getLocale()) }}&quot;&gt;
<a id="__codelineno-59-3" name="__codelineno-59-3"></a>&lt;head&gt;
<a id="__codelineno-59-4" name="__codelineno-59-4"></a>  &lt;meta charset=&quot;utf-8&quot;&gt;
<a id="__codelineno-59-5" name="__codelineno-59-5"></a>  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;
<a id="__codelineno-59-6" name="__codelineno-59-6"></a>
<a id="__codelineno-59-7" name="__codelineno-59-7"></a>  &lt;title&gt;Mi proyecto - @yield(&#39;titulo&#39;)&lt;/title&gt;
<a id="__codelineno-59-8" name="__codelineno-59-8"></a>
<a id="__codelineno-59-9" name="__codelineno-59-9"></a>  &lt;!-- introducir la siguiente linea para poder utilizar TailwindCSS --&gt;
<a id="__codelineno-59-10" name="__codelineno-59-10"></a>  @vite(&#39;resources/css/app.css&#39;)
<a id="__codelineno-59-11" name="__codelineno-59-11"></a>
<a id="__codelineno-59-12" name="__codelineno-59-12"></a>&lt;/head&gt;
<a id="__codelineno-59-13" name="__codelineno-59-13"></a>
<a id="__codelineno-59-14" name="__codelineno-59-14"></a>&lt;body class=&quot;bg-gray-100&quot;&gt;
<a id="__codelineno-59-15" name="__codelineno-59-15"></a>  &lt;header class=&quot;p-5 border-b bg-white shadow&quot;&gt;
<a id="__codelineno-59-16" name="__codelineno-59-16"></a>    &lt;div class=&quot;container mx-auto flex justify-between items-center&quot;&gt;
<a id="__codelineno-59-17" name="__codelineno-59-17"></a>       &lt;h1 class=&quot;text-3xl font-black&quot;&gt;
<a id="__codelineno-59-18" name="__codelineno-59-18"></a>           @yield(&#39;titulo&#39;)
<a id="__codelineno-59-19" name="__codelineno-59-19"></a>       &lt;/h1&gt;
<a id="__codelineno-59-20" name="__codelineno-59-20"></a>
<a id="__codelineno-59-21" name="__codelineno-59-21"></a>       &lt;nav class=&quot;flex gap-5 items-center&quot;&gt;
<a id="__codelineno-59-22" name="__codelineno-59-22"></a>           &lt;a class=&quot;font-bold uppercase text-gray-600 text-sm&quot; href=&quot;#&quot;&gt;Login&lt;/a&gt;
<a id="__codelineno-59-23" name="__codelineno-59-23"></a>           &lt;a class=&quot;font-bold uppercase text-gray-600 text-sm&quot;  href=&quot;#&quot;&gt;Crear cuenta&lt;/a&gt;
<a id="__codelineno-59-24" name="__codelineno-59-24"></a>       &lt;/nav&gt;            
<a id="__codelineno-59-25" name="__codelineno-59-25"></a>    &lt;/div&gt;
<a id="__codelineno-59-26" name="__codelineno-59-26"></a>  &lt;/header&gt;
<a id="__codelineno-59-27" name="__codelineno-59-27"></a>
<a id="__codelineno-59-28" name="__codelineno-59-28"></a>  &lt;!-- BORRAR MÁS ADELANTE este menú en el siguiente ejemplo --&gt;
<a id="__codelineno-59-29" name="__codelineno-59-29"></a>  &lt;nav class=&quot;flex gap-5 items-center&quot;&gt;
<a id="__codelineno-59-30" name="__codelineno-59-30"></a>       &lt;a class=&quot;font-bold uppercase text-gray-600 text-sm&quot;
<a id="__codelineno-59-31" name="__codelineno-59-31"></a>          href={{ route(&#39;inicio&#39;) }} &gt;inicio&lt;/a&gt; |
<a id="__codelineno-59-32" name="__codelineno-59-32"></a>       &lt;a class=&quot;font-bold uppercase text-gray-600 text-sm&quot;  
<a id="__codelineno-59-33" name="__codelineno-59-33"></a>          href={{ route(&#39;noticias&#39;) }} &gt;blogs&lt;/a&gt; |
<a id="__codelineno-59-34" name="__codelineno-59-34"></a>       &lt;a class=&quot;font-bold uppercase text-gray-600 text-sm&quot;  
<a id="__codelineno-59-35" name="__codelineno-59-35"></a>          href={{ route(&#39;galeria&#39;) }} &gt;fotos&lt;/a&gt;
<a id="__codelineno-59-36" name="__codelineno-59-36"></a>  &lt;/nav&gt;    
<a id="__codelineno-59-37" name="__codelineno-59-37"></a>
<a id="__codelineno-59-38" name="__codelineno-59-38"></a>  &lt;!-- CONTENIDO PRINCIPAL --&gt;
<a id="__codelineno-59-39" name="__codelineno-59-39"></a>  &lt;main class=&quot;container mx-auto mt-10&quot;&gt;
<a id="__codelineno-59-40" name="__codelineno-59-40"></a>     &lt;h2 class=&quot;font-black text-center text-3xl mb-10&quot;&gt;
<a id="__codelineno-59-41" name="__codelineno-59-41"></a>           @yield(&#39;titulo&#39;)
<a id="__codelineno-59-42" name="__codelineno-59-42"></a>     &lt;/h2&gt;
<a id="__codelineno-59-43" name="__codelineno-59-43"></a>     @yield(&#39;contenido&#39;)
<a id="__codelineno-59-44" name="__codelineno-59-44"></a>  &lt;/main&gt;    
<a id="__codelineno-59-45" name="__codelineno-59-45"></a>
<a id="__codelineno-59-46" name="__codelineno-59-46"></a>  &lt;!-- FOOTER --&gt;
<a id="__codelineno-59-47" name="__codelineno-59-47"></a>  &lt;footer class=&quot;text-center p-5 text-gray-500 font-bold uppercase&quot;&gt;
<a id="__codelineno-59-48" name="__codelineno-59-48"></a>     MiPrimeraWeb - Todos los derechos reservados @php echo date(&#39;Y&#39;) @endphp
<a id="__codelineno-59-49" name="__codelineno-59-49"></a>     &lt;br&gt;
<a id="__codelineno-59-50" name="__codelineno-59-50"></a>     &lt;!-- con helpers --&gt;
<a id="__codelineno-59-51" name="__codelineno-59-51"></a>     MiPrimeraWeb - Todos los derechos reservados {{ now()-&gt;year }}
<a id="__codelineno-59-52" name="__codelineno-59-52"></a>  &lt;/footer&gt;    
<a id="__codelineno-59-53" name="__codelineno-59-53"></a>&lt;/body&gt;
<a id="__codelineno-59-54" name="__codelineno-59-54"></a>&lt;/html&gt;
</code></pre></div></td></tr></table></div>
<p>Cada sección que haga uso de esta plantilla contendrá un menú de navegación con enlaces a cada una de las secciones y el contenido dinámico de cada sección.</p>
<blockquote>
<p>A tener en cuenta:</p>
<ul>
<li><code>{{ route('inicio') }}</code> muestra:</li>
<li><code>{{ ... }}</code> es una etiqueta para Blade que muestra un echo.</li>
<li><code>route(...)</code> lanza la ruta de nombre (o alias) concreto.</li>
<li><code>@php</code> echo date('Y') <code>@endphp</code> son etiquetas para Blade para contener código php. En este caso un echo que muestra el año <code>'Y'</code> de la fecha actual <code>date()</code>.</li>
<li><code>now()</code> es un helper de Laravel (componente del framework diseñado para facilitar alguna tarea típica en el desarrollo de una aplicación web). Tiene distintos atributos y métodos, entre ellos, <code>year</code> para mostrar el año.</li>
</ul>
</blockquote>
<ol>
<li>Ahora crearemos los archivos dinámicos de cada una de las secciones, en nuestro caso:</li>
</ol>
<p><code>inicio.blade.php</code>:</p>
<p>Importamos el contenido de plantilla bajo la directiva <code>@extends</code> para que cargue los elementos estáticos que hemos declarado y con la directiva <code>@section</code> y <code>@endsection</code> definimos el bloque de código dinámico, en función de la sección que estemos visitando.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-60-1">1</a></span>
<span class="normal"><a href="#__codelineno-60-2">2</a></span>
<span class="normal"><a href="#__codelineno-60-3">3</a></span>
<span class="normal"><a href="#__codelineno-60-4">4</a></span>
<span class="normal"><a href="#__codelineno-60-5">5</a></span>
<span class="normal"><a href="#__codelineno-60-6">6</a></span>
<span class="normal"><a href="#__codelineno-60-7">7</a></span>
<span class="normal"><a href="#__codelineno-60-8">8</a></span>
<span class="normal"><a href="#__codelineno-60-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-60-1" name="__codelineno-60-1"></a><span class="x">@extends(&#39;layouts.app&#39;)</span>
<a id="__codelineno-60-2" name="__codelineno-60-2"></a>
<a id="__codelineno-60-3" name="__codelineno-60-3"></a><span class="x">@section(&#39;titulo&#39;)</span>
<a id="__codelineno-60-4" name="__codelineno-60-4"></a><span class="x">    página principal</span>
<a id="__codelineno-60-5" name="__codelineno-60-5"></a><span class="x">@endsection</span>
<a id="__codelineno-60-6" name="__codelineno-60-6"></a>
<a id="__codelineno-60-7" name="__codelineno-60-7"></a><span class="x">@section(&#39;contenido&#39;)</span>
<a id="__codelineno-60-8" name="__codelineno-60-8"></a><span class="x">    contenido de la página principal</span>
<a id="__codelineno-60-9" name="__codelineno-60-9"></a><span class="x">@endsection</span>
</code></pre></div></td></tr></table></div>
<p><code>blog.blade.php</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-61-1">1</a></span>
<span class="normal"><a href="#__codelineno-61-2">2</a></span>
<span class="normal"><a href="#__codelineno-61-3">3</a></span>
<span class="normal"><a href="#__codelineno-61-4">4</a></span>
<span class="normal"><a href="#__codelineno-61-5">5</a></span>
<span class="normal"><a href="#__codelineno-61-6">6</a></span>
<span class="normal"><a href="#__codelineno-61-7">7</a></span>
<span class="normal"><a href="#__codelineno-61-8">8</a></span>
<span class="normal"><a href="#__codelineno-61-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-61-1" name="__codelineno-61-1"></a><span class="x">@extends(&#39;layouts.app&#39;)</span>
<a id="__codelineno-61-2" name="__codelineno-61-2"></a>
<a id="__codelineno-61-3" name="__codelineno-61-3"></a><span class="x">@section(&#39;titulo&#39;)</span>
<a id="__codelineno-61-4" name="__codelineno-61-4"></a><span class="x">    notícias</span>
<a id="__codelineno-61-5" name="__codelineno-61-5"></a><span class="x">@endsection</span>
<a id="__codelineno-61-6" name="__codelineno-61-6"></a>
<a id="__codelineno-61-7" name="__codelineno-61-7"></a><span class="x">@section(&#39;contenido&#39;)</span>
<a id="__codelineno-61-8" name="__codelineno-61-8"></a><span class="x">    contenido de todas las notícias</span>
<a id="__codelineno-61-9" name="__codelineno-61-9"></a><span class="x">@endsection </span>
</code></pre></div></td></tr></table></div>
<p><code>fotos.blade.php</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-62-1">1</a></span>
<span class="normal"><a href="#__codelineno-62-2">2</a></span>
<span class="normal"><a href="#__codelineno-62-3">3</a></span>
<span class="normal"><a href="#__codelineno-62-4">4</a></span>
<span class="normal"><a href="#__codelineno-62-5">5</a></span>
<span class="normal"><a href="#__codelineno-62-6">6</a></span>
<span class="normal"><a href="#__codelineno-62-7">7</a></span>
<span class="normal"><a href="#__codelineno-62-8">8</a></span>
<span class="normal"><a href="#__codelineno-62-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-62-1" name="__codelineno-62-1"></a><span class="x">@extends(&#39;layouts.app&#39;)</span>
<a id="__codelineno-62-2" name="__codelineno-62-2"></a>
<a id="__codelineno-62-3" name="__codelineno-62-3"></a><span class="x">@section(&#39;titulo&#39;)</span>
<a id="__codelineno-62-4" name="__codelineno-62-4"></a><span class="x">fotografías</span>
<a id="__codelineno-62-5" name="__codelineno-62-5"></a><span class="x">@endsection</span>
<a id="__codelineno-62-6" name="__codelineno-62-6"></a>
<a id="__codelineno-62-7" name="__codelineno-62-7"></a><span class="x">@section(&#39;contenido&#39;)</span>
<a id="__codelineno-62-8" name="__codelineno-62-8"></a><span class="x">galería de fotografías</span>
<a id="__codelineno-62-9" name="__codelineno-62-9"></a><span class="x">@endsection     </span>
</code></pre></div></td></tr></table></div>
<ol>
<li>El último paso que nos queda es configurar el archivo de rutas <code>routes/web.php</code>:</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-63-1">1</a></span>
<span class="normal"><a href="#__codelineno-63-2">2</a></span>
<span class="normal"><a href="#__codelineno-63-3">3</a></span>
<span class="normal"><a href="#__codelineno-63-4">4</a></span>
<span class="normal"><a href="#__codelineno-63-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-63-1" name="__codelineno-63-1"></a><span class="cp">&lt;?php</span>
<a id="__codelineno-63-2" name="__codelineno-63-2"></a>  <span class="c1">// web.php</span>
<a id="__codelineno-63-3" name="__codelineno-63-3"></a>  <span class="nx">Route</span><span class="o">::</span><span class="na">view</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;inicio&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="na">name</span><span class="p">(</span><span class="s1">&#39;inicio&#39;</span><span class="p">);</span>
<a id="__codelineno-63-4" name="__codelineno-63-4"></a>  <span class="nx">Route</span><span class="o">::</span><span class="na">view</span><span class="p">(</span><span class="s1">&#39;blog&#39;</span><span class="p">,</span> <span class="s1">&#39;blog&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="na">name</span><span class="p">(</span><span class="s1">&#39;noticias&#39;</span><span class="p">);</span>
<a id="__codelineno-63-5" name="__codelineno-63-5"></a>  <span class="nx">Route</span><span class="o">::</span><span class="na">view</span><span class="p">(</span><span class="s1">&#39;fotos&#39;</span><span class="p">,</span> <span class="s1">&#39;fotos&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="na">name</span><span class="p">(</span><span class="s1">&#39;galeria&#39;</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>De esta manera podremos hacer uso del menú de navegación que hemos puesto en nuestra plantilla y gracias a los alias noticias y galeria, la URL será más amigable.</p>
<p><a href="# estructuras de control">[volver  ^]</a></p>
<h2 id="ejemplo-05-vista-registrarse">ejemplo 05. Vista registrarse</h2>
<blockquote>
<p>Antes de continuar con el ejemplo, debes <strong>modificar</strong> (<strong>guarda los modificados</strong>):</p>
<ul>
<li>elimina el menú de navegación de <em>inicio | blogs | fotos</em> del fichero <code>layouts/app.blade.php</code>.</li>
<li>elimina las rutas en el fichero <code>web.php</code> que afecten a este menú (exceptuando la ruta de inicio).</li>
<li>elimina las dos vistas <code>blog.blade.php</code> y <code>foto.blade.php</code>.</li>
</ul>
<p>Este borrado se debe a que NO vamos a continuar con estas vistas; solo eran un ejemplo de uso de directivas y la separación de código. </p>
</blockquote>
<p>Como has observado, nuestro anterior ejemplo contenía en el fichero <code>resources/views/layouts/app.php</code> un menú de navegación en el que se indicaba <em>Login</em> y <em>Crear cuenta</em>.</p>
<p>Crea las vistas para estos dos enlaces. Para ello alojarás sus dos vistas en una carpeta nueva <code>resources/views/auth</code> con nombre <code>register.blade.php</code> para <em>Crear cuenta</em>.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-64-1">1</a></span>
<span class="normal"><a href="#__codelineno-64-2">2</a></span>
<span class="normal"><a href="#__codelineno-64-3">3</a></span>
<span class="normal"><a href="#__codelineno-64-4">4</a></span>
<span class="normal"><a href="#__codelineno-64-5">5</a></span>
<span class="normal"><a href="#__codelineno-64-6">6</a></span>
<span class="normal"><a href="#__codelineno-64-7">7</a></span>
<span class="normal"><a href="#__codelineno-64-8">8</a></span>
<span class="normal"><a href="#__codelineno-64-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-64-1" name="__codelineno-64-1"></a><span class="x">@extends(&#39;layouts.app&#39;)</span>
<a id="__codelineno-64-2" name="__codelineno-64-2"></a>
<a id="__codelineno-64-3" name="__codelineno-64-3"></a><span class="x">@section(&#39;titulo&#39;)</span>
<a id="__codelineno-64-4" name="__codelineno-64-4"></a><span class="x">Regístrate en tu APP</span>
<a id="__codelineno-64-5" name="__codelineno-64-5"></a><span class="x">@endsection</span>
<a id="__codelineno-64-6" name="__codelineno-64-6"></a>
<a id="__codelineno-64-7" name="__codelineno-64-7"></a><span class="x">@section(&#39;contenido&#39;)</span>
<a id="__codelineno-64-8" name="__codelineno-64-8"></a>
<a id="__codelineno-64-9" name="__codelineno-64-9"></a><span class="x">@endsection    </span>
</code></pre></div></td></tr></table></div>
<p>Modificar en el fichero app.blade.app el menú de crear cuenta para que se pueda acceder des del enlace a la vista creada anteriormente:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-65-1">1</a></span>
<span class="normal"><a href="#__codelineno-65-2">2</a></span>
<span class="normal"><a href="#__codelineno-65-3">3</a></span>
<span class="normal"><a href="#__codelineno-65-4">4</a></span>
<span class="normal"><a href="#__codelineno-65-5">5</a></span>
<span class="normal"><a href="#__codelineno-65-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-65-1" name="__codelineno-65-1"></a>// ...
<a id="__codelineno-65-2" name="__codelineno-65-2"></a>&lt;nav class=&quot;flex gap-5 items-center&quot;&gt;
<a id="__codelineno-65-3" name="__codelineno-65-3"></a>   &lt;a class=&quot;font-bold uppercase text-gray-600 text-sm&quot; href=&quot;#&quot;&gt;Login&lt;/a&gt;
<a id="__codelineno-65-4" name="__codelineno-65-4"></a>   &lt;a class=&quot;font-bold uppercase text-gray-600 text-sm&quot; href={{ route(&#39;register&#39;) }}&gt;Crear cuenta&lt;/a&gt;
<a id="__codelineno-65-5" name="__codelineno-65-5"></a>&lt;/nav&gt; 
<a id="__codelineno-65-6" name="__codelineno-65-6"></a>// ..
</code></pre></div></td></tr></table></div>
<p>Añadir al fichero <code>web.php</code> la entrada:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-66-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-66-1" name="__codelineno-66-1"></a><span class="x">  Route::view(&#39;/crear-cuenta&#39;,&#39;auth.register&#39;) -&gt; name(&#39;register&#39;);  //la ruta contiene .</span>
</code></pre></div></td></tr></table></div>
<p><a href="# estructuras de control">[volver  ^]</a></p>
<h2 id="ejemplo-06-pasar-datos-a-una-vista">ejemplo 06. Pasar datos a una vista</h2>
<ol>
<li>Crear en <code>web.php</code> un array (de nombre <code>arrayProductos</code>) con, al menos, 4 ítems:</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-67-1">1</a></span>
<span class="normal"><a href="#__codelineno-67-2">2</a></span>
<span class="normal"><a href="#__codelineno-67-3">3</a></span>
<span class="normal"><a href="#__codelineno-67-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-67-1" name="__codelineno-67-1"></a><span class="x">  Route::get(&#39;listaproductos&#39;, function(){</span>
<a id="__codelineno-67-2" name="__codelineno-67-2"></a><span class="x">    $productos = [&#39;rosa&#39;,&#39;clavel&#39;,&#39;orquídea&#39;,&#39;lírio&#39;];</span>
<a id="__codelineno-67-3" name="__codelineno-67-3"></a><span class="x">    return view(&#39;pru1&#39;, compact(&#39;productos&#39;));</span>
<a id="__codelineno-67-4" name="__codelineno-67-4"></a><span class="x">  });</span>
</code></pre></div></td></tr></table></div>
<blockquote>
<p>Para pasar un array a una vista existen varios métodos:</p>
<ul>
<li>
<p>return view('pru1', ['productos' =&gt; $productos]);</p>
</li>
<li>
<p>return view('pru1') -&gt; with ('productos', $productos);</p>
</li>
<li>
<p><strong>return view('pru1', compact('productos'));</strong></p>
</li>
</ul>
<p>con la función de php compact se crea internamente un array con productos.</p>
</blockquote>
<ol>
<li>Pasar este array a una vista, de nombre <code>listaproductos.blade.php</code> y muéstralos en una tabla:</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-68-1">1</a></span>
<span class="normal"><a href="#__codelineno-68-2">2</a></span>
<span class="normal"><a href="#__codelineno-68-3">3</a></span>
<span class="normal"><a href="#__codelineno-68-4">4</a></span>
<span class="normal"><a href="#__codelineno-68-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-68-1" name="__codelineno-68-1"></a>&lt;?php
<a id="__codelineno-68-2" name="__codelineno-68-2"></a>    foreach ($productos as $item) {
<a id="__codelineno-68-3" name="__codelineno-68-3"></a>        echo &quot;&lt;li&gt;&quot;.$item.&quot;&lt;/li&gt;&quot;;
<a id="__codelineno-68-4" name="__codelineno-68-4"></a>    }
<a id="__codelineno-68-5" name="__codelineno-68-5"></a>?&gt;
</code></pre></div></td></tr></table></div>
<p>Pero como hemos visto, Laravel tiene unas directivas que funcionan en sus vistas y que se pueden utilizar de forma más elegante:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-69-1">1</a></span>
<span class="normal"><a href="#__codelineno-69-2">2</a></span>
<span class="normal"><a href="#__codelineno-69-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-69-1" name="__codelineno-69-1"></a><span class="x">@foreach ($usuarios as $item)</span>
<a id="__codelineno-69-2" name="__codelineno-69-2"></a><span class="x">    &lt;li&gt;{{ $item }}&lt;/li&gt;</span>
<a id="__codelineno-69-3" name="__codelineno-69-3"></a><span class="x">@endforeach</span>
</code></pre></div></td></tr></table></div>
<p><a href="# controladores">[volver  ^]</a></p>
<h2 id="ejemplo-07-controlador-registercontroller-y-su-formulario">ejemplo 07. Controlador RegisterController y su formulario</h2>
<p>En vez de usar <em>closures</em> (o <em>callbacks</em>) en el fichero <code>web.php</code> vamos a crear controladores en nuestro ejemplo y trasladar la lógica de negocio a estos últimos. Así, y siguiendo con los ejemplos anteriores, vamos a crear un controlador para gestionar el registro en nuestra APP (vamos a ordenar nuestros ficheros y colocaremos <code>RegisterConroller</code> dentro de la carpeta <code>Auth</code> y añadimos doble diagonal inversa <code>\\</code>).</p>
<p>Abrimos el CLI artisan (nuevo terminal en VS Code o <code>Ctrl</code>+`) en la carpeta de nuestro proyecto y ejecutamos:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-70-1">1</a></span>
<span class="normal"><a href="#__codelineno-70-2">2</a></span>
<span class="normal"><a href="#__codelineno-70-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-70-1" name="__codelineno-70-1"></a>php<span class="w"> </span>artisan<span class="w"> </span>make:controller<span class="w"> </span>Auth<span class="se">\\</span>RegisterController
<a id="__codelineno-70-2" name="__codelineno-70-2"></a><span class="c1"># ó, si no fuciona: </span>
<a id="__codelineno-70-3" name="__codelineno-70-3"></a><span class="c1"># sudo docker-compose exec myapp php artisan make:controller Auth\\RegisterController</span>
</code></pre></div></td></tr></table></div>
<p>En <code>web.php</code> modificar la ruta de <em>Crear cuenta</em> (quitar el <em>callback</em> y añadir el controlador y su método). Se recomienda como convención el nombre del método <code>index</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-71-1">1</a></span>
<span class="normal"><a href="#__codelineno-71-2">2</a></span>
<span class="normal"><a href="#__codelineno-71-3">3</a></span>
<span class="normal"><a href="#__codelineno-71-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-71-1" name="__codelineno-71-1"></a><span class="x">// ...</span>
<a id="__codelineno-71-2" name="__codelineno-71-2"></a><span class="x">use App\Http\Controllers\Auth\RegisterController;</span>
<a id="__codelineno-71-3" name="__codelineno-71-3"></a><span class="x">// ...</span>
<a id="__codelineno-71-4" name="__codelineno-71-4"></a><span class="x">Route::get(&#39;/register&#39;, [RegisterController::class, &#39;index&#39;]) -&gt; name(&#39;register&#39;);</span>
</code></pre></div></td></tr></table></div>
<p>Y en <code>RegisterController.php</code>, trasladamos la lógica de negocio que ejecutaba el <em>callback</em>, añadiendo la palabra reservada <code>public</code> y añadiendo también un nombre a esta función <code>index()</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-72-1">1</a></span>
<span class="normal"><a href="#__codelineno-72-2">2</a></span>
<span class="normal"><a href="#__codelineno-72-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-72-1" name="__codelineno-72-1"></a><span class="x">public function index() {</span>
<a id="__codelineno-72-2" name="__codelineno-72-2"></a><span class="x">    return view(&#39;auth.register&#39;);</span>
<a id="__codelineno-72-3" name="__codelineno-72-3"></a><span class="x">}</span>
</code></pre></div></td></tr></table></div>
<p>Para la vista de register <code>register.blade.php</code> vamos a introducir el código:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-73-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-73-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-73-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-73-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-73-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-73-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-73-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-73-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-73-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-73-10">10</a></span>
<span class="normal"><a href="#__codelineno-73-11">11</a></span>
<span class="normal"><a href="#__codelineno-73-12">12</a></span>
<span class="normal"><a href="#__codelineno-73-13">13</a></span>
<span class="normal"><a href="#__codelineno-73-14">14</a></span>
<span class="normal"><a href="#__codelineno-73-15">15</a></span>
<span class="normal"><a href="#__codelineno-73-16">16</a></span>
<span class="normal"><a href="#__codelineno-73-17">17</a></span>
<span class="normal"><a href="#__codelineno-73-18">18</a></span>
<span class="normal"><a href="#__codelineno-73-19">19</a></span>
<span class="normal"><a href="#__codelineno-73-20">20</a></span>
<span class="normal"><a href="#__codelineno-73-21">21</a></span>
<span class="normal"><a href="#__codelineno-73-22">22</a></span>
<span class="normal"><a href="#__codelineno-73-23">23</a></span>
<span class="normal"><a href="#__codelineno-73-24">24</a></span>
<span class="normal"><a href="#__codelineno-73-25">25</a></span>
<span class="normal"><a href="#__codelineno-73-26">26</a></span>
<span class="normal"><a href="#__codelineno-73-27">27</a></span>
<span class="normal"><a href="#__codelineno-73-28">28</a></span>
<span class="normal"><a href="#__codelineno-73-29">29</a></span>
<span class="normal"><a href="#__codelineno-73-30">30</a></span>
<span class="normal"><a href="#__codelineno-73-31">31</a></span>
<span class="normal"><a href="#__codelineno-73-32">32</a></span>
<span class="normal"><a href="#__codelineno-73-33">33</a></span>
<span class="normal"><a href="#__codelineno-73-34">34</a></span>
<span class="normal"><a href="#__codelineno-73-35">35</a></span>
<span class="normal"><a href="#__codelineno-73-36">36</a></span>
<span class="normal"><a href="#__codelineno-73-37">37</a></span>
<span class="normal"><a href="#__codelineno-73-38">38</a></span>
<span class="normal"><a href="#__codelineno-73-39">39</a></span>
<span class="normal"><a href="#__codelineno-73-40">40</a></span>
<span class="normal"><a href="#__codelineno-73-41">41</a></span>
<span class="normal"><a href="#__codelineno-73-42">42</a></span>
<span class="normal"><a href="#__codelineno-73-43">43</a></span>
<span class="normal"><a href="#__codelineno-73-44">44</a></span>
<span class="normal"><a href="#__codelineno-73-45">45</a></span>
<span class="normal"><a href="#__codelineno-73-46">46</a></span>
<span class="normal"><a href="#__codelineno-73-47">47</a></span>
<span class="normal"><a href="#__codelineno-73-48">48</a></span>
<span class="normal"><a href="#__codelineno-73-49">49</a></span>
<span class="normal"><a href="#__codelineno-73-50">50</a></span>
<span class="normal"><a href="#__codelineno-73-51">51</a></span>
<span class="normal"><a href="#__codelineno-73-52">52</a></span>
<span class="normal"><a href="#__codelineno-73-53">53</a></span>
<span class="normal"><a href="#__codelineno-73-54">54</a></span>
<span class="normal"><a href="#__codelineno-73-55">55</a></span>
<span class="normal"><a href="#__codelineno-73-56">56</a></span>
<span class="normal"><a href="#__codelineno-73-57">57</a></span>
<span class="normal"><a href="#__codelineno-73-58">58</a></span>
<span class="normal"><a href="#__codelineno-73-59">59</a></span>
<span class="normal"><a href="#__codelineno-73-60">60</a></span>
<span class="normal"><a href="#__codelineno-73-61">61</a></span>
<span class="normal"><a href="#__codelineno-73-62">62</a></span>
<span class="normal"><a href="#__codelineno-73-63">63</a></span>
<span class="normal"><a href="#__codelineno-73-64">64</a></span>
<span class="normal"><a href="#__codelineno-73-65">65</a></span>
<span class="normal"><a href="#__codelineno-73-66">66</a></span>
<span class="normal"><a href="#__codelineno-73-67">67</a></span>
<span class="normal"><a href="#__codelineno-73-68">68</a></span>
<span class="normal"><a href="#__codelineno-73-69">69</a></span>
<span class="normal"><a href="#__codelineno-73-70">70</a></span>
<span class="normal"><a href="#__codelineno-73-71">71</a></span>
<span class="normal"><a href="#__codelineno-73-72">72</a></span>
<span class="normal"><a href="#__codelineno-73-73">73</a></span>
<span class="normal"><a href="#__codelineno-73-74">74</a></span>
<span class="normal"><a href="#__codelineno-73-75">75</a></span>
<span class="normal"><a href="#__codelineno-73-76">76</a></span>
<span class="normal"><a href="#__codelineno-73-77">77</a></span>
<span class="normal"><a href="#__codelineno-73-78">78</a></span>
<span class="normal"><a href="#__codelineno-73-79">79</a></span>
<span class="normal"><a href="#__codelineno-73-80">80</a></span>
<span class="normal"><a href="#__codelineno-73-81">81</a></span>
<span class="normal"><a href="#__codelineno-73-82">82</a></span>
<span class="normal"><a href="#__codelineno-73-83">83</a></span>
<span class="normal"><a href="#__codelineno-73-84">84</a></span>
<span class="normal"><a href="#__codelineno-73-85">85</a></span>
<span class="normal"><a href="#__codelineno-73-86">86</a></span>
<span class="normal"><a href="#__codelineno-73-87">87</a></span>
<span class="normal"><a href="#__codelineno-73-88">88</a></span>
<span class="normal"><a href="#__codelineno-73-89">89</a></span>
<span class="normal"><a href="#__codelineno-73-90">90</a></span>
<span class="normal"><a href="#__codelineno-73-91">91</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-73-1" name="__codelineno-73-1"></a>@extends(&#39;layouts.app&#39;)
<a id="__codelineno-73-2" name="__codelineno-73-2"></a>
<a id="__codelineno-73-3" name="__codelineno-73-3"></a>@section(&#39;titulo&#39;)
<a id="__codelineno-73-4" name="__codelineno-73-4"></a>    Regístrate en la APP
<a id="__codelineno-73-5" name="__codelineno-73-5"></a>@endsection
<a id="__codelineno-73-6" name="__codelineno-73-6"></a>
<a id="__codelineno-73-7" name="__codelineno-73-7"></a>@section(&#39;contenido&#39;)
<a id="__codelineno-73-8" name="__codelineno-73-8"></a>  &lt;div class=&quot;md:flex md:justify-center md:gap-10 md:items-center&quot;&gt;
<a id="__codelineno-73-9" name="__codelineno-73-9"></a>    &lt;div class=&quot;md:w-6/12 p-5&quot;&gt;
<a id="__codelineno-73-10" name="__codelineno-73-10"></a>      &lt;img src=&quot;{{asset(&#39;images/dwes_registrar.png&#39;)}}&quot; alt=&quot;imagen registro usuario&quot;&gt;
<a id="__codelineno-73-11" name="__codelineno-73-11"></a>    &lt;/div&gt;
<a id="__codelineno-73-12" name="__codelineno-73-12"></a>
<a id="__codelineno-73-13" name="__codelineno-73-13"></a>    &lt;div class=&quot;md:w-4/12 bg-white p-6 rounded-lg shadow-xl&quot;&gt;
<a id="__codelineno-73-14" name="__codelineno-73-14"></a>      &lt;!-- todavía no existe ni método ni enlace en el form --&gt;
<a id="__codelineno-73-15" name="__codelineno-73-15"></a>      &lt;form action=&quot;&quot;&gt;
<a id="__codelineno-73-16" name="__codelineno-73-16"></a>        &lt;div&gt;
<a id="__codelineno-73-17" name="__codelineno-73-17"></a>          &lt;label for=&quot;name&quot; class=&quot;mb-2 block uppercase text-gray-500 font-bold&quot;&gt;
<a id="__codelineno-73-18" name="__codelineno-73-18"></a>              Nombre
<a id="__codelineno-73-19" name="__codelineno-73-19"></a>          &lt;/label&gt;
<a id="__codelineno-73-20" name="__codelineno-73-20"></a>          &lt;input 
<a id="__codelineno-73-21" name="__codelineno-73-21"></a>              id=&quot;name&quot;
<a id="__codelineno-73-22" name="__codelineno-73-22"></a>              name=&quot;name&quot;
<a id="__codelineno-73-23" name="__codelineno-73-23"></a>              type=&quot;text&quot;
<a id="__codelineno-73-24" name="__codelineno-73-24"></a>              placeholder=&quot;tu nombre&quot;
<a id="__codelineno-73-25" name="__codelineno-73-25"></a>              class=&quot;border p-3 w-full rounded-lg&quot;
<a id="__codelineno-73-26" name="__codelineno-73-26"></a>              /&gt;
<a id="__codelineno-73-27" name="__codelineno-73-27"></a>        &lt;/div&gt;
<a id="__codelineno-73-28" name="__codelineno-73-28"></a>
<a id="__codelineno-73-29" name="__codelineno-73-29"></a>        &lt;div&gt;
<a id="__codelineno-73-30" name="__codelineno-73-30"></a>          &lt;label for=&quot;username&quot; class=&quot;mb-2 block uppercase text-gray-500 font-bold&quot;&gt;
<a id="__codelineno-73-31" name="__codelineno-73-31"></a>              Nombre
<a id="__codelineno-73-32" name="__codelineno-73-32"></a>          &lt;/label&gt;
<a id="__codelineno-73-33" name="__codelineno-73-33"></a>          &lt;input 
<a id="__codelineno-73-34" name="__codelineno-73-34"></a>              id=&quot;username&quot;
<a id="__codelineno-73-35" name="__codelineno-73-35"></a>              name=&quot;username&quot;
<a id="__codelineno-73-36" name="__codelineno-73-36"></a>              type=&quot;text&quot;
<a id="__codelineno-73-37" name="__codelineno-73-37"></a>              placeholder=&quot;tu nombre de usuario&quot;
<a id="__codelineno-73-38" name="__codelineno-73-38"></a>              class=&quot;border p-3 w-full rounded-lg&quot;
<a id="__codelineno-73-39" name="__codelineno-73-39"></a>              /&gt;
<a id="__codelineno-73-40" name="__codelineno-73-40"></a>        &lt;/div&gt;
<a id="__codelineno-73-41" name="__codelineno-73-41"></a>
<a id="__codelineno-73-42" name="__codelineno-73-42"></a>        &lt;div&gt;
<a id="__codelineno-73-43" name="__codelineno-73-43"></a>          &lt;label for=&quot;email&quot; class=&quot;mb-2 block uppercase text-gray-500 font-bold&quot;&gt;
<a id="__codelineno-73-44" name="__codelineno-73-44"></a>              Email
<a id="__codelineno-73-45" name="__codelineno-73-45"></a>          &lt;/label&gt;
<a id="__codelineno-73-46" name="__codelineno-73-46"></a>          &lt;input 
<a id="__codelineno-73-47" name="__codelineno-73-47"></a>              id=&quot;email&quot;
<a id="__codelineno-73-48" name="__codelineno-73-48"></a>              name=&quot;email&quot;
<a id="__codelineno-73-49" name="__codelineno-73-49"></a>              type=&quot;text&quot;
<a id="__codelineno-73-50" name="__codelineno-73-50"></a>              placeholder=&quot;tu email de registro&quot;
<a id="__codelineno-73-51" name="__codelineno-73-51"></a>              class=&quot;border p-3 w-full rounded-lg&quot;
<a id="__codelineno-73-52" name="__codelineno-73-52"></a>              /&gt;
<a id="__codelineno-73-53" name="__codelineno-73-53"></a>        &lt;/div&gt;
<a id="__codelineno-73-54" name="__codelineno-73-54"></a>
<a id="__codelineno-73-55" name="__codelineno-73-55"></a>        &lt;div&gt;
<a id="__codelineno-73-56" name="__codelineno-73-56"></a>          &lt;label for=&quot;password&quot; class=&quot;mb-2 block uppercase text-gray-500 font-bold&quot;&gt;
<a id="__codelineno-73-57" name="__codelineno-73-57"></a>              Password
<a id="__codelineno-73-58" name="__codelineno-73-58"></a>          &lt;/label&gt;
<a id="__codelineno-73-59" name="__codelineno-73-59"></a>          &lt;input 
<a id="__codelineno-73-60" name="__codelineno-73-60"></a>              id=&quot;password&quot;
<a id="__codelineno-73-61" name="__codelineno-73-61"></a>              name=&quot;password&quot;
<a id="__codelineno-73-62" name="__codelineno-73-62"></a>              type=&quot;password&quot;
<a id="__codelineno-73-63" name="__codelineno-73-63"></a>              placeholder=&quot;tu contraseña de registro&quot;
<a id="__codelineno-73-64" name="__codelineno-73-64"></a>              class=&quot;border p-3 w-full rounded-lg&quot;
<a id="__codelineno-73-65" name="__codelineno-73-65"></a>              /&gt;
<a id="__codelineno-73-66" name="__codelineno-73-66"></a>        &lt;/div&gt;
<a id="__codelineno-73-67" name="__codelineno-73-67"></a>
<a id="__codelineno-73-68" name="__codelineno-73-68"></a>        &lt;div&gt;
<a id="__codelineno-73-69" name="__codelineno-73-69"></a>          &lt;label for=&quot;password_confirmation&quot; class=&quot;mb-2 block uppercase text-gray-500 font-bold&quot;&gt;
<a id="__codelineno-73-70" name="__codelineno-73-70"></a>              Repetir password
<a id="__codelineno-73-71" name="__codelineno-73-71"></a>          &lt;/label&gt;
<a id="__codelineno-73-72" name="__codelineno-73-72"></a>          &lt;!-- password_confirmation para validar posteriormente password --&gt;
<a id="__codelineno-73-73" name="__codelineno-73-73"></a>          &lt;input 
<a id="__codelineno-73-74" name="__codelineno-73-74"></a>              id=&quot;password_confirmation&quot;
<a id="__codelineno-73-75" name="__codelineno-73-75"></a>              name=&quot;password_confirmation&quot;
<a id="__codelineno-73-76" name="__codelineno-73-76"></a>              type=&quot;password&quot;
<a id="__codelineno-73-77" name="__codelineno-73-77"></a>              placeholder=&quot;repite la contraseña&quot;
<a id="__codelineno-73-78" name="__codelineno-73-78"></a>              class=&quot;border p-3 w-full rounded-lg&quot;
<a id="__codelineno-73-79" name="__codelineno-73-79"></a>              /&gt;
<a id="__codelineno-73-80" name="__codelineno-73-80"></a>        &lt;/div&gt;
<a id="__codelineno-73-81" name="__codelineno-73-81"></a>
<a id="__codelineno-73-82" name="__codelineno-73-82"></a>        &lt;br&gt;
<a id="__codelineno-73-83" name="__codelineno-73-83"></a>        &lt;input 
<a id="__codelineno-73-84" name="__codelineno-73-84"></a>            type=&quot;submit&quot;
<a id="__codelineno-73-85" name="__codelineno-73-85"></a>            value=&quot;Crear cuenta&quot;
<a id="__codelineno-73-86" name="__codelineno-73-86"></a>            class=&quot;bg-sky-600 hover:bg-sky-700 transition-colors 
<a id="__codelineno-73-87" name="__codelineno-73-87"></a>            cursor-pointer uppercase font-bold w-full p-3 text-white rounded-lg&quot;
<a id="__codelineno-73-88" name="__codelineno-73-88"></a>            /&gt;
<a id="__codelineno-73-89" name="__codelineno-73-89"></a>      &lt;/form&gt;
<a id="__codelineno-73-90" name="__codelineno-73-90"></a>  &lt;/div&gt;
<a id="__codelineno-73-91" name="__codelineno-73-91"></a>@endsection
</code></pre></div></td></tr></table></div>
<blockquote>
<p>A tener en cuenta:</p>
<ul>
<li>En <code>{{asset('images/dwes_registrar.png')}}</code>:</li>
<li><code>{{  }}</code> hace referencia a un echo.</li>
<li>
<p><code>asset()</code> hace referencia a la ruta <code>app/public</code> de Laravel.</p>
</li>
<li>
<p>El <code>input</code> <strong>password_confirmation</strong> del formulario tiene este nombre de forma '<em>obligatoria</em>'; es decir, el prefijo <code>_confirmation</code> hará que Laravel, internamente, compruebe que el input de nombre <em>password</em> y el input de nombre <em>password_confirmation</em> contengan la misma cadena.</p>
</li>
</ul>
</blockquote>
<p><a href="# tipos de request">[volver  ^]</a></p>
<h2 id="ejemplo-08-peticion-post">ejemplo 08. Petición post</h2>
<p>Vamos a crear ahora el enlace registrarse. Para ello accedemos a <code>web.php</code> e introducimos la linea con el método POST:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-74-1">1</a></span>
<span class="normal"><a href="#__codelineno-74-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-74-1" name="__codelineno-74-1"></a><span class="x">Route::get(&#39;/register&#39;, [RegisterController::class, &#39;index&#39;]) -&gt; name(&#39;register&#39;);</span>
<a id="__codelineno-74-2" name="__codelineno-74-2"></a><span class="x">Route::post(&#39;/register&#39;, [RegisterController::class, &#39;store&#39;]);</span>
</code></pre></div></td></tr></table></div>
<blockquote>
<p>A tener en cuenta</p>
<ul>
<li>No ponemos un alias en la segunda ruta porque va a tomar también el alias del anterior ruta.</li>
</ul>
</blockquote>
<p>Al  mismo tiempo, en nuestro controlador <code>RegisterController.php</code> agregamos la función <code>store</code> :</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-75-1">1</a></span>
<span class="normal"><a href="#__codelineno-75-2">2</a></span>
<span class="normal"><a href="#__codelineno-75-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-75-1" name="__codelineno-75-1"></a><span class="x">public function store() {</span>
<a id="__codelineno-75-2" name="__codelineno-75-2"></a><span class="x">        dd(&#39;formulario...&#39;);</span>
<a id="__codelineno-75-3" name="__codelineno-75-3"></a><span class="x">}</span>
</code></pre></div></td></tr></table></div>
<blockquote>
<p>La función <code>dd</code> (<em>dump or die</em>) en Laravel permite parar la ejecución en ese punto. Es decir, parecida a la función dump() pero finaliza la ejecución del script.</p>
</blockquote>
<p>Para terminar este punto, en la vista <code>register.blade.php</code> vamos a modificar la etiqueta <em>form</em> para que redireccione al action correspondiente con el método en qüestión. Fíjate que en action ponemos la función route y el nombre de la ruta:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-76-1">1</a></span>
<span class="normal"><a href="#__codelineno-76-2">2</a></span>
<span class="normal"><a href="#__codelineno-76-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-76-1" name="__codelineno-76-1"></a><span class="x">...</span>
<a id="__codelineno-76-2" name="__codelineno-76-2"></a><span class="x">&lt;form action=&quot;{{ route(&#39;register&#39;) }}&quot; method=&quot;POST&quot;&gt;   </span>
<a id="__codelineno-76-3" name="__codelineno-76-3"></a><span class="x">...</span>
</code></pre></div></td></tr></table></div>
<h3 id="problema-a-la-vista">problema a la "vista"!!</h3>
<p>Si recargamos la página y clicamos en el enlace vemos que nos muestra el siguiente error:</p>
<p><img src="./assets/ud07_laravel_005_error419.png" style="zoom:90%;" /></p>
<p><strong>¿Por qué una página expirada?</strong></p>
<p>Laravel es un framework enfocado a la seguridad (en este caso, se asegura que no suframos ataques del tipo XSRF o Cross Site Request Forgery). Así que Laravel tiene consideraciones de seguridad.</p>
<p>Para evitar estos ataques usaremos la directiva <code>@csrf</code> justo después de la linea de la etiqueta <code>&lt;form&gt;</code>.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-77-1">1</a></span>
<span class="normal"><a href="#__codelineno-77-2">2</a></span>
<span class="normal"><a href="#__codelineno-77-3">3</a></span>
<span class="normal"><a href="#__codelineno-77-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-77-1" name="__codelineno-77-1"></a>...
<a id="__codelineno-77-2" name="__codelineno-77-2"></a>&lt;form action=&quot;{{ route(&#39;register&#39;) }}&quot; method=&quot;POST&quot;&gt;   
<a id="__codelineno-77-3" name="__codelineno-77-3"></a>    @csrf
<a id="__codelineno-77-4" name="__codelineno-77-4"></a>...
</code></pre></div></td></tr></table></div>
<p>Si pulsamos <em>F12</em> para ver el código en el navegador se mostrará un campo oculto con un <em>token</em> oculto para validar la cadena y evitar este tipo de ataques:</p>
<p><img src="./assets/ud07_laravel_006_error419.png" style="zoom:70%;" /></p>
<p>Modificamos la función <code>store</code> para pasarle el objeto <code>$request</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-78-1">1</a></span>
<span class="normal"><a href="#__codelineno-78-2">2</a></span>
<span class="normal"><a href="#__codelineno-78-3">3</a></span>
<span class="normal"><a href="#__codelineno-78-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-78-1" name="__codelineno-78-1"></a><span class="x">public function store(Request $request) {</span>
<a id="__codelineno-78-2" name="__codelineno-78-2"></a><span class="x">    dd(request);</span>
<a id="__codelineno-78-3" name="__codelineno-78-3"></a><span class="x">    // dd(request-&gt;get(&#39;email&#39;));</span>
<a id="__codelineno-78-4" name="__codelineno-78-4"></a><span class="x">}</span>
</code></pre></div></td></tr></table></div>
<p>Si accedemos a la ruta <code>localhost/register</code> se observa la información del array <code>$request</code>:</p>
<p><img src="./assets/ud07_laravel_007_formulario.png" style="zoom:70%;" /></p>
<p><a href="# validación de formularios">[volver  ^]</a></p>
<h2 id="ejemplo-09-validacion-de-campos">ejemplo 09. Validación de campos</h2>
<p>Para validar los campos del formulario del controlador <code>RegisterController.php</code> podemos utilizar las reglas de validación siguientes; éstas se colocarán en la función <code>store</code> del controlador:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-79-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-79-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-79-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-79-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-79-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-79-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-79-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-79-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-79-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-79-10">10</a></span>
<span class="normal"><a href="#__codelineno-79-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-79-1" name="__codelineno-79-1"></a><span class="x">public function store(Request $request) {</span>
<a id="__codelineno-79-2" name="__codelineno-79-2"></a><span class="x">        //dd($request);</span>
<a id="__codelineno-79-3" name="__codelineno-79-3"></a><span class="x">        //dd($request-&gt;get(&#39;email&#39;));</span>
<a id="__codelineno-79-4" name="__codelineno-79-4"></a>
<a id="__codelineno-79-5" name="__codelineno-79-5"></a><span class="x">        //validación</span>
<a id="__codelineno-79-6" name="__codelineno-79-6"></a><span class="x">        $this-&gt;validate($request, [</span>
<a id="__codelineno-79-7" name="__codelineno-79-7"></a><span class="x">            &#39;name&#39; =&gt; [&#39;required&#39;, &#39;min:5&#39;],</span>
<a id="__codelineno-79-8" name="__codelineno-79-8"></a><span class="x">            &#39;username&#39;  =&gt; [&#39;required&#39;, &#39;unique:users&#39;, &#39;min:3&#39;, &#39;max:20&#39;],</span>
<a id="__codelineno-79-9" name="__codelineno-79-9"></a><span class="x">            &#39;email&#39; =&gt; [&#39;required&#39;, &#39;unique:users&#39;,&#39;email&#39;,&#39;max:60&#39;],</span>
<a id="__codelineno-79-10" name="__codelineno-79-10"></a><span class="x">            &#39;password&#39; =&gt; [&#39;required&#39;,&#39;confirmed&#39;,&#39;min:6&#39;]</span>
<a id="__codelineno-79-11" name="__codelineno-79-11"></a><span class="x">        ]);</span>
</code></pre></div></td></tr></table></div>
<blockquote>
<p><strong>por qué en <code>unique</code> se refiere a una tabla <code>users</code> que todavía no la hemos creado?</strong></p>
<p>Más adelante lo veremos, pero se puede obersar en la carpeta <code>database/migrations</code> que tenemos una migración de la tabla <code>users</code>. Laravel crea automáticamente estas tablas.</p>
</blockquote>
<p>Podemos observar que, en apariencia, no hace nada (o no muestra nada). Es decir, para mostrar un mensaje de error cuando no se cumpla una validación colocaremos la directiva <code>@error</code>...<code>@enderrror</code> en nuestro formulario (en el ejemplo <code>register.blade.php</code>) justo después del <code>&lt;input&gt;</code> en cuestión. </p>
<p>Siguiendo en el ejemplo:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-80-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-80-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-80-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-80-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-80-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-80-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-80-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-80-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-80-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-80-10">10</a></span>
<span class="normal"><a href="#__codelineno-80-11">11</a></span>
<span class="normal"><a href="#__codelineno-80-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-80-1" name="__codelineno-80-1"></a>&lt;input 
<a id="__codelineno-80-2" name="__codelineno-80-2"></a>    id=&quot;name&quot;
<a id="__codelineno-80-3" name="__codelineno-80-3"></a>    name=&quot;name&quot;
<a id="__codelineno-80-4" name="__codelineno-80-4"></a>    type=&quot;text&quot;
<a id="__codelineno-80-5" name="__codelineno-80-5"></a>    placeholder=&quot;tu nombre&quot;
<a id="__codelineno-80-6" name="__codelineno-80-6"></a>    class=&quot;border p-3 w-full rounded-lg&quot;
<a id="__codelineno-80-7" name="__codelineno-80-7"></a>    &gt;
<a id="__codelineno-80-8" name="__codelineno-80-8"></a>@error(&#39;name&#39;)
<a id="__codelineno-80-9" name="__codelineno-80-9"></a>  &lt;p class=&quot;bg-red-500 text-white my-2 rounded-lg text-sm p-2 text-center&quot;&gt;
<a id="__codelineno-80-10" name="__codelineno-80-10"></a>    el nombre es obligatorio
<a id="__codelineno-80-11" name="__codelineno-80-11"></a>  &lt;/p&gt;
<a id="__codelineno-80-12" name="__codelineno-80-12"></a>@enderror
</code></pre></div></td></tr></table></div>
<p><a href="# mostrar errores de forma dinámica">[volver  ^]</a></p>
<h2 id="ejemplo-10-mensajes-de-errores-dinamicos">ejemplo 10. Mensajes de errores dinámicos</h2>
<p>Como se ha comentado, la mejor opción de mostrar un mensaje de error en Laravel es de forma dinámica mediante <code>$message</code>:</p>
<p>En el ejemplo anterior, modificaríamos el contenido de la directiva <code>@error</code>.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-81-1">1</a></span>
<span class="normal"><a href="#__codelineno-81-2">2</a></span>
<span class="normal"><a href="#__codelineno-81-3">3</a></span>
<span class="normal"><a href="#__codelineno-81-4">4</a></span>
<span class="normal"><a href="#__codelineno-81-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-81-1" name="__codelineno-81-1"></a>@error(&#39;username&#39;)
<a id="__codelineno-81-2" name="__codelineno-81-2"></a>  &lt;p class=&quot;bg-red-500 text-white my-2 rounded-lg text-sm p-2 text-center&quot;&gt;
<a id="__codelineno-81-3" name="__codelineno-81-3"></a>    {{ $message }}
<a id="__codelineno-81-4" name="__codelineno-81-4"></a>  &lt;/p&gt;
<a id="__codelineno-81-5" name="__codelineno-81-5"></a>@enderror
</code></pre></div></td></tr></table></div>
<blockquote>
<p>A tener en cuenta:</p>
<ul>
<li>
<p>El párrafo se ha modificado para tener texto blanco sobre fondo rojo.</p>
</li>
<li>
<p>Si, además, queremos pintar de color rojo el campo en el que aparece el error, podemos poner en la clase del <em>input</em> un <code>@error</code> que diga que si existe un error en (por ejemplo) el campo <em>username</em> coloree el borde del campo en rojo:</p>
</li>
</ul>
<p><div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-82-1">1</a></span>
<span class="normal"><a href="#__codelineno-82-2">2</a></span>
<span class="normal"><a href="#__codelineno-82-3">3</a></span>
<span class="normal"><a href="#__codelineno-82-4">4</a></span>
<span class="normal"><a href="#__codelineno-82-5">5</a></span>
<span class="normal"><a href="#__codelineno-82-6">6</a></span>
<span class="normal"><a href="#__codelineno-82-7">7</a></span>
<span class="normal"><a href="#__codelineno-82-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-82-1" name="__codelineno-82-1"></a><span class="x">&lt;input </span>
<a id="__codelineno-82-2" name="__codelineno-82-2"></a><span class="x">    id=&quot;username&quot;</span>
<a id="__codelineno-82-3" name="__codelineno-82-3"></a><span class="x">    name=&quot;username&quot;</span>
<a id="__codelineno-82-4" name="__codelineno-82-4"></a><span class="x">    type=&quot;text&quot;</span>
<a id="__codelineno-82-5" name="__codelineno-82-5"></a><span class="x">    placeholder=&quot;tu nombre de usuario&quot;</span>
<a id="__codelineno-82-6" name="__codelineno-82-6"></a><span class="x">    class=&quot;border p-3 w-full rounded-lg</span>
<a id="__codelineno-82-7" name="__codelineno-82-7"></a><span class="x">           @error(&#39;username&#39;) border-red-500 @enderror&quot;</span>
<a id="__codelineno-82-8" name="__codelineno-82-8"></a><span class="x">&gt;</span>
</code></pre></div></td></tr></table></div>
</p>
</blockquote>
<p><a href="# mensajes en castellano">[volver  ^]</a></p>
<h2 id="ejemplo-11-mantener-valor-despues-de-un-error">ejemplo 11. Mantener valor después de un error</h2>
<p>Para 'guardar' del valor de un campo si volvemos al formulario en el atributo <code>value</code> del <code>input</code> colocaremos <code>{{ old('username') }}</code>. En el ejemplo de <code>username</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-83-1">1</a></span>
<span class="normal"><a href="#__codelineno-83-2">2</a></span>
<span class="normal"><a href="#__codelineno-83-3">3</a></span>
<span class="normal"><a href="#__codelineno-83-4">4</a></span>
<span class="normal"><a href="#__codelineno-83-5">5</a></span>
<span class="normal"><a href="#__codelineno-83-6">6</a></span>
<span class="normal"><a href="#__codelineno-83-7">7</a></span>
<span class="normal"><a href="#__codelineno-83-8">8</a></span>
<span class="normal"><a href="#__codelineno-83-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-83-1" name="__codelineno-83-1"></a>&lt;input 
<a id="__codelineno-83-2" name="__codelineno-83-2"></a>    id=&quot;username&quot;
<a id="__codelineno-83-3" name="__codelineno-83-3"></a>    name=&quot;username&quot;
<a id="__codelineno-83-4" name="__codelineno-83-4"></a>    type=&quot;text&quot;
<a id="__codelineno-83-5" name="__codelineno-83-5"></a>    placeholder=&quot;tu nombre de usuario&quot;
<a id="__codelineno-83-6" name="__codelineno-83-6"></a>    class=&quot;border p-3 w-full rounded-lg
<a id="__codelineno-83-7" name="__codelineno-83-7"></a>             @error(&#39;username&#39;) border-red-500 @enderror&quot;
<a id="__codelineno-83-8" name="__codelineno-83-8"></a>    value= &quot;{{ old(&#39;username&#39;) }}&quot;
<a id="__codelineno-83-9" name="__codelineno-83-9"></a>    &gt;
</code></pre></div></td></tr></table></div>
<blockquote>
<p>Entre las validaciones de Laravel también podrá verse la validación de HTML5. Si quieres deshabilitar esta última puedes introducir el atributo <code>novalidate</code> en la etiqueta <code>&lt;form ... novalidate&gt;</code>.</p>
<p>A partir de ahora, como tarea, puedes validar tú mismo todos los campos del formulario.</p>
</blockquote>
<p><a href="# confirmar password en otro campo">[volver  ^]</a></p>
<h2 id="ejemplo-12-confirmar-valor-del-password">ejemplo 12. Confirmar valor del password</h2>
<p>En el ejemplo, poner en el Blade que lleva el formulario:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-84-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-84-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-84-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-84-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-84-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-84-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-84-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-84-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-84-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-84-10">10</a></span>
<span class="normal"><a href="#__codelineno-84-11">11</a></span>
<span class="normal"><a href="#__codelineno-84-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-84-1" name="__codelineno-84-1"></a>&lt;div&gt;
<a id="__codelineno-84-2" name="__codelineno-84-2"></a>    &lt;label for=&quot;password_confirmation&quot; class=&quot;mb-2 block uppercase text-gray-500 font-bold&quot;&gt;
<a id="__codelineno-84-3" name="__codelineno-84-3"></a>      Repetir password
<a id="__codelineno-84-4" name="__codelineno-84-4"></a>    &lt;/label&gt;
<a id="__codelineno-84-5" name="__codelineno-84-5"></a>    &lt;input 
<a id="__codelineno-84-6" name="__codelineno-84-6"></a>      id=&quot;password_confirmation&quot;
<a id="__codelineno-84-7" name="__codelineno-84-7"></a>      name=&quot;password_confirmation&quot;
<a id="__codelineno-84-8" name="__codelineno-84-8"></a>      type=&quot;password&quot;
<a id="__codelineno-84-9" name="__codelineno-84-9"></a>      placeholder=&quot;repite la contraseña&quot;
<a id="__codelineno-84-10" name="__codelineno-84-10"></a>      class=&quot;border p-3 w-full rounded-lg&quot;
<a id="__codelineno-84-11" name="__codelineno-84-11"></a>    /&gt;
<a id="__codelineno-84-12" name="__codelineno-84-12"></a>&lt;/div&gt;
</code></pre></div></td></tr></table></div>
<p>Después, en el controlador en cuestión (<code>RegisterController.php</code>), poner la validación <code>confirmed</code> (ya se había introducido en anteriores ejemplos):</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-85-1">1</a></span>
<span class="normal"><a href="#__codelineno-85-2">2</a></span>
<span class="normal"><a href="#__codelineno-85-3">3</a></span>
<span class="normal"><a href="#__codelineno-85-4">4</a></span>
<span class="normal"><a href="#__codelineno-85-5">5</a></span>
<span class="normal"><a href="#__codelineno-85-6">6</a></span>
<span class="normal"><a href="#__codelineno-85-7">7</a></span>
<span class="normal"><a href="#__codelineno-85-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-85-1" name="__codelineno-85-1"></a><span class="x">//...</span>
<a id="__codelineno-85-2" name="__codelineno-85-2"></a><span class="x">        $this-&gt;validate($request, [</span>
<a id="__codelineno-85-3" name="__codelineno-85-3"></a><span class="x">            &#39;name&#39; =&gt; [&#39;required&#39;, &#39;min:5&#39;],</span>
<a id="__codelineno-85-4" name="__codelineno-85-4"></a><span class="x">            &#39;username&#39;  =&gt; [&#39;required&#39;, &#39;unique:users&#39;, &#39;min:3&#39;, &#39;max:20&#39;],</span>
<a id="__codelineno-85-5" name="__codelineno-85-5"></a><span class="x">            &#39;email&#39; =&gt; [&#39;required&#39;, &#39;unique:users&#39;,&#39;email&#39;,&#39;max:60&#39;],</span>
<a id="__codelineno-85-6" name="__codelineno-85-6"></a><span class="x">            &#39;password&#39; =&gt; [&#39;required&#39;,&#39;confirmed&#39;,&#39;min:6&#39;]</span>
<a id="__codelineno-85-7" name="__codelineno-85-7"></a><span class="x">        ]);</span>
<a id="__codelineno-85-8" name="__codelineno-85-8"></a><span class="x">//...</span>
</code></pre></div></td></tr></table></div>
<p><a href="# migraciones y la base de datos">[volver  ^]</a>  </p>
<h2 id="ejemplo-13-crear-usuario-en-la-app">ejemplo 13. Crear usuario en la app</h2>
<p>Como vemos, si intentamos crear un usuario en nuestro ejemplo de inserción de usuarios, se obtiene un error en el que nos indica que falta el campo <code>username</code> en la tabla <code>users</code>. Esto es debido a que, cuando se ha ejecutado, por primera vez, la migración este campo no existía. Para que la app funcione deberemos de migrar este campo.</p>
<p>Ejecutamos (el nombre lleva una convención de Laravel):</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-86-1">1</a></span>
<span class="normal"><a href="#__codelineno-86-2">2</a></span>
<span class="normal"><a href="#__codelineno-86-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-86-1" name="__codelineno-86-1"></a>php<span class="w"> </span>artisan<span class="w"> </span>make:migration<span class="w"> </span>add_username_to_users_table
<a id="__codelineno-86-2" name="__codelineno-86-2"></a><span class="c1"># ó, si no funciona:</span>
<a id="__codelineno-86-3" name="__codelineno-86-3"></a><span class="c1"># sudo docker-compose exec myapp php artisan make:migration add_username_to_users_table</span>
</code></pre></div></td></tr></table></div>
<p>Si accedemos al fichero generado en la carpeta <code>migrations</code> insertaremos el código que se muestra a continuación:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-87-1">1</a></span>
<span class="normal"><a href="#__codelineno-87-2">2</a></span>
<span class="normal"><a href="#__codelineno-87-3">3</a></span>
<span class="normal"><a href="#__codelineno-87-4">4</a></span>
<span class="normal"><a href="#__codelineno-87-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-87-1" name="__codelineno-87-1"></a><span class="x">//...</span>
<a id="__codelineno-87-2" name="__codelineno-87-2"></a><span class="x">    Schema::table(&#39;users&#39;, function(Blueprint $table)){</span>
<a id="__codelineno-87-3" name="__codelineno-87-3"></a><span class="x">        $table-&gt;string(&#39;username&#39;)-&gt; unique() -&gt; after(&#39;name&#39;);</span>
<a id="__codelineno-87-4" name="__codelineno-87-4"></a><span class="x">    });</span>
<a id="__codelineno-87-5" name="__codelineno-87-5"></a><span class="x">//...</span>
</code></pre></div></td></tr></table></div>
<p><img src="./assets/ud07_migraciones07.png" style="zoom:50%;" /></p>
<p>Para que los cambios surjan efecto, volvemos a ejecutar <code>migrate</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">PHP</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-88-1">1</a></span>
<span class="normal"><a href="#__codelineno-88-2">2</a></span>
<span class="normal"><a href="#__codelineno-88-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-88-1" name="__codelineno-88-1"></a><span class="x">php artisan migrate</span>
<a id="__codelineno-88-2" name="__codelineno-88-2"></a><span class="x"># ó, si no funciona:</span>
<a id="__codelineno-88-3" name="__codelineno-88-3"></a><span class="x"># sudo docker-compose exec myapp php artisan migrate</span>
</code></pre></div></td></tr></table></div>
<blockquote>
<p>Aunque se indique el campo <code>username</code> como <em>string</em> se creará en la base de datos como <em>varchar</em>.</p>
</blockquote>
<p>Siguiendo el ejemplo anterior ahora no nos dará error la inserción en el formulario.</p>
<p><a href="# modelos">[volver  ^]</a> </p>
<h1 id="referencias">referencias</h1>
<ul>
<li><a href="https://desarrolloweb.com/manuales/tutorial-composer.html">Tutorial de Composer</a></li>
<li><a href="https://www.freecodecamp.org/news/web-scraping-with-php-crawl-web-pages/">Web Scraping with PHP – How to Crawl Web Pages Using Open Source Tools</a></li>
<li><a href="https://zetcode.com/php/monolog/">PHP Monolog</a></li>
<li><a href="https://medium.com/@emilianozublena/unit-testing-con-phpunit-parte-1-148c6d73e822">Unit Testing con PHPUnit — Parte 1,</a> de Emiliano Zublena.</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.code.select", "content.code.annotate", "navigation.footer", "navigation.top"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.1e8ae164.min.js"></script>
      
    
  </body>
</html>